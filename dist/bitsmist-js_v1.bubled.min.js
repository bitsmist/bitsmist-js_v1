!function(){"use strict";var t=function(){};t.safeGet=function(t,e,n){for(var r=t,o=!0,i=e.split("."),s=0;s<i.length;s++){if(null===r||"object"!=typeof r||!(i[s]in r)){o=!1;break}r=r[i[s]]}return o?r:n},t.safeSet=function(e,n,r){var o=n.split("."),i=t.__createIntermediateObject(e,o);return t.assert(null!==i&&"object"==typeof i,"Util.safeSet(): Can't create an intermediate object. Non-object value already exists. key="+n+", existingKey="+(o.length>1?o[o.length-2]:"")+", existingValue="+i,TypeError),i[o[o.length-1]]=r,e},t.safeRemove=function(t,e){for(var n=!0,r=t,o=e.split("."),i=0;i<o.length-1;i++){if(!(o[i]in r)){n=!1;break}r=r[o[i]]}return n&&delete r[o[o.length-1]],t},t.safeMerge=function(e,n,r){var o=n.split("."),i=t.__createIntermediateObject(e,o);t.assert(i&&"object"==typeof i,"Util.safeSet(): Can't create an intermediate object. Non-object value already exists. key="+n+", existingKey="+(o.length>1?o[o.length-2]:"")+", existingValue="+i,TypeError);var s=o[o.length-1];return i[s]=t.deepMerge(i[s],r),e},t.safeHas=function(t,e){for(var n=t,r=!0,o=e.split("."),i=0;i<o.length;i++){if(!n||"object"!=typeof n||!(o[i]in n)){r=!1;break}n=n[o[i]]}return r},t.safeEval=function(t,e,n){var r,o=[];n&&(r=Object.keys(n).join(","),Object.keys(n).forEach((function(t){o.push(n[t])})));var i=!1;try{i=Function(r,'"use strict";return ('+t+")").apply(e,o)}catch(t){}return i},t.concatPath=function(t){for(var e=t[0]||"",n=1;n<t.length;n++)t[n]&&("/"===e.slice(e.length-1)&&"/"===t[n].slice(0,1)?e+=t[n].slice(1):"/"===e.slice(e.length-1)||"/"===t[n].slice(0,1)?e+=t[n]:e?e+="/"+t[n]:e=t[n]);return e},t.deepMerge=function(e,n){var r=e;return Array.isArray(e)?Array.isArray(n)?Array.prototype.push.apply(r,t.__cloneArr(n)):r.push(t.deepClone(n)):t.__isObject(e)&&t.__isMergeable(n)?Object.keys(n).forEach((function(o){r[o]=t.deepMerge(e[o],n[o])})):void 0===n||(r=t.deepClone(n)),r},t.deepClone=function(e){return Array.isArray(e)?t.__cloneArr(e):t.__isObject(e)?t.__cloneObj(e):e},t.getClassNameFromTagName=function(t){var e=t.split("-");return e[0].charAt(0).toUpperCase()+e[0].slice(1).toLowerCase()+e[1].charAt(0).toUpperCase()+e[1].slice(1).toLowerCase()},t.getTagNameFromClassName=function(e){var n,r=e,o=e.split("."),i=o[o.length-1];for(n=1;n<i.length&&!t.__isUpper(i.substring(n,n+1));n++);return n<i.length&&(r=i.substring(0,n).toLowerCase()+"-"+i.substring(n).toLowerCase()),r},t.parseURL=function(t){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=t.match(e),r={protocol:n[2],hostname:n[4],pathname:n[5],path:"",filename:"",filenameWithoutExtension:"",extension:"",query:n[7],hash:n[8]};r.path=(r.protocol?r.protocol+"://":"")+(r.hostname?r.hostname:"");var o=n[5].lastIndexOf("/");o>-1?(r.path+=n[5].substr(0,o+1),r.filename=n[5].substr(o+1)):r.filename=n[5];var i=r.filename.lastIndexOf(".");return i?(r.filenameWithoutExtension=r.filename.substr(0,i),r.extension=r.filename.substr(i+1)):r.filenameWithoutExtension=r.filename,r},t.assert=function(t,e,n,r){if(!t){var o=new(n=n||Error)(e),i=o.stack.split("\n");throw i.splice(1,1),o.stack=i.join("\n"),o}},t.warn=function(t,e,n,r){var o=!0;return t||(n=n||"warn",o=!1),o},t.randomWait=function(t,e){var n=e?t:Math.floor(Math.random()*t);return new Promise((function(t,e){setTimeout((function(){t()}),n)}))},t.scopedSelectorAll=function(t,e,n){var r=(new Date).getTime().toString(16)+Math.floor(100*Math.random()).toString(16);t.setAttribute("__bm_tempid",r);var o="[__bm_tempid='"+r+"'] ",i=o+e.replace(",",","+o),s=t.querySelectorAll(i),a=new Set(s);if(n&&!n.penetrate){var u=o+"[bm-powered] "+e.replace(",",", "+o+"[bm-powered] "),c=t.querySelectorAll(u);new Set(c).forEach((function(t){a.delete(t)}))}return t.removeAttribute("__bm_tempid"),Array.from(a)},t.getUUID=function(){for(var t="",e=0;e<32;e++){var n=16*Math.random()|0;8!=e&&12!=e&&16!=e&&20!=e||(t+="-"),t+=(12==e?4:16==e?3&n|8:n).toString(16)}return t},t.__isUpper=function(t){return t===t.toUpperCase()&&t!==t.toLowerCase()},t.__createIntermediateObject=function(e,n){for(var r=e,o=0;o<n.length-1;o++)t.assert(null!==r&&"object"==typeof r,"Util.safeSet(): Can't create an intermediate object. Non-object value already exists. existingKey="+(o>0?n[o-1]:"")+", existingValue="+r,TypeError),n[o]in r||(r[n[o]]={}),r=r[n[o]];return r},t.__cloneObj=function(e){var n={};return Object.keys(e).forEach((function(r){n[r]=t.deepClone(e[r])})),n},t.__cloneArr=function(e){for(var n=[],r=0;r<e.length;r++)n.push(t.deepClone(e[r]));return n},t.__isObject=function(t){var e=typeof t,n=t&&t.constructor&&t.constructor.name;return null!==t&&"Object"===n&&"function"!==e},t.__isMergeable=function(e){return t.__isObject(e)||Array.isArray(e)};var e=function(){};e.newComponent=function(t,n,r,o){r=r||BITSMIST.v1.Component;var i=Function("superClass","return function "+e.__validateClassName(t)+"(){ return Reflect.construct(superClass, [], this.constructor); }")(r);return e.inherit(i,r),(n=n||{}).settings=n.settings?n.settings:{},n.settings.name=t,i.prototype._getSettings=function(){return n},window[t]=i,o&&customElements.define(o.toLowerCase(),i),i},e.inherit=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},e.createObject=function(n){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];var i=e.getClass(n);return t.assert(i,"ClassUtil.createObject(): Class '"+n+"' is not defined.",ReferenceError),new(Function.prototype.bind.apply(i,[null].concat(r)))},e.getClass=function(t){var n;try{n=Function("return ("+e.__validateClassName(t)+")")()}catch(t){if(!(t instanceof ReferenceError))throw t}return n},e.__validateClassName=function(e){var n=/^[a-zA-Z0-9\-\._]+$/.test(e);return t.assert(n,"ClassUtil.__validateClassName(): Class name '"+e+"' is not valid.",TypeError),e};var n=function(){};n.ajaxRequest=function(e){return new Promise((function(n,r){var o=t.safeGet(e,"url"),i=t.safeGet(e,"method"),s=t.safeGet(e,"data",""),a=t.safeGet(e,"headers"),u=t.safeGet(e,"options"),c=new XMLHttpRequest;c.open(i,o,!0),u&&Object.keys(u).forEach((function(t){c[t]=u[t]})),a&&Object.keys(a).forEach((function(t){c.setRequestHeader(t,a[t])})),c.addEventListener("load",(function(){200===c.status||201===c.status?n(c):r(c)})),c.addEventListener("error",(function(){r(c)})),c.send(s)}))},n.loadScript=function(t){return new Promise((function(e,n){var r=document.createElement("script");r.src=t,r.async=!0,r.onload=function(){e()},r.onerror=function(t){n(t)},document.getElementsByTagName("head")[0].appendChild(r)}))};var r=function(e){this._options=e||{},this._items=t.safeGet(e,"items",{}),this.merger=t.safeGet(e,"merger",t.deepMerge)},o={options:{configurable:!0},items:{configurable:!0},merger:{configurable:!0}};o.options.get=function(){return this._options},o.options.set=function(t){this._options=t},o.items.get=function(){return this.clone()},o.items.set=function(t){this._items=t},o.merger.get=function(){this._merger},o.merger.set=function(e){t.assert("function"==typeof e,"Store.merger(setter): Merger is not a function. merger="+e,TypeError),this._merger=e},r.prototype.clear=function(){this._items={}},r.prototype.clone=function(){return t.deepMerge({},this._items)},r.prototype.merge=function(t,e){e=e||this._merger;for(var n=Array.isArray(t)?t:[t],r=0;r<n.length;r++)this._items=e(this._items,n[r])},r.prototype.get=function(e,n){return t.safeGet(this._items,e,n)},r.prototype.set=function(e,n,r){if(r&&r.merge)return t.safeMerge(this._items,e,defaultValue);t.safeSet(this._items,e,n)},r.prototype.remove=function(e){t.safeRemove(this._items,e)},r.prototype.has=function(e){return t.safeHas(this._items,e)},Object.defineProperties(r.prototype,o);var i=function(e){function n(n){e.call(this,n),this._chain;var r=t.safeGet(this._options,"chain");r&&this.chain(r)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={localItems:{configurable:!0}};return r.localItems.get=function(){return e.prototype.clone.call(this)},n.prototype.clone=function(){return this._chain?t.deepMerge(this._chain.clone(),this._items):e.prototype.clone.call(this)},n.prototype.chain=function(e){t.assert(e instanceof n,'ChainableStore.chain(): "store" parameter must be a ChainableStore.',TypeError),this._chain=e},n.prototype.get=function(t,n){var r=n;return e.prototype.has.call(this,t)?r=e.prototype.get.call(this,t,n):this._chain&&(r=this._chain.get(t,n)),r},n.prototype.merge=function(t,n){this._options.writeThrough?this._chain.merge(t,n):e.prototype.merge.call(this,t,n)},n.prototype.set=function(n,r,o){t.safeGet(o,"writeThrough",this._options.writeThrough)?this._chain.set(n,r,o):e.prototype.set.call(this,n,r,o)},n.prototype.has=function(e){var n=t.safeHas(this._items,e);return!1===n&&this._chain&&(n=t.safeHas(this._chain._items,e)),n},Object.defineProperties(n.prototype,r),n}(r),s=function(){},a={name:{configurable:!0}};a.name.get=function(){return"Organizer"},s.getInfo=function(){return{}},s.globalInit=function(){},s.init=function(t,e){},s.deinit=function(t,e){},s.getEditor=function(){return""},s._addOrganizerHandler=function(t,e,n){t.addEventHandler(e,{handler:n,order:this.getInfo().order})},Object.defineProperties(s,a);var u=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={name:{configurable:!0},organizers:{configurable:!0}};return r.name.get=function(){return"OrganizerOrganizer"},r.organizers.get=function(){return n._organizers},n.getInfo=function(){return{sections:"organizers",order:0}},n.globalInit=function(){Object.defineProperty(BITSMIST.v1.Component.prototype,"organizers",{get:function(){return this._organizers}})},n.init=function(t,e){BITSMIST.v1.Component.prototype.attachOrganizers=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._attachOrganizers.apply(n,[this].concat(t))}},n.attach=function(t,e,r){if(t._organizers=t._organizers||{},!t._organizers[e.name]){for(var o=n._organizers[e.name].depends,i=0;i<o.length;i++)n.attach(t,n._organizers[o[i]].object,r);return t._organizers[e.name]={object:e},e.init(t,r)}},n.register=function(t){var e=t.getInfo();e.sections=e.sections||[],e.sections=Array.isArray(e.sections)?e.sections:[e.sections],e.order="order"in e?e.order:500,e.depends=e.depends||[],e.depends=Array.isArray(e.depends)?e.depends:[e.depends],n._organizers[t.name]={name:t.name,object:t,sections:e.sections,order:e.order,depends:e.depends},t.globalInit();for(var r=0;r<e.sections.length;r++)n._sections[e.sections[r]]=n._organizers[t.name]},n._attachOrganizers=function(t,e){var r=e.settings,o=Promise.resolve(),i=n.__listNewOrganizers(t,r);return n.__sortItems(i).forEach((function(r){o=o.then((function(){return n.attach(t,n._organizers[r].object,e)}))})),o},n.__listNewOrganizers=function(e,r){var o={};Promise.resolve();var i=r.organizers;return i&&Object.keys(i).forEach((function(r){t.assert(n._organizers[r],"OrganizerOrganizer.__listNewOrganizer(): Organizer not found. name="+e.name+", organizerName="+r),t.safeGet(i[r],"settings.attach")&&!e._organizers[r]&&(o[r]=n._organizers[r])})),Object.keys(r).forEach((function(t){var r=n._sections[t];r&&!e._organizers[r.name]&&(o[r.name]=r)})),o},n.__sortItems=function(t){return Object.keys(t).sort((function(e,n){return t[e].order-t[n].order}))},Object.defineProperties(n,r),n}(s);u._organizers={},u._sections={};var c=function(e){function r(){e.apply(this,arguments)}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var o={name:{configurable:!0}};return o.name.get=function(){return"SettingOrganizer"},r.SettingOrganizer_onDoOrganize=function(e,n,r){this._name=t.safeGet(n.detail.settings,"settings.name",this._name),this._rootElement=t.safeGet(n.detail.settings,"settings.rootElement",this._rootElement)},r.getInfo=function(){return{sections:"settings",order:10}},r.globalInit=function(){Object.defineProperty(BITSMIST.v1.Component.prototype,"settings",{get:function(){return this._settings}}),BITSMIST.v1.Component.prototype.loadSettings=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r._loadSettings.apply(r,[this].concat(t))},BITSMIST.v1.Component.prototype._enumSettings=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r._enumSettings.apply(r,t)}},r.init=function(t,e){var n=e.settings||{};return t._settings=new i({items:n}),this._addOrganizerHandler(t,"doOrganize",r.SettingOrganizer_onDoOrganize),t._settings.get("settings.useGlobalSettings")&&t._settings.chain(BITSMIST.v1.settings),Promise.resolve().then((function(){return r._loadExternalSetting(t,"setting")})).then((function(){r._loadAttrSettings(t)})).then((function(){return t.attachOrganizers({settings:t._settings.items})})).then((function(){return t.trigger("doOrganize",{settings:t._settings.items})})).then((function(){return t.trigger("afterLoadSettings",{settings:t._settings.items})}))},r.loadFile=function(e,r,o){var i,s=t.safeGet(o,"type","js"),a=t.safeGet(o,"query"),u=t.concatPath([r,e+"."+s])+(a?"?"+a:"");return n.ajaxRequest({url:u,method:"GET"}).then((function(e){if("json"===s)try{i=JSON.parse(e.responseText)}catch(t){throw t instanceof SyntaxError?new SyntaxError("Illegal json string. url="+u+", message="+t.message):t}else{var n=t.safeGet(o,"bindTo");i=Function('"use strict";return ('+e.responseText+")").call(n)}return i}))},r._loadSettings=function(e,n,o){var i;return Promise.resolve().then((function(){return i=t.safeGet(o,"path",t.concatPath([e.settings.get("system.appBaseUrl"),e.settings.get("system.componentPath"),e.settings.get("settings.path","")])),r.loadFile(n,i,Object.assign({type:"js",bindTo:e},o))})).then((function(t){t&&e.settings.merge(t)}))},r._loadExternalSetting=function(e,n){var o,i={};if(e.hasAttribute("bm-"+n+"ref")){var s=t.parseURL(e.getAttribute("bm-"+n+"ref"));o=s.filenameWithoutExtension,i.path=s.path,i.query=s.query}else{var a=e.hasAttribute("bm-"+n+"path")?e.getAttribute("bm-"+n+"path"):"";o=e.hasAttribute("bm-"+n+"name")?e.getAttribute("bm-"+n+"name"):"",a&&!o&&(o="settings"),i.path=a}if(o||i.path)return r._loadSettings(e,o,i)},r._loadAttrSettings=function(t){var e=document.querySelector(t._settings.get("settings.rootNode"))?document.querySelector(t._settings.get("settings.rootNode")).getAttribute("bm-settings"):t.getAttribute("bm-settings");if(e){var n={settings:JSON.parse(e)};t._settings.merge(n)}},r._enumSettings=function(e,n){t.assert("function"==typeof n,"not function"),e&&Object.keys(e).forEach((function(t){"settings"!==t&&n(t,e[t])}))},Object.defineProperties(r,o),r}(s);function l(){return Reflect.construct(HTMLElement,[],this.constructor)}e.inherit(l,HTMLElement),l.prototype.connectedCallback=function(){var e=this;this._ready||(this._ready=Promise.resolve(),this.setAttribute("bm-powered",""),this._uniqueId=t.getUUID(),this._name=this.constructor.name,this._rootElement=this),this._ready=this._ready.then((function(){return e.changeState("connected")})).then((function(){return!e._initialized||e.settings.get("settings.autoRestart")?(e._initialized=!0,e.start()):e.changeState("ready")}))},l.prototype.disconnectedCallback=function(){var t=this;this._ready=this._ready.then((function(){if(t.settings.get("settings.autoStop"))return t.stop()})).then((function(){return t.changeState("disconnected")}))},l.prototype.adoptedCallback=function(){},l.prototype.attributeChangedCallback=function(){},Object.defineProperty(l.prototype,"name",{get:function(){return this._name}}),Object.defineProperty(l.prototype,"uniqueId",{get:function(){return this._uniqueId}}),Object.defineProperty(l.prototype,"rootElement",{get:function(){return this._rootElement}}),l.prototype.start=function(e){var n=this;return e=t.deepMerge({settings:{autoClear:!0,autoFetch:!0,autoFill:!0,autoRefresh:!0,autoRestart:!1,autoSetup:!0,autoStop:!0,autoTransform:!0,useGlobalSettings:!0},organizers:{StateOrganizer:{settings:{attach:!0}},EventOrganizer:{settings:{attach:!0}},TemplateOrganizer:{settings:{attach:!0}},ComponentOrganizer:{settings:{attach:!0}}}},e),Promise.resolve().then((function(){return u.attach(n,u)})).then((function(){return n._injectSettings(e)})).then((function(t){return n.__mergeSettings(t)})).then((function(t){return u.attach(n,c,{settings:t})})).then((function(){return n.trigger("beforeStart")})).then((function(){return n.changeState("starting")})).then((function(){if(n.settings.get("settings.autoTransform"))return n.transform()})).then((function(){if(n.settings.get("settings.autoRefresh"))return n.refresh()})).then((function(){return n.trigger("doStart")})).then((function(){return window.getComputedStyle(n).getPropertyValue("visibility"),n.changeState("started")})).then((function(){return n.trigger("afterStart")})).then((function(){return n.changeState("ready")})).then((function(){return n.trigger("afterReady")}))},l.prototype.stop=function(t){var e=this;return t=t||{},Promise.resolve().then((function(){return e.changeState("stopping")})).then((function(){return e.trigger("beforeStop",t)})).then((function(){return e.trigger("doStop",t)})).then((function(){return e.changeState("stopped")})).then((function(){return e.trigger("afterStop",t)}))},l.prototype.transform=function(e){var n=this;e=e||{};t.safeGet(e,"templateName","");return Promise.resolve().then((function(){return n.trigger("beforeTransform",e)})).then((function(){return n.trigger("doTransform",e)})).then((function(){if(n.settings.get("settings.autoSetup"))return n.setup(e)})).then((function(){return n.loadTags(n.rootElement)})).then((function(){return n.trigger("afterTransform",e)}))},l.prototype.setup=function(t){var e=this;return t=t||{},Promise.resolve().then((function(){return e.trigger("beforeSetup",t)})).then((function(){return e.trigger("doSetup",t)})).then((function(){return e.trigger("afterSetup",t)}))},l.prototype.refresh=function(e){var n=this;return e=e||{},Promise.resolve().then((function(){return n.trigger("beforeRefresh",e)})).then((function(){if(t.safeGet(e,"autoClear",n.settings.get("settings.autoClear")))return n.clear()})).then((function(){return n.trigger("doTarget",e)})).then((function(){if(t.safeGet(e,"autoFetch",n.settings.get("settings.autoFetch")))return n.fetch(e)})).then((function(){if(t.safeGet(e,"autoFill",n.settings.get("settings.autoFill")))return n.fill(e)})).then((function(){return n.trigger("doRefresh",e)})).then((function(){return n.trigger("afterRefresh",e)}))},l.prototype.fetch=function(t){var e=this;return t=t||{},Promise.resolve().then((function(){return e.trigger("beforeFetch",t)})).then((function(){return e.trigger("doFetch",t)})).then((function(){return e.trigger("afterFetch",t)})).then((function(){}))},l.prototype.fill=function(t){var e=this;return t=t||{},Promise.resolve().then((function(){return e.trigger("beforeFill",t)})).then((function(){return e.trigger("doFill",t)})).then((function(){return e.trigger("afterFill",t)}))},l.prototype.clear=function(t){var e=this;return Promise.resolve().then((function(){return e.trigger("beforeClear",t)})).then((function(){return e.trigger("doClear",t)})).then((function(){return e.trigger("afterClear",t)}))},l.prototype.scopedSelectorAll=function(e){return t.scopedSelectorAll(this,e)},l.prototype._injectSettings=function(t){return t},l.prototype._getSettings=function(){return{}},l.prototype.__mergeSettings=function(e){for(var n,r=Object.getPrototypeOf(this),o={};"function"==typeof Object.getPrototypeOf(r)._getSettings;)n=Object.getPrototypeOf(r)._getSettings(),Object.keys(n).length>0&&(t.deepMerge(n,o),o=n),r=Object.getPrototypeOf(r);return t.deepMerge(e,o),t.deepMerge(e,this._getSettings()),e},customElements.define("bm-component",l);var p=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={name:{configurable:!0}};return o.name.get=function(){return"StateOrganizer"},n.StateOrganizer_onDoOrganize=function(t,e,r){var o=this;this._enumSettings(e.detail.settings.waitFor,(function(t,e){o.addEventHandler(t,{handler:n.StateOrganizer_onDoProcess,options:e})}))},n.StateOrganizer_onDoProcess=function(t,e,r){return n._waitFor(this,r.options)},n.getInfo=function(){return{sections:"waitFor",order:100}},n.globalInit=function(){Object.defineProperty(BITSMIST.v1.Component.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t}}),BITSMIST.v1.Component.prototype.changeState=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._changeState.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.waitFor=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._waitFor.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.suspend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._suspend.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.resume=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._resume.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.pause=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._pause.apply(n,[this].concat(t))},n._components=new r,n._waitingList=new r,n.__suspends={},n.waitFor=function(t,e){return n._waitFor(null,t,e)}},n.init=function(t,e){t._state="",t._suspends={},n._loadAttrSettings(t),this._addOrganizerHandler(t,"doOrganize",n.StateOrganizer_onDoOrganize)},n.globalSuspend=function(t){n.__suspends[t]=n.__createSuspendInfo(t),n.__suspends[t].state="pending"},n.globalResume=function(t){n.__suspends[t].resolve(),n.__suspends[t].state="resolved"},n._waitFor=function(e,r,o){var i,s=o&&o.timeout||e&&e.settings.get("system.waitForTimeout")||BITSMIST.v1.settings.get("system.waitForTimeout",1e4),a={waiter:o&&o.waiter?o.waiter:e,waitlist:t.deepClone(r)};return n.__isAllReady(a)?i=Promise.resolve():(i=new Promise((function(t,o){a.resolve=t,a.reject=o,a.timer=setTimeout((function(){var t=e&&e.name||a.waiter&&a.waiter.tagName||"";o("StateOrganizer._waitFor(): Timed out after "+s+" milliseconds waiting for "+n.__dumpWaitlist(r)+", name="+t+", uniqueId="+e.uniqueId+".")}),s)})),a.promise=i,n.__addToWaitingList(a)),i},n._changeState=function(e,r){t.assert(n.__isTransitionable(e._state,r),"StateOrganizer._changeState(): Illegal transition. name="+e.name+", fromState="+e._state+", toState="+r+", id="+e.id,Error),e._state=r,n._components.set(e.uniqueId,{object:e,state:r}),n.__processWaitingList()},n._suspend=function(t,e){t._suspends[e]=n.__createSuspendInfo(),t._suspends[e].state="pending"},n._resume=function(t,e){t._suspends[e].resolve(),t._suspends[e].state="resolved"},n._pause=function(t,e){var r=[];return n.__suspends[e]&&"pending"===n.__suspends[e].state&&!t.settings.get("settings.ignoreGlobalSuspend")&&r.push(n.__suspends[e].promise),t._suspends[e]&&"pending"===t._suspends[e].state&&r.push(t._suspends[e].promise),Promise.all(r)},n._loadAttrSettings=function(t){if(t.hasAttribute("bm-waitfor")){var e={name:t.getAttribute("bm-waitfor"),state:"ready"};t.settings.merge({waitFor:[e]})}if(t.hasAttribute("bm-waitfornode")){var n={rootNode:t.getAttribute("bm-waitfornode"),state:"ready"};t.settings.merge({waitFor:[n]})}},n.__processWaitingList=function(){var t=[];Object.keys(n._waitingList.items).forEach((function(e){n.__isAllReady(n._waitingList.get(e))&&(clearTimeout(n._waitingList.get(e).timer),n._waitingList.get(e).resolve(),t.push(e))}));for(var e=0;e<t.length;e++)n._waitingList.remove(t[e])},n.__addToWaitingList=function(e){var r=t.getUUID();n._waitingList.set(r,e)},n.__isTransitionable=function(t,e){var n=!0;return t&&"ing"===t.slice(-3)&&("stopping"===t&&"stopped"!==e||"starting"===t&&"started"!==e)&&(n=!1),n},n.__getComponentInfo=function(t){var e;if(t.id)e=n._components.get(t.id);else if(t.name)Object.keys(n._components.items).forEach((function(r){t.name===n._components.get(r).object.name&&(e=n._components.get(r))}));else if(t.rootNode){var r=document.querySelector(t.rootNode);r&&r.uniqueId&&(e=n._components.get(r.uniqueId))}else if(t.object){var o=t.object;o.uniqueId&&(e=n._components.get(o.uniqueId))}return e},n.__isAllReady=function(t){for(var e=!0,r=t.waitlist,o=0;o<r.length;o++){var i=!1,s=this.__getComponentInfo(r[o]);if(s&&n.__isReady(r[o],s)&&(i=!0),!i){e=!1;break}}return e},n.__isReady=function(t,e){var r=n.__isComponentMatch(e,t);return r&&(r=n.__isStateMatch(e.state,t.state)),r},n.__isComponentMatch=function(t,e){var n=!0;return(e.object&&t.object!==e.object||e.name&&t.object.name!==e.name||e.id&&t.object.uniqueId!==e.id||e.rootNode&&!document.querySelector(e.rootNode))&&(n=!1),n},n.__isStateMatch=function(t,e){e=e||"ready";var n=!1;switch(t){case"ready":"ready"!==e&&"started"!==e&&"starting"!==e||(n=!0);break;case"started":"started"!==e&&"starting"!==e||(n=!0);break;case"stopped":"stopped"!==e&&"stopping"!==e||(n=!0);break;default:t===e&&(n=!0)}return n},n.__dumpWaitlist=function(t){for(var e="",n=0;n<t.length;n++){e+="\n\t{"+(t[n].id?"id:"+t[n].id+",":"")+(t[n].name?"name:"+t[n].name+",":"")+(t[n].object?"element:"+t[n].object.tagName+",":"")+(t[n].rootNode?"node:"+t[n].rootNode+",":"")+(t[n].state?"state:"+t[n].state:"")+"},"}return"["+e+"\n]"},n.__createSuspendInfo=function(){var t={},e=new Promise((function(e,n){t.resolve=e,t.reject=n,t.state="pending"}));return t.promise=e,t},Object.defineProperties(n,o),n}(s),f=function(e){function r(){e.apply(this,arguments)}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var o={name:{configurable:!0}};return o.name.get=function(){return"TemplateOrganizer"},r.TemplateOrganizer_onDoOrganize=function(t,e,n){var r=this,o=[];this._enumSettings(e.detail.settings.templates,(function(t,e){"html"!==e.type&&"url"!==e.type||o.push(r.loadTemplate(t))}))},r.TemplateOrganizer_onDoTransform=function(t,e,n){var r=this;if(this.settings.get("templates.settings.hasTemplate",!0)){var o=this.settings.get("templates.settings.templateName");return Promise.resolve().then((function(){return r.loadTemplate(o)})).then((function(){return r.applyTemplate(o)}))}},r.TemplateOrganizer_onAfterTransform=function(t,e,n){var r=this,o=[];return this._enumSettings(this.settings.get("templates"),(function(t,e){"node"===e.type&&o.push(r.loadTemplate(t))})),Promise.all(o)},r.getInfo=function(){return{sections:"templates",order:200}},r.globalInit=function(){Object.defineProperty(BITSMIST.v1.Component.prototype,"templates",{get:function(){return this._templates}}),Object.defineProperty(BITSMIST.v1.Component.prototype,"activeTemplateName",{get:function(){return this._activeTemplateName},set:function(t){this._activeTemplateName=t}}),BITSMIST.v1.Component.prototype.loadTemplate=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r._loadTemplate.apply(r,[this].concat(t))},BITSMIST.v1.Component.prototype.applyTemplate=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r._applyTemplate.apply(r,[this].concat(t))},BITSMIST.v1.Component.prototype.cloneTemplate=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r._clone.apply(r,[this].concat(t))}},r.init=function(t,e){if(t._templates={},t._activeTemplateName="",!t.settings.get("templates.settings.templateName")){var n=t.settings.get("settings.fileName",t.tagName.toLowerCase());t.settings.set("templates.settings.templateName",n)}this._addOrganizerHandler(t,"doOrganize",r.TemplateOrganizer_onDoOrganize),this._addOrganizerHandler(t,"doTransform",r.TemplateOrganizer_onDoTransform),this._addOrganizerHandler(t,"afterTransform",r.TemplateOrganizer_onAfterTransform)},r.loadFile=function(e,r,o){var i=t.safeGet(o,"query"),s=t.concatPath([r,e])+".html"+(i?"?"+i:"");return n.ajaxRequest({url:s,method:"GET"}).then((function(t){return t.responseText}))},r._loadTemplate=function(e,n,o){var i,s=e._templates[n]||r.__createTemplateInfo(e,n);if(s.isLoaded)return Promise.resolve();var a=e.settings.get("templates."+n,{});switch(a.type){case"html":s.html=a.html,i=Promise.resolve();break;case"node":s.html=e.querySelector(a.rootNode).innerHTML,i=Promise.resolve();break;default:var u=t.safeGet(o,"path",t.concatPath([e.settings.get("system.appBaseUrl",""),e.settings.get("system.templatePath",e.settings.get("system.componentPath","")),e.settings.get("settings.path","")]));i=r.loadFile(s.name,u,o).then((function(t){s.html=t}))}return i.then((function(){s.isLoaded=!0}))},r._applyTemplate=function(e,n){if(e._activeTemplateName===n)return Promise.resolve();var o=e._templates[n];if(t.assert(o,"TemplateOrganizer._applyTemplate(): Template not loaded. name="+e.name+", templateName="+n+", id="+e.id+", uniqueId="+e.uniqueId,ReferenceError),o.node){var i=r.clone(e,o.name);e.insertBefore(i,e.firstChild)}else e.innerHTML=o.html;e._activeTemplateName=n},r._clone=function(e,n){n=n||e.settings.get("settings.templateName");var r,o=e._templates[n];if(t.assert(o,"TemplateOrganizer._clone(): Template not loaded. name="+e.name+", templateName="+n+", id="+e.id+", uniqueId="+e.uniqueId,ReferenceError),o.node)r=document.importNode(o.node,!0);else{var i=document.createElement("div");i.innerHTML=o.html,r=i.firstElementChild}return r},r.__createTemplateInfo=function(t,e){return t._templates[e]||(t._templates[e]={},t._templates[e].name=e,t._templates[e].html="",t._templates[e].isLoaded=!1),t._templates[e]},Object.defineProperties(r,o),r}(s),g=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={name:{configurable:!0}};return r.name.get=function(){return"EventOrganizer"},n.EventOrganizer_onDoOrganize=function(t,e,r){var o=this;this._enumSettings(e.detail.settings.events,(function(t,e){n._initEvents(o,t,e)}))},n.EventOrganizer_onAfterTransform=function(t,e,r){var o=this;this._enumSettings(this.settings.get("events"),(function(t,e){n.__isTargetSelf(t,e)||n._initEvents(o,t,e)}))},n.getInfo=function(){return{sections:"events",order:210}},n.globalInit=function(){BITSMIST.v1.Component.prototype.initEvents=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];n._initEvents.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.addEventHandler=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];n._addEventHandler.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.trigger=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._trigger.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.triggerAsync=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._triggerAsync.apply(n,[this].concat(t))},BITSMIST.v1.Component.prototype.removeEventHandler=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._removeEventHandler.apply(n,[this].concat(t))}},n.init=function(t,e){this._addOrganizerHandler(t,"doOrganize",n.EventOrganizer_onDoOrganize),this._addOrganizerHandler(t,"afterTransform",n.EventOrganizer_onAfterTransform)},n.deinit=function(t,e){var r=this.settings.get("events");r&&Object.keys(r).forEach((function(e){n._removeEvents(t,e,r[eventName])}))},n._addEventHandler=function(e,r,o,i,s){i=i||e;var a="object"==typeof o?o:{},u=n._getEventHandler(e,o);t.assert(u,"EventOrganizer._addEventHandler(): handler not found. name="+e.name+", eventName="+r),i.__bm_eventinfo||(i.__bm_eventinfo={component:e,listeners:{},promises:{},statuses:{}});var c=i.__bm_eventinfo.listeners;c[r]||(c[r]=[],i.addEventListener(r,n.__callEventHandler,a.listnerOptions));var l=t.safeGet(a,"order",1e3);c[r].push({handler:u,options:a.options,bindTo:s,order:l}),c[r].sort((function(t,e){return t.order===e.order?0:t.order>e.order?1:-1}))},n._removeEventHandler=function(e,r,o,i){r=r||e;var s=n._getEventHandler(e,i);t.assert(s,"EventOrganizer._removeEventHandler(): handler not found. name="+e.name+", eventName="+o);var a=t.safeGet(r,"__bm_eventinfo.listeners."+o);if(a)for(var u=a.length-1;u>=0;u--)if(a[u].handler===s){a.splice(u,1);break}},n._initEvents=function(t,e,r,o){o=o||t,r=r||t.settings.get("events."+e);var i=n.__getTargetElements(t,o,e,r);Object.keys(r.handlers).forEach((function(e){for(var n=Array.isArray(r.handlers[e])?r.handlers[e]:[r.handlers[e]],o=0;o<n.length;o++)for(var s=0;s<i.length;s++)t.addEventHandler(e,n[o],i[s])}))},n._removeEvents=function(t,e,r,o){o=o||t;var i=n.__getTargetElements(t,o,e,r);Object.keys(r.handlers).forEach((function(e){for(var n=Array.isArray(r.handlers[e])?r.handlers[e]:[r.handlers[e]],o=0;o<n.length;o++)for(var s=0;s<i.length;s++)t.removeEventHandler(e,n[o],i[s])}))},n._trigger=function(e,n,r,o){r=r||{},o=o||e;var i=null;try{i=new CustomEvent(n,{detail:r})}catch(t){(i=document.createEvent("CustomEvent")).initCustomEvent(n,!1,!1,r)}return o.dispatchEvent(i),t.safeGet(o,"__bm_eventinfo.promises."+n)||Promise.resolve()},n._triggerAsync=function(t,e,r,o){return(r=r||{}).async=!0,n._trigger.call(t,t,e,r,o)},n._getEventHandler=function(t,e){return"object"==typeof e?e.handler:e},n.__isTargetSelf=function(t,e){var n=!1;return("this"===t||e&&"this"===e.rootNode)&&(n=!0),n},n.__getTargetElements=function(e,r,o,i){return n.__isTargetSelf(o,i)?[r]:i&&i.rootNode?t.scopedSelectorAll(r,i.rootNode):t.scopedSelectorAll(r,"#"+o)},n.__isHandlerInstalled=function(e,n,r){var o=!1,i=t.safeGet(e.__bm_eventinfo,"listeners."+n);if(i)for(var s=0;s<i.length;s++)if(i[s].handler===r){o=!0;break}return o},n.__callEventHandler=function(e){var r=this,o=t.safeGet(this,"__bm_eventinfo.listeners."+e.type),i=t.safeGet(e,"detail.sender",this),s=t.safeGet(this,"__bm_eventinfo.component");if(t.warn("handling"!==t.safeGet(this,"__bm_eventinfo.statuses."+e.type),"EventOrganizer.__callEventHandler(): Event handler is already running. name="+this.tagName+", eventName="+e.type),t.safeSet(this,"__bm_eventinfo.statuses."+e.type,"handling"),!1===t.safeGet(e,"detail.async",!1))this.__bm_eventinfo.promises[e.type]=n.__handle(e,i,s,o).then((function(){t.safeSet(r,"__bm_eventinfo.promises."+e.type,null),t.safeSet(r,"__bm_eventinfo.statuses."+e.type,"")})).catch((function(n){throw t.safeSet(r,"__bm_eventinfo.promises."+e.type,null),t.safeSet(r,"__bm_eventinfo.statuses."+e.type,""),n}));else try{this.__bm_eventinfo.promises[e.type]=n.__handleAsync(e,i,s,o),t.safeSet(this,"__bm_eventinfo.promises."+e.type,null),t.safeSet(this,"__bm_eventinfo.statuses."+e.type,"")}catch(n){throw t.safeSet(this,"__bm_eventinfo.promises."+e.type,null),t.safeSet(this,"__bm_eventinfo.statuses."+e.type,""),n}},n.__handle=function(e,n,r,o){for(var i=Promise.resolve(),s=!1,a=function(a){var u={component:r,options:o[a].options?o[a].options:{}};i=i.then((function(){var i=o[a].handler;i="string"==typeof i?r[i]:i,t.assert("function"==typeof i,"EventOrganizer._addEventHandler(): Event handler is not a function. name="+r.name+", eventName="+e.type,TypeError);var s=o[a].bindTo?o[a].bindTo:r;return i.call(s,n,e,u)})),s=!(!o[a].options||!o[a].options.stopPropagation)||s},u=0;u<o.length;u++)a(u);return s&&e.stopPropagation(),i},n.__handleAsync=function(e,n,r,o){for(var i=!1,s=0;s<o.length;s++){var a={component:r,options:o[s].options?o[s].options:{}},u=o[s].handler;u="string"==typeof u?r[u]:u,t.assert("function"==typeof u,"EventOrganizer._addEventHandler(): Event handler is not a function. name="+r.name+", eventName="+e.type,TypeError);var c=o[s].bindTo?o[s].bindTo:r;u.call(c,n,e,a),i=!(!o[s].options||!o[s].options.stopPropagation)||i}return i&&e.stopPropagation(),Promise.resolve()},Object.defineProperties(n,r),n}(s),m=function(o){function i(){o.apply(this,arguments)}o&&(i.__proto__=o),i.prototype=Object.create(o&&o.prototype),i.prototype.constructor=i;var s={name:{configurable:!0}};return s.name.get=function(){return"ComponentOrganizer"},i.ComponentOrganizer_onDoOrganize=function(t,e,n){var r=this,o=Promise.resolve();return this._enumSettings(e.detail.settings.molds,(function(t,e){o=o.then((function(){if(!r.components[t])return i._loadComponent(r,t,e,{syncOnAdd:!0})}))})),this._enumSettings(e.detail.settings.components,(function(t,e){o=o.then((function(){if(!r.components[t])return i._loadComponent(r,t,e)}))})),o},i.getInfo=function(){return{sections:["molds","components"],order:400}},i.globalInit=function(){Object.defineProperty(BITSMIST.v1.Component.prototype,"components",{get:function(){return this._components}}),BITSMIST.v1.Component.prototype.loadTags=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return i._loadTags.apply(i,t)},BITSMIST.v1.Component.prototype.loadComponent=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return i._loadComponent.apply(i,[this].concat(t))},i.__classes=new r,document.addEventListener("DOMContentLoaded",(function(){BITSMIST.v1.settings.get("organizers.ComponentOrgaznier.settings.autoLoadOnStartup",!0)&&i._loadTags(document.body,{waitForTags:!1})}))},i.init=function(t,e){t._components={},this._addOrganizerHandler(t,"doOrganize",i.ComponentOrganizer_onDoOrganize)},i.loadFile=function(e,r,o){var i=t.safeGet(o,"query"),s=t.concatPath([r,e+".js"])+(i?"?"+i:""),a=t.concatPath([r,e+".settings.js"])+(i?"?"+i:"");return Promise.resolve().then((function(){return n.loadScript(s)})).then((function(){if(o.splitComponent)return n.loadScript(a)})).then((function(){}))},i._loadTags=function(e,n){var r=this,o=[];return t.scopedSelectorAll(e,"[bm-autoload]:not([bm-autoloading]):not([bm-powered]),[bm-automorph]:not([bm-autoloading]):not([bm-powered])").forEach((function(e){e.setAttribute("bm-autoloading","");var n=r._loadAttrSettings(e),s=t.safeGet(n,"settings.className",t.getClassNameFromTagName(e.tagName));e._injectSettings=function(e){return t.deepMerge(e,n)},o.push(i._loadClass(e.tagName.toLowerCase(),s,n).then((function(){e.removeAttribute("bm-autoloading")})))})),Promise.all(o).then((function(){if(t.safeGet(n,"waitForTags"))return i.__waitForChildren(e)}))},i._loadClass=function(n,r,o,s){if(customElements.get(n))return Promise.resolve();s=s||{};var a=t.safeGet(o,"settings.autoLoad");if(a=!0===a?"":a){var u=t.parseURL(a);o.system=o.system||{},o.system.appBaseUrl="",o.system.componentPath="",o.system.templatePath="",o.settings=o.settings||{},o.settings.path=u.path,o.settings.fileName=u.filenameWithoutExtension,"html"===u.extension&&(o.settings.autoMorph=!o.settings.autoMorph||o.settings.autoMorph),s.query=u.query}var c=t.safeGet(o,"settings.autoMorph",r);c=!0===c?"BITSMIST.v1.Component":c;var l=t.safeGet(s,"path",t.concatPath([t.safeGet(o,"system.appBaseUrl",BITSMIST.v1.settings.get("system.appBaseUrl","")),t.safeGet(o,"system.componentPath",BITSMIST.v1.settings.get("system.componentPath","")),t.safeGet(o,"settings.path","")])),p=t.safeGet(o,"settings.fileName",n.toLowerCase());return s.splitComponent=t.safeGet(s,"splitComponent",t.safeGet(o,"settings.splitComponent",BITSMIST.v1.settings.get("system.splitComponent",!1))),s.query=t.safeGet(s,"query",t.safeGet(o,"settings.query"),""),i.__autoloadClass(c,p,l,s).then((function(){if(c!==r){var i=e.getClass(c);e.newComponent(r,o,i,n)}if(!customElements.get(n)){var s=e.getClass(r);t.assert(s,"ComponentOrganizer_loadClass(): Class does not exists. tagName="+n+", className="+r),customElements.define(n,s)}}))},i._loadComponent=function(e,n,r,o){var s,a,u=t.safeGet(r,"settings.tag");if(u){s=u.match(/([\w-]+)\s+\w+.*?>/)[1]}else s=t.safeGet(r,"settings.tagName",t.getTagNameFromClassName(n)).toLowerCase();return Promise.resolve().then((function(){if(t.safeGet(r,"settings.autoLoad")||t.safeGet(r,"settings.autoMorph")){var e=t.safeGet(r,"settings.className",n);return i._loadClass(s,e,r)}})).then((function(){e._components[n]||(a=i.__insertTag(e,s,r),e._components[n]=a)})).then((function(){var i=t.safeGet(o,"syncOnAdd",t.safeGet(r,"settings.syncOnAdd"));if(i){var s=!0===i?"ready":i;return e.waitFor([{id:e._components[n].uniqueId,state:s}])}})).then((function(){return a}))},i._loadAttrSettings=function(t){var e={settings:{}};return t.hasAttribute("bm-classname")&&(e.settings.className=t.getAttribute("bm-classname")),t.hasAttribute("bm-split")&&(e.system.splitComponent=!0),t.hasAttribute("bm-path")&&(e.settings.path=t.getAttribute("bm-path")),t.hasAttribute("bm-filename")&&(e.settings.fileName=t.getAttribute("bm-filename")),t.hasAttribute("bm-automorph")&&(e.settings.autoMorph=!t.getAttribute("bm-automorph")||t.getAttribute("bm-automorph")),t.hasAttribute("bm-autoload")&&(e.settings.autoLoad=!t.getAttribute("bm-autoload")||t.getAttribute("bm-autoload")),e},i.__autoloadClass=function(t,e,n,r){var o;return i.__isLoadedClass(t)?(i.__classes.set(t+".state","loaded"),o=Promise.resolve()):"loading"===i.__classes.get(t,{}).state?o=i.__classes.get(t).promise:(i.__classes.set(t+".state","loading"),o=i.loadFile(e,n,r).then((function(){i.__classes.set(t,{state:"loaded",promise:null})})),i.__classes.set(t+".promise",o)),o},i.__insertTag=function(e,n,r){var o,i;i=t.safeGet(r,"settings.parentNode")?t.scopedSelectorAll(e.rootElement,t.safeGet(r,"settings.parentNode"),{penetrate:!0})[0]:e,t.assert(i,"ComponentOrganizer.__insertTag(): Root node does not exist. name="+e.name+", tagName="+n+", Ntrentode="+t.safeGet(r,"settings.parentNode"),ReferenceError);var s=t.safeGet(r,"settings.tag")?t.safeGet(r,"settings.tag"):"<"+n+"></"+n+">";if(t.safeGet(r,"settings.replaceParent"))i.outerHTML=s,o=i;else{var a=t.safeGet(r,"settings.adjacentPosition","afterbegin");switch(i.insertAdjacentHTML(a,s),a){case"beforebegin":o=i.previousSibling;break;case"afterbegin":o=i.children[0];break;case"beforeend":o=i.lastChild;break;case"afterend":o=i.nextSibling}}return o._injectSettings=function(e){return t.deepMerge(e,r)},o},i.__waitForChildren=function(e){var n=[];return t.scopedSelectorAll(e,"[bm-powered],[bm-autoloading]").forEach((function(t){if(e!=t.rootElement&&!t.hasAttribute("bm-nowait")){var r={object:t,state:"ready"};n.push(r)}})),p.waitFor(n,{waiter:e})},i.__isLoadedClass=function(t){var n=!1;return("loaded"===i.__classes.get(t,{}).state||e.getClass(t))&&(n=!0),n},Object.defineProperties(i,s),i}(s);window.BITSMIST=window.BITSMIST||{},window.BITSMIST.v1=window.BITSMIST.v1||{},window.BITSMIST.v1.Util=t,window.BITSMIST.v1.ClassUtil=e,window.BITSMIST.v1.AjaxUtil=n,window.BITSMIST.v1.Store=r,window.BITSMIST.v1.ChainableStore=i,window.BITSMIST.v1.settings=new i,window.BITSMIST.v1.Component=l,window.BITSMIST.v1.Organizer=s,window.BITSMIST.v1.OrganizerOrganizer=u,u.register(u),window.BITSMIST.v1.SettingOrganizer=c,u.register(c),window.BITSMIST.v1.StateOrganizer=p,u.register(p),window.BITSMIST.v1.TemplateOrganizer=f,u.register(f),window.BITSMIST.v1.EventOrganizer=g,u.register(g),window.BITSMIST.v1.ComponentOrganizer=m,u.register(m)}();
