{"version":3,"file":"bitsmist-js_v1.js","sources":["../src/core/util/util.js","../src/core/util/class-util.js","../src/core/organizer/organizer.js","../src/core/store/store.js","../src/core/store/organizer-store.js","../src/core/organizer/organizer-organizer.js","../src/core/util/ajax-util.js","../src/core/store/chainable-store.js","../src/core/organizer/setting-organizer.js","../src/core/component.js","../src/core/organizer/state-organizer.js","../src/core/pad.js","../src/core/organizer/template-organizer.js","../src/core/organizer/event-organizer.js","../src/core/organizer/component-organizer.js","../src/core/organizer/autoload-organizer.js","../src/core/widget/bm-setting.js","../src/core/widget/bm-tagloader.js","../src/core/index.js"],"sourcesContent":["// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\n// =============================================================================\n//\tUtil class\n// =============================================================================\n\nexport default class Util\n{\n\n\t/**\n\t * Get an value from store. Return default value when specified key is not available.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject that holds keys/values.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tstatic safeGet(store, key, defaultValue)\n\t{\n\n\t\tlet current = store;\n\t\tlet found = true;\n\t\tlet items = key.split(\".\");\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\tif (current && typeof current === \"object\" && items[i] in current)\n\t\t\t{\n\t\t\t\tcurrent = current[items[i]];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfound = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn ( found ? current : defaultValue);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Set an value to store.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject that holds keys/values.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tstatic safeSet(store, key, value)\n\t{\n\n\t\tlet current = store;\n\t\tlet items = key.split(\".\");\n\t\tfor (let i = 0; i < items.length - 1; i++)\n\t\t{\n\t\t\tUtil.assert(current && typeof current === \"object\",\n\t\t\t\t`Util.safeSet(): Key already exists. key=${key}, existingKey=${( i > 0 ? items[i-1] : \"\" )}, existingValue=${current}`, TypeError);\n\n\t\t\tif (!(items[i] in current))\n\t\t\t{\n\t\t\t\tcurrent[items[i]] = {}\n\t\t\t}\n\n\t\t\tcurrent = current[items[i]];\n\t\t}\n\n\t\tcurrent[items[items.length - 1]] = value;\n\n\t\treturn store;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Set an value to store. Unlike safeSet() if both the existing value and\n\t * the value is an object, it merges them instead of overwrite it.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject that holds keys/values.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tstatic safeMerge(store, key, value)\n\t{\n\n\t\tlet current = store;\n\t\tlet items = key.split(\".\");\n\t\tfor (let i = 0; i < items.length - 1; i++)\n\t\t{\n\t\t\tUtil.assert(current && typeof current === \"object\",\n\t\t\t\t`Util.safeSet(): Key already exists. key=${key}, existingKey=${( i > 0 ? items[i-1] : \"\" )}, existingValue=${current}`, TypeError);\n\n\t\t\tif (!(items[i] in current))\n\t\t\t{\n\t\t\t\tcurrent[items[i]] = {}\n\t\t\t}\n\n\t\t\tcurrent = current[items[i]];\n\t\t}\n\n\t\t// Overwrite/Merge value\n\t\tlet lastWord = items[items.length - 1];\n\t\tif (current[lastWord] && (typeof current[lastWord] === \"object\") && value && (typeof value === \"object\"))\n\t\t{\n\t\t\tUtil.deepMerge(current[lastWord], value);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcurrent[lastWord] = value;\n\t\t}\n\n\t\treturn store;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Check if the store has specified key.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tStore.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to check.\n\t *\n\t * @return\t{Boolean}\t\tTrue:exists, False:not exists.\n\t */\n\tstatic safeHas(store, key)\n\t{\n\n\t\tlet current = store;\n\t\tlet found = true;\n\t\tlet items = key.split(\".\");\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\tif (current && typeof current === \"object\" && items[i] in current)\n\t\t\t{\n\t\t\t\tcurrent = current[items[i]];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfound = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn found;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n \t * Execute Javascript code from string.\n\t *\n\t * @param\t{String}\t\tcode\t\t\t\tCode to execute.\n\t * @param\t{Object}\t\tcontext\t\t\t\tContext refered as \"this\" inside the code.\n\t * @param\t{Object}\t\tparameters\t\t\tParameters passed to the code.\n\t *\n\t * @return\t{*}\t\t\t\tResult of eval.\n\t */\n\tstatic safeEval(code, context, parameters)\n\t{\n\n\t\tlet names;\n\t\tlet values = [];\n\n\t\tif (parameters)\n\t\t{\n\t\t\tnames = Object.keys(parameters).join(\",\");\n\t\t\tObject.keys(parameters).forEach((key) => {\n\t\t\t\tvalues.push(parameters[key]);\n\t\t\t});\n\t\t}\n\n\t\tlet ret = false;\n\n\t\ttry\n\t\t{\n\t\t\tret = Function(names, '\"use strict\";return (' + code + ')').apply(context, values);\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\tconsole.error(`Util.safeEval(): Exception occurred. code=${code}, error=${e}`);\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Concatenat path strings appending trainling \"/\" when needed.\n\t *\n\t * @param\t{Array}\t\t\tpaths\t\t\t\tPaths.\n\t *\n\t * @return\t{String}\t\tConcatenated paths\n\t */\n\tstatic concatPath(paths)\n\t{\n\n\t\tlet path = paths[0] || \"\";\n\n\t\tfor (let i = 1; i < paths.length; i++)\n\t\t{\n\t\t\tif (paths[i])\n\t\t\t{\n\t\t\t\tif (path.slice(path.length - 1) === \"/\" && paths[i].slice(0, 1) === \"/\")\n\t\t\t\t{\n\t\t\t\t\t// \"---/\" and \"/---\"\n\t\t\t\t\t// Remove an extra slash\n\t\t\t\t\tpath += paths[i].slice(1);\n\t\t\t\t}\n\t\t\t\telse if (path.slice(path.length - 1) === \"/\" || paths[i].slice(0, 1) === \"/\")\n\t\t\t\t{\n\t\t\t\t\t// \"---/\" or \"/---\"\n\t\t\t\t\t// Just concat\n\t\t\t\t\tpath += paths[i];\n\t\t\t\t}\n\t\t\t\telse if (path)\n\t\t\t\t{\n\t\t\t\t\t// \"---\" + \"---\"\n\t\t\t\t\t// Add an slash between\n\t\t\t\t\tpath += \"/\" + paths[i];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// \"\" + \"---\"\n\t\t\t\t\t// First word, just accept\n\t\t\t\t\tpath = paths[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn path;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deep merge two objects. Merge obj2 into obj1.\n\t *\n\t * @param\t{Object}\t\tobj1\t\t\t\t\tObject1.\n\t * @param\t{Object}\t\tobj2\t\t\t\t\tObject2.\n\t *\n\t * @return  {Object}\t\tMerged object.\n\t */\n\tstatic deepMerge(obj1, obj2)\n\t{\n\n\t\tUtil.assert(obj1 && typeof obj1 === \"object\" && obj2 && typeof obj2 === \"object\", `Util.deepMerge(): \"obj1\" and \"obj2\" parameters must be an object.`, TypeError);\n\n\t\tObject.keys(obj2).forEach((key) => {\n\t\t\t// array <--- *\n\t\t\tif (Array.isArray(obj1[key]))\n\t\t\t{\n\t\t\t\tobj1[key] = obj1[key].concat(obj2[key]);\n\t\t\t}\n\t\t\t// object <--- object\n\t\t\telse if (\n\t\t\t\tobj1.hasOwnProperty(key) &&\n\t\t\t\tobj1[key] && typeof obj1[key] === \"object\" &&\n\t\t\t\tobj2[key] && typeof obj2[key] === \"object\" &&\n\t\t\t\t!(obj1[key] instanceof HTMLElement) &&\n\t\t\t\t!(obj2[key] instanceof HTMLElement)\n\t\t\t)\n\t\t\t{\n\t\t\t\tUtil.deepMerge(obj1[key], obj2[key]);\n\t\t\t}\n\t\t\t// value <--- *\n\t\t\telse\n\t\t\t{\n\t\t\t\tobj1[key] = obj2[key];\n\t\t\t}\n\t\t});\n\n\t\treturn obj1;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deep clone an objects into another object.\n\t *\n\t * @param\t{Object}\t\tobj1\t\t\t\t\tObject1.\n\t * @param\t{Object}\t\tobj2\t\t\t\t\tObject2.\n\t *\n\t * @return  {Object}\t\tMerged object.\n\t */\n\tstatic deepClone(obj1, obj2)\n\t{\n\n\t\tUtil.assert(obj1 && typeof obj1 === \"object\" && obj2 && typeof obj2 === \"object\", `Util.deepMerge(): \"obj1\" and \"obj2\" parameters must be an object.`, TypeError);\n\n\t\tObject.keys(obj2).forEach((key) => {\n\t\t\t// array <--- *\n\t\t\tif (Array.isArray(obj1[key]))\n\t\t\t{\n\t\t\t\tobj1[key] = obj1[key].concat(obj2[key]);\n\t\t\t}\n\t\t\t// object <--- object\n\t\t\telse if (\n\t\t\t\tobj1.hasOwnProperty(key) &&\n\t\t\t\tobj1[key] && typeof obj1[key] === \"object\" &&\n\t\t\t\tobj2[key] && typeof obj2[key] === \"object\" &&\n\t\t\t\t!(obj1[key] instanceof HTMLElement) &&\n\t\t\t\t!(obj2[key] instanceof HTMLElement)\n\t\t\t)\n\t\t\t{\n\t\t\t\tUtil.deepClone(obj1[key], obj2[key]);\n\t\t\t}\n\t\t\t// * <--- array\n\t\t\telse if (Array.isArray(obj2[key]))\n\t\t\t{\n\t\t\t\tobj1[key] = Util.deepCloneArray(obj2[key]);\n\t\t\t}\n\t\t\t// * <--- object\n\t\t\telse if (\n\t\t\t\tobj2[key] && typeof obj2[key] === \"object\" &&\n\t\t\t\t!(obj2[key] instanceof HTMLElement)\n\t\t\t)\n\t\t\t{\n\t\t\t\tobj1[key] = {};\n\t\t\t\tUtil.deepClone(obj1[key], obj2[key]);\n\t\t\t}\n\t\t\t// value <--- value\n\t\t\telse\n\t\t\t{\n\t\t\t\tobj1[key] = obj2[key];\n\t\t\t}\n\t\t});\n\n\t\treturn obj1;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deep clone an array.\n\t *\n\t * @param\t{Object}\t\tarr\t\t\t\t\t\tArray.\n\t *\n\t * @return  {Object}\t\tMerged array.\n\t */\n\tstatic deepCloneArray(arr)\n\t{\n\n\t\tUtil.assert(Array.isArray(arr), `Util.deepCloneArray(): \"arr\" parameter must be an array.`, TypeError);\n\n\t\tlet result = [];\n\n\t\tfor (let i = 0; i < arr.length; i++)\n\t\t{\n\t\t\tif (\n\t\t\t\tarr[i] && typeof arr[i] === \"object\" &&\n\t\t\t\t!(arr[i] instanceof HTMLElement)\n\t\t\t)\n\t\t\t{\n\t\t\t\tresult.push(Util.deepClone({}, arr[i]));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.push(arr[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get a class name from tag name.\n\t *\n\t * @param\t{String}\t\ttagName\t\t\t\tTag name.\n\t *\n\t * @return  {String}\t\tClass name.\n\t */\n\tstatic getClassNameFromTagName(tagName)\n\t{\n\n\t\tlet tag = tagName.split(\"-\");\n\t\tlet className = tag[0].charAt(0).toUpperCase() + tag[0].slice(1).toLowerCase() + tag[1].charAt(0).toUpperCase() + tag[1].slice(1).toLowerCase();\n\n\t\treturn className;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get tag name from class name.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t *\n\t * @return \t{String}\t\tTag name.\n\t */\n\tstatic getTagNameFromClassName(className)\n\t{\n\n\t\tlet pos;\n\t\tlet result = className;\n\t\tlet c = className.split(\".\");\n\t\tlet cName = c[c.length - 1];\n\n\t\tfor (pos = 1; pos < cName.length; pos++)\n\t\t{\n\t\t\tif ( Util.__isUpper(cName.substring(pos, pos + 1)) )\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( pos < cName.length )\n\t\t{\n\t\t\tresult = cName.substring(0, pos).toLowerCase() + \"-\" + cName.substring(pos).toLowerCase();\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get file name and path from url.\n\t *\n\t * @param\t{String}\t\tpath\t\t\t\tPath.\n\t *\n\t * @return \t{String}\t\tFile name.\n\t */\n\tstatic getFilenameAndPathFromUrl(url)\n\t{\n\n\t\tlet pos = url.lastIndexOf(\"/\");\n\t\tlet path = url.substr(0, pos);\n\t\tlet fileName = url.substr(pos + 1);\n\n\t\treturn [path, fileName];\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if character is upper case.\n\t *\n\t * @param\t{String}\t\tc\t\t\t\t\tCharacter.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is upper case.\n\t */\n\tstatic __isUpper(c)\n\t{\n\n\t\treturn c === c.toUpperCase() && c !== c.toLowerCase();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Assert conditions. Throws an error when assertion failed.\n\t *\n\t * @param\t{Boolean}\t\tconditions\t\t\tConditions.\n\t * @param\t{String}\t\tMessage\t\t\t\tError message.\n\t * @param\t{Error}\t\t\terror\t\t\t\tError to throw.\n\t * @param\t{Options}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is upper case.\n\t */\n\tstatic assert(conditions, msg, error, options)\n\t{\n\n\t\tif (!conditions)\n\t\t{\n\t\t\terror = error || Error;\n\t\t\tlet e = new error(msg);\n\n\t\t\t// Remove last stack (assert() itself)\n\t\t\tlet stacks = e.stack.split(\"\\n\");\n\t\t\tstacks.splice(1, 1);\n\t\t\te.stack = stacks.join(\"\\n\");\n\n\t\t\tthrow e;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Warns when condition failed.\n\t *\n\t * @param\t{Boolean}\t\tconditions\t\t\tConditions.\n\t * @param\t{String}\t\tMessage\t\t\t\tError message.\n\t * @param\t{String}\t\tlevel\t\t\t\tWarn level.\n\t * @param\t{Options}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is upper case.\n\t */\n\tstatic warn(conditions, msg, level, options)\n\t{\n\n\t\tlet ret = true;\n\n\t\tif (!conditions)\n\t\t{\n\t\t\tlevel = level || \"warn\";\n\t\t\tconsole[level](msg);\n\n\t\t\tret = false;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return a promise that resolved after random milliseconds.\n\t *\n\t * @param\t{Integer}\t\tmax\t\t\t\t\tMaximum time in milliseconds.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic randomWait(max, fixed)\n\t{\n\n\t\tlet timeout = ( fixed ? max : Math.floor(Math.random() * max ) );\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tresolve();\n\t\t\t}, timeout);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Execute query on root node excluding nested components inside.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node.\n\t * @param\t{String}\t\tquery\t\t\t\tQuery.\n\t *\n\t * @return  {Array}\t\t\tArray of matched elements.\n\t */\n    static scopedSelectorAll(rootNode, query)\n    {\n\n        // Set temp id\n        let guid = new Date().getTime().toString(16) + Math.floor(100*Math.random()).toString(16);\n        rootNode.setAttribute(\"__bm_tempid\", guid);\n        let id = \"[__bm_tempid='\" + guid + \"'] \";\n\n        // Query to select all\n        let newQuery = id + query.replace(\",\", \",\" + id);\n        let allElements = rootNode.querySelectorAll(newQuery);\n\n\t\t// Query to select descendant of other component\n        let removeQuery = id + \"[bm-powered] \" + query.replace(\",\", \", \" + id + \"[bm-powered] \");\n        let removeElements = rootNode.querySelectorAll(removeQuery);\n\n\t\t// Remove elements descendant of other component\n        let setAll = new Set(allElements);\n        let setRemove = new Set(removeElements);\n        setRemove.forEach((item) => {\n            setAll.delete(item);\n        });\n\n        // Remove temp id\n        rootNode.removeAttribute(\"__bm_tempid\");\n\n        return Array.from(setAll);\n\n    }\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tLoader util class\n// =============================================================================\n\nexport default class ClassUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Define new component in ES5 way.\n\t *\n\t * @param\t{Object}\t\tsuperClass\t\t\tSuper class.\n\t * @param\t{Object}\t\tsettings\t\t\tComponent Settings.\n\t * @param\t{String}\t\ttagName\t\t\t\tTag name.\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t */\n\tstatic newComponent(superClass, settings, tagName, className)\n\t{\n\n\t\tclassName = ( className ? className : Util.getClassNameFromTagName(tagName) );\n\n\t\t// Define class\n\t\tlet funcDef = \"{ return Reflect.construct(superClass, [], this.constructor); }\";\n\t\tlet component = Function(\"superClass\", \"return function \" + ClassUtil.__validateClassName(className) + \"(){ \" + funcDef + \" }\")(superClass);\n\t\tClassUtil.inherit(component, superClass);\n\n\t\tsettings = Object.assign({}, settings);\n\t\tsettings.settings = ( settings.settings ? settings.settings : {} );\n\t\tsettings[\"settings\"][\"name\"] = className;\n\t\tcomponent.prototype._getSettings = function() {\n\t\t\treturn settings;\n\t\t}\n\n\t\t// Define tag\n\t\tif (tagName)\n\t\t{\n\t\t\tcustomElements.define(tagName.toLowerCase(), component);\n\t\t}\n\n\t\treturn component;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Inherit the component in ES5 way.\n\t *\n\t * @param\t{Object}\t\tsubClass\t\t\tSub class.\n\t * @param\t{Object}\t\tsuperClass\t\t\tSuper class.\n\t */\n\tstatic inherit(subClass, superClass)\n\t{\n\n\t\tsubClass.prototype = Object.create(superClass.prototype);\n\t\tsubClass.prototype.constructor = subClass;\n\t\tsubClass.prototype._super = superClass;\n\t\tObject.setPrototypeOf(subClass, superClass);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Instantiate a component.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions for the component.\n\t *\n\t * @return  {Object}\t\tInitaiated object.\n\t */\n\tstatic createObject(className, ...args)\n\t{\n\n\t\tlet c = ClassUtil.getClass(className);\n\t\tUtil.assert(c, `ClassUtil.createObject(): Class '${className}' is not defined.`, ReferenceError);\n\n\t\treturn  new c(...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get a class.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t *\n\t * @return  {Object}\t\tClass object.\n\t */\n\tstatic getClass(className)\n\t{\n\n\t\tlet ret;\n\n\t\ttry\n\t\t{\n\t\t\tret = Function(\"return (\" + ClassUtil.__validateClassName(className) + \")\")();\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\tif (!(e instanceof ReferenceError))\n\t\t\t{\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Validate class name.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t *\n\t * @return  {String}\t\tClass name when valid. Throws an exception when not valid.\n\t */\n\tstatic __validateClassName(className)\n\t{\n\n\t\tlet result = /^[a-zA-Z0-9\\-\\._]+$/.test(className);\n\t\tUtil.assert(result, `ClassUtil.__validateClassName(): Class name '${className}' is not valid.`, TypeError);\n\n\t\treturn className;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\n// =============================================================================\n//\tBase organizer class\n// =============================================================================\n\nexport default class Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit(targetClass)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic init(conditions, component, settings)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Unorganize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic unorganize(conditions, component, settings)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic clear(component)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if event is target.\n\t *\n\t * @param\t{String}\t\tconditions\t\t\tEvent name.\n\t * @param\t{Object}\t\torganizerInfo\t\tOrganizer info.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is target.\n\t */\n\tstatic isTarget(conditions, organizerInfo, component)\n\t{\n\n\t\tif (organizerInfo[\"targetEvents\"].indexOf(\"*\") > -1)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\telse if (organizerInfo[\"targetEvents\"].indexOf(conditions) > -1)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get editor for the organizer.\n\t *\n\t * @return \t{String}\t\tEditor.\n\t */\n\tstatic getEditor()\n\t{\n\n\t\treturn \"\";\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tStore class\n// =============================================================================\n\nexport default class Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n     */\n\tconstructor(options)\n\t{\n\n\t\t// Init vars\n\t\tthis._filter;\n\t\tthis._options = Object.assign({}, options);\n\n\t\t// Init\n\t\tthis.items = Util.safeGet(this._options, \"items\");\n\t\tthis.filter = Util.safeGet(this._options, \"filter\", () => { return true; } );\n\t\tthis.merger = Util.safeGet(this._options, \"merger\", Util.deepMerge );\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Items.\n\t *\n\t * @type\t{String}\n\t */\n\tget items()\n\t{\n\n\t\treturn this.clone();\n\n\t}\n\n\tset items(value)\n\t{\n\n\t\tthis._items = Object.assign({}, value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Filter function.\n\t *\n\t * @type\t{Function}\n\t */\n\tget filter()\n\t{\n\n\t\tthis._filter;\n\n\t}\n\n\tset filter(value)\n\t{\n\n\t\tUtil.assert(typeof value === \"function\", `Store.filter(setter): Filter is not a function. filter=${value}`, TypeError);\n\n\t\tthis._filter = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Merge function.\n\t *\n\t * @type\t{Function}\n\t */\n\tget merger()\n\t{\n\n\t\tthis._merger;\n\n\t}\n\n\tset merger(value)\n\t{\n\n\t\tUtil.assert(typeof value === \"function\", `Store.merger(setter): Merger is not a function. filter=${value}`, TypeError);\n\n\t\tthis._merger = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clear.\n     *\n\t * @param\t{Object}\t\tcomponent\t\t\tComponent to attach.\n\t * @param\t{Object}\t\toptions\t\t\t\tPlugin options.\n     */\n\tclear()\n\t{\n\n\t\tthis._items = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clone contents as an object.\n     *\n\t * @return  {Object}\t\tCloned items.\n     */\n\tclone()\n\t{\n\n\t\treturn Util.deepClone({}, this._items);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Merge items.\n\t *\n\t * @param\t{Array/Object}\tnewItems\t\t\tArray/Object of Items to merge.\n\t * @param\t{Function}\t\tmerger\t\t\t\tMerge function.\n\t */\n\tmerge(newItems, merger)\n\t{\n\n\t\tmerger = merger || this._merger;\n\t\tlet items = (Array.isArray(newItems) ? newItems: [newItems]);\n\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\tif (items[i] && typeof items[i] === \"object\")\n\t\t\t{\n\t\t\t\tmerger(this._items, items[i]);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get a value from store. Return default value when specified key is not available.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tget(key, defaultValue)\n\t{\n\n\t\treturn Util.safeGet(this._items, key, defaultValue);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Set a value to the store. If key is empty, it sets the value to the root.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tset(key, value, options)\n\t{\n\n\t\tUtil.safeMerge(this._items, key, value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove from the list.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t */\n\tremove(key)\n\t{\n\n\t\tdelete this._items[key];\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Check if the store has specified key.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to check.\n\t *\n\t * @return\t{Boolean}\t\tTrue:exists, False:not exists.\n\t */\n\thas(key)\n\t{\n\n\t\treturn Util.safeHas(this._items, key);\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Store from \"./store.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tOrganizer store class\n// =============================================================================\n\nexport default class OrganizerStore extends Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t * @param\t{Store}\t\t\tchain\t\t\t\tStore Component to chain.\n     */\n\tconstructor(options, chain)\n\t{\n\n\t\tsuper(options, chain);\n\n\t\tthis._targetWords = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set a value to store.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tset(key, value)\n\t{\n\n\t\t// Assert\n\t\tvalue = Object.assign({}, value);\n\t\tvalue[\"name\"] = ( value[\"name\"] ? value[\"name\"] : key );\n\t\tvalue[\"targetWords\"] = ( value[\"targetWords\"] ? value[\"targetWords\"] : [] );\n\t\tvalue[\"targetWords\"] = ( Array.isArray(value[\"targetWords\"]) ? value[\"targetWords\"] : [value[\"targetWords\"]] );\n\t\tvalue[\"targetEvents\"] = ( value[\"targetEvents\"] ? value[\"targetEvents\"] : [] );\n\t\tvalue[\"targetEvents\"] = ( Array.isArray(value[\"targetEvents\"]) ? value[\"targetEvents\"] : [value[\"targetEvents\"]] );\n\n\t\tsuper.set(key, value);\n\n\t\t// Global init\n\t\tvalue[\"object\"].globalInit(value[\"targetClass\"]);\n\n\t\t// Create target index\n\t\tfor (let i = 0; i < value[\"targetWords\"].length; i++)\n\t\t{\n\t\t\tthis._targetWords[value[\"targetWords\"][i]] = value;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get a merge function for the key.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t *\n\t * @return  {*}\t\t\t\tMerge function.\n\t */\n\tgetMerger(key)\n\t{\n\n\t\treturn Util.safeGet(this._targetWords, key + \".object.merger\", Util.deepmerge);\n\n\t};\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get an organizer by target words.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t *\n\t * @return  {*}\t\t\t\tOrganizer.\n\t */\n\tgetOrganizerInfoByTargetWords(target)\n\t{\n\n\t\treturn Util.safeGet(this._targetWords, target);\n\n\t};\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Organizer from \"./organizer\";\nimport OrganizerStore from \"../store/organizer-store\";\nimport Util from \"../util/util\";\n\n// =============================================================================\n//\tOrganizer organizer class\n// =============================================================================\n\nexport default class OrganizerOrganizer extends Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit(targetClass)\n\t{\n\n\t\t// Add properties\n\t\tObject.defineProperty(targetClass.prototype, \"organizers\", {\n\t\t\tget() { return this._organizers; },\n\t\t});\n\n\t\t// Add methods\n\t\ttargetClass.prototype.addOrganizers = function(settings) { return OrganizerOrganizer._addOrganizers(this, settings); }\n\t\ttargetClass.prototype.initOrganizers = function(settings) { return OrganizerOrganizer._initOrganizers(this, settings); }\n\t\ttargetClass.prototype.callOrganizers = function(condition, settings) { return OrganizerOrganizer._callOrganizers(this, condition, settings); }\n\t\ttargetClass.prototype.clearOrganizers = function(condition, settings) { return OrganizerOrganizer._clearOrganizers(this, condition, settings); }\n\n\t\t// Init vars\n\t\tOrganizerOrganizer.__organizers = new OrganizerStore();\n\t\tObject.defineProperty(OrganizerOrganizer, \"organizers\", {\n\t\t\tget() { return OrganizerOrganizer.__organizers; },\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\n\t\treturn OrganizerOrganizer._addOrganizers(component, settings);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic clear(component)\n\t{\n\n\t\tcomponent._organizers = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add target words/events to oragnizer's settings.\n\t *\n\t * @param\t{String}\t\torganizerName\t\tOrganizer name.\n\t * @param\t{String}\t\ttargetname\t\t\tTarget setting name. \"words\" or \"events\".\n\t * @param\t{Array/String}\ttargets\t\t\t\tValues to add.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic addTarget(organizerName, targetName, targets)\n\t{\n\n\t\tlet organizer = OrganizerOrganizer.organizers.get(organizerName);\n\n\t\tlet ret1 = Util.warn(organizer, `Organizer not found. organizerName=${organizerName}`);\n\t\tlet ret2 = Util.warn([\"targetEvents\", \"targetWords\"].indexOf(targetName) > -1, `Target name is invalid. targetName=${targetName}`);\n\n\t\tif (ret1 && ret2)\n\t\t{\n\t\t\tif (Array.isArray(targets))\n\t\t\t{\n\t\t\t\torganizer[targetName] = organizer[targetName].concat(targets);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\torganizer[targetName].push(targets);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// ------------------------------------------------------------------------\n\t//  Protected\n\t// ------------------------------------------------------------------------\n\n\tstatic _addOrganizers(component, settings)\n\t{\n\n\t\tlet targets = {};\n\t\tlet chain = Promise.resolve();\n\n\t\t// List new organizers\n\t\tlet organizers = settings[\"organizers\"];\n\t\tif (organizers)\n\t\t{\n\t\t\tObject.keys(organizers).forEach((key) => {\n\t\t\t\tif (\n\t\t\t\t\tUtil.safeGet(organizers[key], \"settings.attach\") &&\n\t\t\t\t\t!component._organizers[key] &&\n\t\t\t\t\tOrganizerOrganizer.__organizers.get(key)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\ttargets[key] = OrganizerOrganizer.__organizers.items[key];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// List new organizers from settings keyword\n\t\tObject.keys(settings).forEach((key) => {\n\t\t\tlet organizerInfo = OrganizerOrganizer.__organizers.getOrganizerInfoByTargetWords(key);\n\t\t\tif (organizerInfo)\n\t\t\t{\n\t\t\t\tif (!component._organizers[organizerInfo.name])\n\t\t\t\t{\n\t\t\t\t\ttargets[organizerInfo.name] = organizerInfo.object;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// Add and init new organizers\n\t\tOrganizerOrganizer._sortItems(targets).forEach((key) => {\n\t\t\tchain = chain.then(() => {\n\t\t\t\tcomponent._organizers[key] = Object.assign({}, OrganizerOrganizer.__organizers.items[key], Util.safeGet(settings, \"organizers.\" + key));\n\t\t\t\treturn component._organizers[key].object.init(component, settings);\n\t\t\t});\n\t\t});\n\n\t\treturn chain;\n\n\t}\n\n\t// ------------------------------------------------------------------------\n\n\t/**\n\t * Init organizers.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic _initOrganizers(component, settings)\n\t{\n\n\t\t// Init\n\t\tcomponent._organizers = {};\n\n\t\t// Add organizers\n\t\treturn OrganizerOrganizer.organize(\"*\", component, settings);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call organizers.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic _callOrganizers(component, conditions, settings)\n\t{\n\n\t\tlet chain = Promise.resolve();\n\n\t\tOrganizerOrganizer._sortItems(component._organizers).forEach((key) => {\n\t\t\tif (component._organizers[key].object.isTarget(conditions, component._organizers[key], component))\n\t\t\t{\n\t\t\t\tchain = chain.then(() => {\n\t\t\t\t\treturn component._organizers[key].object.organize(conditions, component, settings);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn chain;\n\n\t}\n\n\t// ------------------------------------------------------------------------\n\n\t/**\n\t * Clear organizers.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic _clearOrganizers(component, conditions, settings)\n\t{\n\n\t\tlet chain = Promise.resolve();\n\n\t\tOrganizerOrganizer._sortItems(component._organizers).forEach((key) => {\n\t\t\tif (component._organizers[key].object.isTarget(conditions, component._organizers[key], component))\n\t\t\t{\n\t\t\t\tchain = chain.then(() => {\n\t\t\t\t\treturn component._organizers[key].object.unorganize(conditions, component, settings);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn chain;\n\n\t}\n\n\t// ------------------------------------------------------------------------\n\n\t/**\n\t * Sort item keys.\n\t *\n\t * @param\t{Object}\t\tobserverInfo\t\tObserver info.\n\t *\n\t * @return  {Array}\t\t\tSorted keys.\n\t */\n\tstatic _sortItems(organizers)\n\t{\n\n\t\treturn Object.keys(organizers).sort((a,b) => {\n\t\t\treturn organizers[a][\"order\"] - organizers[b][\"order\"];\n\t\t})\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Util from \"./util.js\";\n\n// =============================================================================\n//\tAjax util class\n// =============================================================================\n\nexport default class AjaxUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Make an ajax request.\n\t *\n\t * @param\t{Object}\t\toptions\t\t\t\tRequest options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic ajaxRequest(options)\n\t{\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet url = Util.safeGet(options, \"url\");\n\t\t\tlet method = Util.safeGet(options, \"method\");\n\t\t\tlet data = Util.safeGet(options, \"data\", \"\");\n\t\t\tlet headers = Util.safeGet(options, \"headers\");\n\t\t\tlet xhrOptions = Util.safeGet(options, \"options\");\n\n\t\t\tlet xhr = new XMLHttpRequest();\n\t\t\txhr.open(method, url, true);\n\n\t\t\t// options\n\t\t\tif (xhrOptions)\n\t\t\t{\n\t\t\t\tObject.keys(xhrOptions).forEach((option) => {\n\t\t\t\t\txhr[option] = xhrOptions[option];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// extra headers\n\t\t\tif (headers)\n\t\t\t{\n\t\t\t\tObject.keys(headers).forEach((header) => {\n\t\t\t\t\txhr.setRequestHeader(header, headers[header]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// callback (load)\n\t\t\txhr.addEventListener(\"load\", () => {\n\t\t\t\tif (xhr.status === 200 || xhr.status === 201)\n\t\t\t\t{\n\t\t\t\t\tresolve(xhr);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treject(xhr);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// callback (error)\n\t\t\txhr.addEventListener(\"error\", () => {\n\t\t\t\treject(xhr);\n\t\t\t});\n\n\t\t\t// send\n\t\t\txhr.send(data);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the javascript file.\n\t *\n\t * @param\t{string}\t\turl\t\t\t\t\tJavascript url.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadScript(url) {\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet source = url;\n\t\t\tlet script = document.createElement('script');\n\t\t\tlet prior = document.getElementsByTagName('script')[0];\n\t\t\tscript.async = 1;\n\t\t\tscript.onload = script.onreadystatechange = ( _, isAbort ) => {\n\t\t\t\tif(isAbort || !script.readyState || /loaded|complete/.test(script.readyState) ) {\n\t\t\t\t\tscript.onload = script.onreadystatechange = null;\n\t\t\t\t\tscript = undefined;\n\n\t\t\t\t\tif(!isAbort) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tscript.src = source;\n\t\t\tprior.parentNode.insertBefore(script, prior);\n\t\t});\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Store from \"./store.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tChainable store class\n// =============================================================================\n\nexport default class ChainableStore extends Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t * @param\t{Store}\t\t\tchain\t\t\t\tStore Component to chain.\n     */\n\tconstructor(options)\n\t{\n\n\t\tsuper(options);\n\n\t\t// Init vars\n\t\tthis.chain;\n\n\t\t// Chain\n\t\tlet chain = Util.safeGet(this._options, \"chain\");\n\t\tif (chain)\n\t\t{\n\t\t\tthis.chain(chain);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Items (Override).\n\t *\n\t * @type\t{Object}\n\t */\n\tget items()\n\t{\n\n\t\tlet items;\n\n\t\tif (this._chain)\n\t\t{\n\t\t\titems = Util.deepClone(this._chain.clone(), this._items);\n\t\t}\n\t\telse\n\t\t{\n\t\t\titems = this.clone();\n\t\t}\n\n\t\treturn items;\n\n\t}\n\n\tset items(value)\n\t{\n\n\t\tthis._items = Object.assign({}, value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Local items.\n\t *\n\t * @type\t{Object}\n\t */\n\tget localItems()\n\t{\n\n\t\treturn this.clone();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clone contents as an object (Override).\n     *\n\t * @return  {Object}\t\tCloned items.\n     */\n\tclone()\n\t{\n\n\t\tif (this._chain)\n\t\t{\n\t\t\treturn Util.deepClone(this._chain.clone(), this._items);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn Store.prototype.clone.call(this);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Chain another store.\n     *\n\t * @param\t{Object}\t\tcomponent\t\t\tComponent to attach.\n\t * @param\t{Object}\t\toptions\t\t\t\tPlugin options.\n     */\n\tchain(store)\n\t{\n\n\t\tUtil.assert(store instanceof ChainableStore, `ChainableStore.chain(): \"store\" parameter must be a ChainableStore.`, TypeError);\n\n\t\tthis._chain = store;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get a value from store. Return default value when specified key is not available.\n\t * If chained, chained store is also considiered (Override).\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tget(key, defaultValue)\n\t{\n\n\t\tlet result = defaultValue;\n\n\t\tif (this.has(key))\n\t\t{\n\t\t\tresult = Store.prototype.get.call(this, key, defaultValue);\n\t\t}\n\t\telse if (this._chain)\n\t\t{\n\t\t\tresult = this._chain.get(key, defaultValue);\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Merge items.\n\t *\n\t * @param\t{Array/Object}\tnewItems\t\t\tArray/Object of Items to merge.\n\t * @param\t{Function}\t\tmerger\t\t\t\tMerge function.\n\t */\n\tmerge(newItems, merger)\n\t{\n\n\t\tif (this._options[\"writeThrough\"])\n\t\t{\n\t\t\tthis._chain.merge(newItems, merger);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tStore.prototype.merge.call(this, newItems, merger);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set a value to the store. If key is empty, it sets the value to the root.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tset(key, value, options)\n\t{\n\n\t\tif (Util.safeGet(options, \"writeThrough\", this._options[\"writeThrough\"]))\n\t\t{\n\t\t\tthis._chain.set(key, value, options);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tStore.prototype.set.call(this, key, value);\n\t\t}\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport AjaxUtil from \"../util/ajax-util.js\";\nimport ChainableStore from \"../store/chainable-store.js\";\nimport Organizer from \"./organizer.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tSetting organizer class\n// =============================================================================\n\nexport default class SettingOrganizer extends Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit(targetClass)\n\t{\n\n\t\t// Add properties\n\t\tObject.defineProperty(targetClass.prototype, \"settings\", {\n\t\t\tget() { return this._settings; },\n\t\t});\n\n\t\t// Init vars\n\t\tSettingOrganizer.__globalSettings = new ChainableStore();\n\t\tObject.defineProperty(SettingOrganizer, \"globalSettings\", {\n\t\t\tget() { return SettingOrganizer.__globalSettings; },\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic init(component, settings)\n\t{\n\n\t\t// Init vars\n\t\tcomponent._settings = new ChainableStore({\"items\":settings});\n\t\tcomponent._settings.merge(component._getSettings());\n\n\t\t// Overwrite name if specified\n\t\tlet name = component._settings.get(\"settings.name\");\n\t\tif (name)\n\t\t{\n\t\t\tcomponent._name = name;\n\t\t}\n\n\t\t// Chain global settings\n\t\tif (component._settings.get(\"settings.useGlobalSettings\"))\n\t\t{\n\t\t\tcomponent._settings.chain(SettingOrganizer.globalSettings);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\t// Load external settings\n\t\t\treturn SettingOrganizer.__loadExternalSettings(component, \"setting\");\n\t\t}).then((extraSettings) => {\n\t\t\tif (extraSettings)\n\t\t\t{\n\t\t\t\tcomponent._settings.merge(extraSettings);\n\t\t\t}\n\n\t\t\t// Load settings from attributes\n\t\t\tSettingOrganizer.__loadAttrSettings(component);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if event is target.\n\t *\n\t * @param\t{String}\t\tconditions\t\t\tEvent name.\n\t * @param\t{Object}\t\torganizerInfo\t\tOrganizer info.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is target.\n\t */\n\tstatic isTarget(conditions, organizerInfo, component)\n\t{\n\n\t\tif (conditions === \"beforeStart\")\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load setting file.\n\t *\n\t * @param\t{String}\t\tsettingName\t\t\tSetting name.\n\t * @param\t{String}\t\tpath\t\t\t\tPath to setting file.\n\t * @param\t{String}\t\tpath\t\t\t\tType of setting file.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadSetting(component, settingName, path, type)\n\t{\n\n\t\ttype = type || \"js\";\n\t\tlet url = Util.concatPath([path, settingName + \".\" + type]);\n\t\tlet settings;\n\n\t\tconsole.debug(`SettingOrganizer.loadSetting(): Loading settings. name=${component.name}, url=${url}`);\n\n\t\treturn AjaxUtil.ajaxRequest({url:url, method:\"GET\"}).then((xhr) => {\n\t\t\tconsole.debug(`SettingOrganizer.loadSetting(): Loaded settings. name=${component.name}, url=${url}`);\n\n\t\t\tswitch (type)\n\t\t\t{\n\t\t\tcase \"json\":\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tsettings = JSON.parse(xhr.responseText);\n\t\t\t\t}\n\t\t\t\tcatch(e)\n\t\t\t\t{\n\t\t\t\t\tif (e instanceof SyntaxError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new SyntaxError(`Illegal json string. url=${url}, message=${e.message}`);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"js\":\n\t\t\tdefault:\n\t\t\t\tsettings = Function('\"use strict\";return (' + xhr.responseText + ')').call(component);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn settings;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load an external setting file.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{String}\t\tsettingName\t\t\tSetting name.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __loadExternalSettings(component, settingName)\n\t{\n\n\t\tlet name, path;\n\n\t\tif (component.hasAttribute(\"bm-\" + settingName + \"ref\"))\n\t\t{\n\t\t\tlet arr = Util.getFilenameAndPathFromUrl(component.getAttribute(\"bm-\" + settingName + \"ref\"));\n\t\t\tpath = arr[0];\n\t\t\tname = arr[1].slice(0, -3);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpath = ( component.hasAttribute(\"bm-\" + settingName + \"path\") ? component.getAttribute(\"bm-\" + settingName + \"path\") : \"\" );\n\t\t\tname = ( component.hasAttribute(\"bm-\" + settingName + \"name\") ? component.getAttribute(\"bm-\" + settingName + \"name\") : \"\" );\n\t\t\tif (path && !name)\n\t\t\t{\n\t\t\t\tname = \"settings\";\n\t\t\t}\n\t\t}\n\n\t\tif (name || path)\n\t\t{\n\t\t\treturn SettingOrganizer.loadSetting(component, name, path);\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get settings from element's attribute.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic __loadAttrSettings(component)\n\t{\n\n\t\t// Get path from  bm-autoload\n\t\tif (component.getAttribute(\"bm-autoload\"))\n\t\t{\n\t\t\tlet arr = Util.getFilenameAndPathFromUrl(component.getAttribute(\"bm-autoload\"));\n\t\t\tcomponent._settings.set(\"system.appBaseUrl\", \"\");\n\t\t\tcomponent._settings.set(\"system.templatePath\", arr[0]);\n\t\t\tcomponent._settings.set(\"system.componentPath\", arr[0]);\n\t\t\tcomponent._settings.set(\"settings.path\", \"\");\n\t\t}\n\n\t\t// Get path from attribute\n\t\tif (component.hasAttribute(\"bm-path\"))\n\t\t{\n\t\t\tcomponent._settings.set(\"settings.path\", component.getAttribute(\"bm-path\"));\n\t\t}\n\n\t\t// Get settings from the attribute\n\n\t\tlet dataSettings = ( document.querySelector(component._settings.get(\"settings.rootNode\")) ?\n\t\t\tdocument.querySelector(component._settings.get(\"settings.rootNode\")).getAttribute(\"bm-settings\") :\n\t\t\tcomponent.getAttribute(\"bm-settings\")\n\t\t);\n\n\t\tif (dataSettings)\n\t\t{\n\t\t\tlet settings = {\"settings\": JSON.parse(dataSettings)};\n\t\t\tcomponent._settings.merge(settings);\n\t\t}\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ClassUtil from \"./util/class-util.js\";\nimport OrganizerOrganizer from \"./organizer/organizer-organizer.js\";\nimport SettingOrganizer from \"./organizer/setting-organizer.js\";\nimport Util from \"./util/util.js\";\n\n// =============================================================================\n//\tComponent class\n// =============================================================================\n\n// -----------------------------------------------------------------------------\n//  Constructor\n// -----------------------------------------------------------------------------\n\n/**\n * Constructor.\n */\nexport default function Component()\n{\n\n\t// super()\n\treturn Reflect.construct(HTMLElement, [], this.constructor);\n\n}\n\nClassUtil.inherit(Component, HTMLElement);\n\n// -----------------------------------------------------------------------------\n//  Callbacks\n// -----------------------------------------------------------------------------\n\n/**\n * Connected callback.\n */\nComponent.prototype.connectedCallback = function()\n{\n\n\tif (!this.isInitialized())\n\t{\n\t\tthis.start();\n\t}\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Disconnected callback.\n */\nComponent.prototype.disconnectedCallback = function()\n{\n\n\tif (this.settings.get(\"settings.autoStop\"))\n\t{\n\t\tthis.stop();\n\t}\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Adopted callback.\n */\nComponent.prototype.adoptedCallback = function()\n{\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Attribute changed callback.\n */\nComponent.prototype.attributeChangedCallback = function()\n{\n}\n\n// -----------------------------------------------------------------------------\n//  Setter/Getter\n// -----------------------------------------------------------------------------\n\n/**\n * Component name.\n *\n * @type\t{String}\n */\nObject.defineProperty(Component.prototype, 'name', {\n\tget()\n\t{\n\t\treturn this._name;\n\t}\n})\n\n// -----------------------------------------------------------------------------\n\n/**\n * Instance's unique id.\n *\n * @type\t{String}\n */\nObject.defineProperty(Component.prototype, 'uniqueId', {\n\tget()\n\t{\n\t\treturn this._uniqueId;\n\t}\n})\n\n// -----------------------------------------------------------------------------\n\n/**\n * Root element.\n *\n * @type\t{HTMLElement}\n */\nObject.defineProperty(Component.prototype, 'rootElement', {\n\tget()\n\t{\n\t\treturn this._rootElement;\n\t}\n})\n\n// -----------------------------------------------------------------------------\n//  Methods\n// -----------------------------------------------------------------------------\n\n/**\n * Start component.\n *\n * @param\t{Object}\t\tsettings\t\t\tSettings.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype.start = function(settings)\n{\n\n\t// Defaults\n\tlet defaults = {\n\t\t\"settings\": {\n\t\t\t\"autoSetup\":\t\t\ttrue,\n\t\t\t\"autoPostStart\":\t\ttrue,\n\t\t\t\"autoRefreshOnStart\":\tfalse,\n\t\t\t\"autoStop\":\t\t\t\ttrue,\n\t\t\t\"triggerAppendOnStart\": true,\n\t\t\t\"useGlobalSettings\":\ttrue,\n\t\t},\n\t\t\"organizers\": {\n\t\t\t\"OrganizerOrganizer\":\t{\"settings\":{\"attach\":true}},\n\t\t\t\"SettingOrganizer\":\t\t{\"settings\":{\"attach\":true}},\n\t\t\t\"StateOrganizer\":\t\t{\"settings\":{\"attach\":true}},\n\t\t\t\"EventOrganizer\":\t\t{\"settings\":{\"attach\":true}},\n\t\t}\n\t};\n\tsettings = ( settings ? Util.deepMerge(defaults, settings) : defaults );\n\n\t// Init vars\n\tthis.setAttribute(\"bm-powered\", \"\");\n\tthis._uniqueId = new Date().getTime().toString(16) + Math.floor(100*Math.random()).toString(16);\n\tthis._name = this.constructor.name;\n\tthis._rootElement = Util.safeGet(settings, \"settings.rootElement\", this);\n\n\treturn Promise.resolve().then(() => {\n\t\treturn this._initStart(settings);\n\t}).then(() => {\n\t\treturn this._preStart();\n\t}).then(() => {\n\t\tif (this.settings.get(\"settings.autoPostStart\"))\n\t\t{\n\t\t\treturn this._postStart();\n\t\t}\n\t}).then(() => {\n\t\t// Refresh\n\t\tif (this.settings.get(\"settings.autoRefreshOnStart\"))\n\t\t{\n\t\t\treturn this.refresh();\n\t\t}\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Stop component.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions for the component.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype.stop = function(options)\n{\n\n\toptions = Object.assign({}, options);\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Component.stop(): Stopping component. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"stopping\");\n\t}).then(() => {\n\t\treturn this.trigger(\"beforeStop\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"doStop\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterStop\", options);\n\t}).then(() => {\n\t\tconsole.debug(`Component.stop(): Stopped component. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"stopped\");\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Apply settings.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype.setup = function(options)\n{\n\n\toptions = Object.assign({}, options);\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Component.setup(): Setting up component. name=${this.name}, state=${this.state}, id=${this.id}`);\n\t\treturn this.trigger(\"beforeSetup\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"doSetup\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterSetup\", options);\n\t}).then(() => {\n\t\tconsole.debug(`Component.setup(): Set up component. name=${this.name}, state=${this.state}, id=${this.id}`);\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Refresh component.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype.refresh = function(options)\n{\n\n\toptions = Object.assign({}, options);\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Component.refresh(): Refreshing component. name=${this.name}`);\n\t\treturn this.trigger(\"beforeRefresh\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"doTarget\", options);\n\t}).then(() => {\n\t\t// Fetch\n\t\tif (Util.safeGet(options, \"autoFetch\", this.settings.get(\"settings.autoFetch\")))\n\t\t{\n\t\t\treturn this.fetch(options);\n\t\t}\n\t}).then(() => {\n\t\treturn this.trigger(\"doRefresh\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterRefresh\", options);\n\t}).then(() => {\n\t\tconsole.debug(`Component.refresh(): Refreshed component. name=${this.name}`);\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Fetch data.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype.fetch = function(options)\n{\n\n\toptions = Object.assign({}, options);\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Component.fetch(): Fetching data. name=${this.name}`);\n\t\treturn this.trigger(\"beforeFetch\", options);\n\t}).then(() => {\n\t\treturn this.callOrganizers(\"doFetch\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"doFetch\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterFetch\", options);\n\t}).then(() => {\n\t\tconsole.debug(`Component.fetch(): Fetched data. name=${this.name}`);\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Execute query on this component excluding nested components inside.\n *\n * @param\t{String}\t\tquery\t\t\t\tQuery.\n *\n * @return  {Array}\t\t\tArray of matched elements.\n */\nComponent.prototype.scopedSelectorAll = function(query)\n{\n\n\treturn Util.scopedSelectorAll(this, query);\n\n}\n\n// -----------------------------------------------------------------------------\n//  Protected\n// -----------------------------------------------------------------------------\n\n/**\n * Inject settings.\n *\n * @param\t{Object}\t\tsettings\t\t\tSettings.\n *\n * @return  {Object}\t\tNew settings.\n */\nComponent.prototype._injectSettings = function(settings)\n{\n\n\treturn settings;\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Get component settings. Need to override.\n *\n * @return  {Object}\t\tOptions.\n */\nComponent.prototype._getSettings = function()\n{\n\n\treturn {};\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Initialize start processing.\n *\n * @param\t{Object}\t\tsettings\t\t\tSettings.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype._initStart = function(settings)\n{\n\n\treturn Promise.resolve().then(() => {\n\t\treturn this._injectSettings(settings);\n\t}).then((newSettings) => {\n\t\treturn SettingOrganizer.init(this, newSettings); // now settings are included in this.settings\n\t}).then(() => {\n\t\treturn this.initOrganizers(this.settings.items);\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Pre start processing.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype._preStart = function()\n{\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Component.start(): Starting component. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"starting\");\n\t}).then(() => {\n\t\treturn SettingOrganizer.organize(\"beforeStart\", this, this.settings.items);\n\t}).then(() => {\n\t\treturn this.addOrganizers(this.settings.items);\n\t}).then(() => {\n\t\treturn this.callOrganizers(\"beforeStart\", this.settings.items);\n\t}).then((newSettings) => {\n\t\treturn this.trigger(\"beforeStart\");\n\t}).then(() => {\n\t\tlet autoSetupOnStart = this.settings.get(\"settings.autoSetupOnStart\");\n\t\tlet autoSetup = this.settings.get(\"settings.autoSetup\");\n\t\tif ( autoSetupOnStart || (autoSetupOnStart !== false && autoSetup) )\n\t\t{\n\t\t\treturn this.setup(this.settings.items);\n\t\t}\n\t}).then(() => {\n\t\tlet triggerAppendOnStart = this.settings.get(\"settings.triggerAppendOnStart\");\n\t\tif (triggerAppendOnStart)\n\t\t{\n\t\t\treturn Promise.resolve().then(() => {\n\t\t\t\treturn this.callOrganizers(\"afterAppend\", this.settings.items);\n\t\t\t}).then(() => {\n\t\t\t\treturn this.trigger(\"afterAppend\", this.settings.items);\n\t\t\t});\n\t\t}\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Post start processing.\n *\n * @return  {Promise}\t\tPromise.\n */\nComponent.prototype._postStart = function()\n{\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Component.start(): Started component. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"started\");\n\t}).then(() => {\n\t\treturn this.callOrganizers(\"afterStart\", this.settings.items);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterStart\");\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\ncustomElements.define(\"bm-component\", Component);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Component from \"../component.js\";\nimport Organizer from \"./organizer.js\";\nimport Store from \"../store/store.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tState organizer class\n// =============================================================================\n\nexport default class StateOrganizer extends Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit()\n\t{\n\n\t\t// Add properties\n\t\tObject.defineProperty(Component.prototype, \"state\", {\n\t\t\tget() { return this._state; },\n\t\t\tset(value) { this._state = value; }\n\t\t});\n\n\t\t// Add methods\n\t\tComponent.prototype.changeState= function(newState) { return StateOrganizer._changeState(this, newState); }\n\t\tComponent.prototype.isInitialized = function() { return StateOrganizer._isInitialized(this); }\n\t\tComponent.prototype.waitFor = function(waitlist, timeout) { return StateOrganizer._waitFor(this, waitlist, timeout); }\n\t\tComponent.prototype.suspend = function(state) { return StateOrganizer._suspend(this, state); }\n\t\tComponent.prototype.resume = function(state) { return StateOrganizer._resume(this, state); }\n\t\tComponent.prototype.pause = function(state) { return StateOrganizer._pause(this, state); }\n\n\t\t// Init vars\n\t\tStateOrganizer.__suspends = {};\n\t\tStateOrganizer.__components = new Store();\n\t\tStateOrganizer.__waitingList = new Store();\n\t\tStateOrganizer.__waitingListIndexName = new Map();\n\t\tStateOrganizer.__waitingListIndexId = new Map();\n\t\tStateOrganizer.__waitingListIndexNone = new Map();\n\t\tStateOrganizer.waitFor = function(waitlist, timeout) { return StateOrganizer._waitFor(null, waitlist, timeout); }\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic init(component, settings)\n\t{\n\n\t\t// Init vars\n\t\tcomponent._state = \"\";\n\t\tcomponent._suspends = {};\n\n\t\t// Load settings from attributes\n\t\tStateOrganizer.__loadAttrSettings(component);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\n\t\tlet promise = Promise.resolve();\n\n\t\tlet waitFor = settings[\"waitFor\"];\n\t\tif (waitFor)\n\t\t{\n\t\t\tif (waitFor[conditions])\n\t\t\t{\n\t\t\t\tpromise = StateOrganizer._waitFor(component, waitFor[conditions], component.settings.get(\"system.waitforTimeout\"));\n\t\t\t}\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear.\n\t */\n\tstatic clear()\n\t{\n\n\t\tthis.__waitingList.clear();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Suspend all components at a specified state.\n\t *\n\t * @param\t{String}\t\tstate\t\t\t\tComponent state.\n\t */\n\tstatic globalSuspend(state)\n\t{\n\n\t\tStateOrganizer.__suspends[state] = StateOrganizer._createSuspendInfo(state);\n\t\tStateOrganizer.__suspends[state].state = \"pending\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Resume all components at a specified state.\n\t *\n\t * @param\t{String}\t\tstate\t\t\t\tComponent state.\n\t */\n\tstatic globalResume(state)\n\t{\n\n\t\tStateOrganizer.__suspends[state].resolve();\n\t\tStateOrganizer.__suspends[state].state = \"resolved\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Wait for components to become specific states.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Array}\t\t\twaitlist\t\t\tComponents to wait.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _waitFor(component, waitlist, options)\n\t{\n\n\t\tlet promise;\n\t\tlet timeout = ( options && options[\"timeout\"] ? options[\"timeout\"] : 10000 );\n\t\tlet waiter = ( options && options[\"waiter\"] ? options[\"waiter\"] : component );\n\t\tlet waitInfo = {\"waiter\":waiter, \"waitlist\":waitlist.slice()};\n\n\t\tif (StateOrganizer.__isAllReady(waitInfo))\n\t\t{\n\t\t\tpromise = Promise.resolve();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Create a promise that is resolved when waiting is completed.\n\t\t\tpromise = new Promise((resolve, reject) => {\n\t\t\t\twaitInfo[\"resolve\"] = resolve;\n\t\t\t\twaitInfo[\"reject\"] = reject;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet name = ( component && component.name ) || ( waitInfo[\"waiter\"] && waitInfo[\"waiter\"].tagName ) || \"\";\n\t\t\t\t\treject(`StateOrganizer._waitFor(): Timed out after ${timeout} milliseconds waiting for ${StateOrganizer.__dumpWaitlist(waitlist)}, name=${name}.`);\n\t\t\t\t}, timeout);\n\t\t\t});\n\t\t\twaitInfo[\"promise\"] = promise;\n\n\t\t\t// Add to info to a waiting list.\n\t\t\tStateOrganizer.__addToWaitingList(waitInfo, component);\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Wait for a component to become specific state.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{String}\t\tstate\t\t\t\tstate.\n\t * @param\t{integer}\t\ttimeout\t\t\t\tTimeout in milliseconds.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _waitForSingle(component, state, timeout)\n\t{\n\n\t\tlet componentInfo = StateOrganizer.__components.get(component.uniqueId);\n\t\tlet waitlistItem = {\"id\":component.uniqueId, \"state\":state};\n\n\t\tif (StateOrganizer.__isReady(waitlistItem, componentInfo))\n\t\t{\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn StateOrganizer.waitFor(component, [waitlistItem], timeout);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Wait for a component to become transitionable state.\n\t *\n\t * @param\t{Object}\t\tcomponent\t\t\tComponent to register.\n\t * @param\t{String}\t\tnewState\t\t\tNew state.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t/*\n\tstatic _waitForTransitionableState(component, newState)\n\t{\n\n\t\tif (newState === \"starting\")\n\t\t{\n\t\t\treturn StateOrganizer._waitForSingle(component, \"instantiated\");\n\t\t}\n\n\t\tif (newState === \"stopping\")\n\t\t{\n\t\t\treturn StateOrganizer._waitForSingle(component, \"instantiated\");\n\t\t}\n\n\t\tif (newState === \"opening\")\n\t\t{\n\t\t\treturn StateOrganizer._waitForSingle(component, \"started\");\n\t\t}\n\n\t\tif (newState === \"closing\")\n\t\t{\n\t\t\treturn StateOrganizer._waitForSingle(component, \"opened\");\n\t\t}\n\n\t}\n\t*/\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Change component state and check waiting list.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent to register.\n\t * @param\t{String}\t\tstate\t\t\t\tComponent state.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _changeState(component, state)\n\t{\n\n\t\tUtil.assert(StateOrganizer.__isTransitionable(component._state, state), `StateOrganizer._changeState(): Illegal transition. name=${component.name}, fromState=${component._state}, toState=${state}, id=${component.id}`, Error);\n\n\t\tcomponent._state = state;\n\t\tStateOrganizer.__components.set(component.uniqueId, {\"object\":component, \"state\":state});\n\n\t\tStateOrganizer.__processWaitingList(component, state);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Suspend a component at a specified state.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{String}\t\tstate\t\t\t\tComponent state.\n\t */\n\tstatic _suspend(component, state)\n\t{\n\n\t\tcomponent._suspends[state] = StateOrganizer._createSuspendInfo();\n\t \tcomponent._suspends[state].state = \"pending\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Resume a component at a specified state.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{String}\t\tstate\t\t\t\tComponent state.\n\t */\n\tstatic _resume(component, state)\n\t{\n\n\t \tcomponent._suspends[state].resolve();\n\t \tcomponent._suspends[state].state = \"resolved\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Pause a component if it is suspended.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{String}\t\tstate\t\t\t\tComponent state.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _pause(component, state)\n\t{\n\n\t\tlet ret = [];\n\n\t\t// Globally suspended?\n\t\tif (StateOrganizer.__suspends[state] && StateOrganizer.__suspends[state].state === \"pending\" && !component.settings.get(\"settings.ignoreGlobalSuspend\"))\n\t\t{\n\t\t\tret.push(StateOrganizer.__suspends[state].promise);\n\t\t}\n\n\t\t// Component suspended?\n\t\tif (component._suspends[state] && component._suspends[state].state === \"pending\")\n\t\t{\n\t\t\tret.push(component._suspends[state].promise);\n\t\t}\n\n\t\treturn Promise.all(ret);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the componenet is initialized.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t *\n\t * @return  {Boolean}\t\tTrue when initialized.\n\t */\n\tstatic _isInitialized(component)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (component._state &&\n\t\t\tcomponent._state !== \"starting\" &&\n\t\t\tcomponent._state !== \"stopping\" &&\n\t\t\tcomponent._state !== \"stopped\"\n\t\t)\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check whether changing curren state to new state is allowed.\n\t *\n\t * @param\t{String}\t\tcurrentState\t\tCurrent state.\n\t * @param\t{String}\t\tnewState\t\t\tNew state.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __isTransitionable(currentState, newState)\n\t{\n\n\t\tlet ret = true;\n\n\t\tif (currentState && currentState.slice(-3) === \"ing\")\n\t\t{\n\t\t\tif(\n\t\t\t\t( currentState === \"stopping\" && newState !== \"stopped\") ||\n\t\t\t\t( currentState === \"starting\" && newState !== \"started\") ||\n\t\t\t\t( currentState === \"opening\" && (newState !== \"opened\" && newState !== \"opening\") ) ||\n\t\t\t\t( currentState === \"closing\" && newState !== \"closed\") ||\n\t\t\t\t( currentState === \"stopping\" && (newState !== \"stopped\" && newState !== \"closing\") )\n\t\t\t)\n\t\t\t{\n\t\t\t\tret = false;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check wait list and resolve() if components are ready.\n\t */\n\tstatic __processWaitingList(component, state)\n\t{\n\n\t\t// Process name index\n\t\tlet names = StateOrganizer.__waitingListIndexName.get(component.name + \".\" + state);\n\t\tif (names && names.length > 0)\n\t\t{\n\t\t\tStateOrganizer.__processIndex(names);\n\t\t}\n\n\t\t// Process ID index\n\t\tlet ids = StateOrganizer.__waitingListIndexId.get(component.uniqueId + \".\" + state);\n\t\tif (ids && ids.length > 0)\n\t\t{\n\t\t\tStateOrganizer.__processIndex(ids);\n\t\t}\n\n\t\t// Process non indexables\n\t\tlet list = StateOrganizer.__waitingListIndexNone.get(\"none\");\n\t\tif (list && list.length > 0)\n\t\t{\n\t\t\tStateOrganizer.__processIndex(list);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Process waiting list index.\n\t *\n\t * @param\t{Array}\t\t\tlist\t\t\t\tList of indexed waiting list id.\n\t */\n\tstatic __processIndex(list)\n\t{\n\n\t\tlet removeList = [];\n\n\t\tfor (let i = 0; i < list.length; i++)\n\t\t{\n\t\t\tlet id = list[i];\n\t\t\tlet waitInfo = StateOrganizer.__waitingList.get(id);\n\n\t\t\tif (StateOrganizer.__isAllReady(StateOrganizer.__waitingList.get(id)))\n\t\t\t{\n\t\t\t\t// Remove from waiting list\n\t\t\t\tStateOrganizer.__waitingList.get(id).resolve();\n\t\t\t\tStateOrganizer.__waitingList.remove(id);\n\n\t\t\t\t// Add to remove list\n\t\t\t\tremoveList.push(id);\n\t\t\t}\n\t\t}\n\n\t\t// Remove from index;\n\t\tfor (let i = removeList.length - 1; i >= 0; i--)\n\t\t{\n\t\t\tStateOrganizer.__removeFromIndex(list, removeList[i]);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add wait info to the waiting list.\n\t *\n\t * @param\t{Object}\t\twaitInfo\t\t\tWait info.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t//static __addToWaitingList(waitInfo, component)\n\tstatic __addToWaitingList(waitInfo)\n\t{\n\n\t\t// Add wait info to the waiting list.\n\t\tlet id = new Date().getTime().toString(16) + Math.floor(100*Math.random()).toString(16);\n\t\tStateOrganizer.__waitingList.set(id, waitInfo);\n\n\t\t// Create index for faster processing\n\t\tlet waitlist = waitInfo[\"waitlist\"];\n\t\tfor (let i = 0; i < waitlist.length; i++)\n\t\t{\n\t\t\t// Set default state when not specified\n\t\t\twaitlist[i][\"state\"] = waitlist[i][\"state\"] || \"started\";\n\n\t\t\t// Index for component id + state\n\t\t\tif (waitlist[i].id)\n\t\t\t{\n\t\t\t\tStateOrganizer.__addToIndex(StateOrganizer.__waitingListIndexId, waitlist[i].id+ \".\" + waitlist[i].state, id);\n\t\t\t}\n\t\t\t// Index for component name + state\n\t\t\telse if (waitlist[i].name)\n\t\t\t{\n\t\t\t\tStateOrganizer.__addToIndex(StateOrganizer.__waitingListIndexName, waitlist[i].name + \".\" + waitlist[i].state, id);\n\t\t\t}\n\t\t\t// Not indexable\n\t\t\telse\n\t\t\t{\n\t\t\t\tStateOrganizer.__addToIndex(StateOrganizer.__waitingListIndexNone, \"none\", id);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add id to a waiting list index.\n\t *\n\t * @param\t{Map}\t\t\tindex\t\t\t\tWaiting list index.\n\t * @param\t{String}\t\tkey\t\t\t\t\tIndex key.\n\t * @param\t{String}\t\tid\t\t\t\t\tWaiting list id.\n\t */\n\tstatic __addToIndex(index, key, id)\n\t{\n\n\t\tlet list = index.get(key);\n\t\tif (!list)\n\t\t{\n\t\t\tlist = [];\n\t\t\tindex.set(key, list)\n\t\t}\n\n\t\tif (list.indexOf(id) === -1)\n\t\t{\n\t\t\tlist.push(id);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove id from a waiting list index.\n\t *\n\t * @param\t{Array}\t\t\tlist\t\t\t\tList of ids.\n\t * @param\t{String}\t\tid\t\t\t\t\tWaiting list id.\n\t */\n\tstatic __removeFromIndex(list, id)\n\t{\n\n\t\tlet index = list.indexOf(id);\n\t\tif (index > -1)\n\t\t{\n\t\t\tlist.splice(index, 1);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get component info from wait list item.\n\t *\n\t * @param\t{Object}\t\twaitlistItem\t\tWait list item.\n\t *\n\t * @return  {Boolean}\t\tTrue if ready.\n\t */\n\tstatic __getComponentInfo(waitlistItem)\n\t{\n\n\t\tlet componentInfo;\n\n\t\tif (waitlistItem[\"id\"])\n\t\t{\n\t\t\tcomponentInfo = StateOrganizer.__components.get(waitlistItem[\"id\"]);\n\t\t}\n\t\telse if (waitlistItem[\"name\"])\n\t\t{\n\t\t\tObject.keys(StateOrganizer.__components.items).forEach((key) => {\n\t\t\t\tif (waitlistItem[\"name\"] === StateOrganizer.__components.get(key).object.name)\n\t\t\t\t{\n\t\t\t\t\tcomponentInfo = StateOrganizer.__components.get(key);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse if (waitlistItem[\"rootNode\"])\n\t\t{\n\t\t\tlet element = document.querySelector(waitlistItem[\"rootNode\"]);\n\t\t\tif (element && element.uniqueId)\n\t\t\t{\n\t\t\t\tcomponentInfo = StateOrganizer.__components.get(element.uniqueId);\n\t\t\t}\n\t\t}\n\t\telse if (waitlistItem[\"object\"])\n\t\t{\n\t\t\tlet element = waitlistItem[\"object\"];\n\t\t\tif (element.uniqueId)\n\t\t\t{\n\t\t\t\tcomponentInfo = StateOrganizer.__components.get(element.uniqueId);\n\t\t\t}\n\t\t}\n\n\t\treturn componentInfo;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if all components are ready.\n\t *\n\t * @param\t{Object}\t\twaitInfo\t\t\tWait info.\n\t *\n\t * @return  {Boolean}\t\tTrue if ready.\n\t */\n\tstatic __isAllReady(waitInfo)\n\t{\n\n\t\tlet result = true;\n\t\tlet waitlist = waitInfo[\"waitlist\"];\n\n\t\tfor (let i = 0; i < waitlist.length; i++)\n\t\t{\n\t\t\tlet match = false;\n\t\t\tlet componentInfo = this.__getComponentInfo(waitlist[i]);\n\t\t\tif (componentInfo)\n\t\t\t{\n\t\t\t\tif (StateOrganizer.__isReady(waitlist[i], componentInfo))\n\t\t\t\t{\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If one fails all fail\n\t\t\tif (!match)\n\t\t\t{\n\t\t\t\tresult = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if a component is ready.\n\t *\n\t * @param\t{Object}\t\twaitlistItem\t\tWait list item.\n\t * @param\t{Object}\t\tcomponentInfo\t\tRegistered component info.\n\t *\n\t * @return  {Boolean}\t\tTrue if ready.\n\t */\n\tstatic __isReady(waitlistItem, componentInfo)\n\t{\n\n\t\t// Check component\n\t\tlet isMatch = StateOrganizer.__isComponentMatch(componentInfo, waitlistItem);\n\n\t\t// Check state\n\t\tif (isMatch)\n\t\t{\n\t\t\tisMatch = StateOrganizer.__isStateMatch(componentInfo[\"state\"], waitlistItem[\"state\"]);\n\t\t}\n\n\t\treturn isMatch;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if component match.\n\t *\n\t * @param\t{Object}\t\tcomponentInfo\t\tRegistered component info.\n\t * @param\t{Object}\t\twaitlistItem\t\tWait list item.\n\t *\n\t * @return  {Boolean}\t\tTrue if match.\n\t */\n\tstatic __isComponentMatch(componentInfo, waitlistItem)\n\t{\n\n\t\tlet isMatch = true;\n\n\t\t// check instance\n\t\tif (waitlistItem[\"component\"] && componentInfo[\"object\"] !== waitlistItem[\"component\"])\n\t\t{\n\t\t\tisMatch = false;\n\t\t}\n\n\t\t// check name\n\t\tif (waitlistItem[\"name\"] && componentInfo[\"object\"].name !== waitlistItem[\"name\"])\n\t\t{\n\t\t\tisMatch = false;\n\t\t}\n\n\t\t// check id\n\t\tif (waitlistItem[\"id\"] && componentInfo[\"object\"].uniqueId !== waitlistItem[\"id\"])\n\t\t{\n\t\t\tisMatch = false;\n\t\t}\n\n\t\t// check node\n\t\tif (waitlistItem[\"rootNode\"]  && !document.querySelector(waitlistItem[\"rootNode\"]))\n\t\t{\n\t\t\tisMatch = false;\n\t\t}\n\n\t\treturn isMatch;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if state match.\n\t *\n\t * @param\t{String}\t\tcurrentState\t\tCurrent state.\n\t * @param\t{String}\t\texpectedState\t\tExpected state.\n\t *\n\t * @return  {Boolean}\t\tTrue if match.\n\t */\n\tstatic __isStateMatch(currentState, expectedState)\n\t{\n\n\t\texpectedState = expectedState || \"started\"; // Default is \"started\"\n\t\tlet isMatch = true;\n\n\t\tswitch (expectedState)\n\t\t{\n\t\t\tcase \"started\":\n\t\t\t\tif (\n\t\t\t\t\tcurrentState !== \"opening\" &&\n\t\t\t\t\tcurrentState !== \"opened\" &&\n\t\t\t\t\tcurrentState !== \"closing\" &&\n\t\t\t\t\tcurrentState !== \"closed\" &&\n\t\t\t\t\tcurrentState !== \"started\"\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tisMatch = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (currentState !== expectedState)\n\t\t\t\t{\n\t\t\t\t\tisMatch = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn isMatch;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get settings from element's attribute.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic __loadAttrSettings(component)\n\t{\n\n\t\t// Get waitFor from attribute\n\n\t\tif (component.hasAttribute(\"bm-waitfor\"))\n\t\t{\n\t\t\tlet waitInfo = {\"name\":component.getAttribute(\"bm-waitfor\"), \"state\":\"started\"};\n\t\t\tcomponent.settings.merge({\"waitFor\": [waitInfo]});\n\t\t}\n\n\t\tif (component.hasAttribute(\"bm-waitfornode\"))\n\t\t{\n\t\t\tlet waitInfo = {\"rootNode\":component.getAttribute(\"bm-waitfornode\"), \"state\":\"started\"};\n\t\t\tcomponent.settings.merge({\"waitFor\": [waitInfo]});\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Dump wait list as string.\n\t *\n\t * @param\t{Array}\t\t\tWait list.\n\t *\n\t * @return  {String}\t\tWait list string.\n\t */\n\tstatic __dumpWaitlist(waitlist)\n\t{\n\n\t\tlet result = \"\";\n\n\t\tfor (let i = 0; i < waitlist.length; i++)\n\t\t{\n\t\t\tlet id = ( waitlist[i].id ? \"id:\" + waitlist[i].id + \",\" : \"\" );\n\t\t\tlet name = ( waitlist[i].name ? \"name:\" + waitlist[i].name + \",\" : \"\" );\n\t\t\tlet object = ( waitlist[i].object ? \"element:\" + waitlist[i].object.tagName + \",\" : \"\" );\n\t\t\tlet node = (waitlist[i].rootNode ? \"node:\" + waitlist[i].rootNode + \",\" : \"\" );\n\t\t\tlet state = (waitlist[i].state ? \"state:\" + waitlist[i].state: \"\" );\n\t\t\tresult += \"\\n\\t{\" + id + name + object + node + state + \"},\";\n\t\t}\n\n\t\treturn \"[\" + result + \"\\n]\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Create a suspend info object.\n\t *\n\t * @return  {Object}\t\tSuspend info.\n\t */\n\tstatic _createSuspendInfo()\n\t{\n\n\t\tlet suspendInfo = {};\n\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tsuspendInfo[\"resolve\"] = resolve;\n\t\t\tsuspendInfo[\"reject\"] = reject;\n\t\t\tsuspendInfo[\"state\"] = \"pending\";\n\t\t});\n\t\tsuspendInfo[\"promise\"] = promise;\n\n\t\treturn suspendInfo;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ClassUtil from \"./util/class-util.js\";\nimport Component from \"./component.js\";\nimport Util from \"./util/util.js\";\n\n// =============================================================================\n//\tPad class\n// =============================================================================\n\n// -----------------------------------------------------------------------------\n//  Constructor\n// -----------------------------------------------------------------------------\n\n/**\n * Constructor.\n */\nexport default function Pad()\n{\n\n\t// super()\n\treturn Reflect.construct(Component, [], this.constructor);\n\n}\n\nClassUtil.inherit(Pad, Component);\n\n// -----------------------------------------------------------------------------\n//  Setter/Getter\n// -----------------------------------------------------------------------------\n\n/**\n * Component name.\n *\n * @type\t{String}\n */\nObject.defineProperty(Component.prototype, 'modalResult', {\n\tget()\n\t{\n\t\treturn this._modalResult;\n\t}\n})\n\n// -----------------------------------------------------------------------------\n//  Methods\n// -----------------------------------------------------------------------------\n\n/**\n * Start pad.\n *\n * @param\t{Object}\t\tsettings\t\t\tSettings.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.start = function(settings)\n{\n\n\t// Defaults\n\tlet defaults = {\n\t\t\"settings\": {\n\t\t\t\"autoClose\":\t\t\ttrue,\n\t\t\t\"autoFetch\":\t\t\ttrue,\n\t\t\t\"autoFill\":\t\t\t\ttrue,\n\t\t\t\"autoOpen\":\t\t\t\ttrue,\n\t\t\t\"autoRefresh\":\t\t\ttrue,\n\t\t\t\"autoRefreshOnStart\":\tfalse,\n\t\t\t\"autoSetupOnStart\":\t\tfalse,\n\t\t\t\"autoPostStart\":\t\tfalse,\n\t\t\t\"triggerAppendOnStart\":\tfalse,\n\t\t},\n\t\t\"organizers\":{\n\t\t\t\"AutoloadOrganizer\":\t{\"settings\":{\"attach\":true}},\n\t\t\t\"TemplateOrganizer\":\t{\"settings\":{\"attach\":true}},\n\t\t}\n\t};\n\tsettings = ( settings ? BITSMIST.v1.Util.deepMerge(defaults, settings) : defaults );\n\n\treturn Promise.resolve().then(() => {\n\t\t// super()\n\t\treturn Component.prototype.start.call(this, settings);\n\t}).then(() => {\n\t\treturn this.switchTemplate(this.settings.get(\"settings.templateName\"));\n\t}).then(() => {\n\t\treturn this._postStart();\n\t}).then(() => {\n\t\t// Open\n\t\tif (this.settings.get(\"settings.autoOpen\"))\n\t\t{\n\t\t\treturn this.open();\n\t\t}\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Change template html.\n *\n * @param\t{String}\t\ttemplateName\t\tTemplate name.\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.switchTemplate = function(templateName, options)\n{\n\n\toptions = Object.assign({}, options);\n\n\tif (this.isActiveTemplate(templateName))\n\t{\n\t\treturn Promise.resolve();\n\t}\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Pad.switchTemplate(): Switching template. name=${this.name}, templateName=${templateName}, id=${this.id}`);\n\t\treturn this.addTemplate(templateName);\n\t}).then(() => {\n\t\treturn this.applyTemplate(templateName);\n\t}).then(() => {\n\t\treturn this.callOrganizers(\"afterAppend\", this.settings.items);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterAppend\", options);\n\t}).then(() => {\n\t\tconsole.debug(`Pad.switchTemplate(): Switched template. name=${this.name}, templateName=${templateName}, id=${this.id}`);\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Open pad.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.open = function(options)\n{\n\n\toptions = Object.assign({}, options);\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Pad.open(): Opening pad. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"opening\");\n\t}).then(() => {\n\t\treturn this.trigger(\"beforeOpen\", options);\n\t}).then(() => {\n\t\t// Hide conditional elements\n\t\tthis.hideConditionalElements();\n\n\t\t// Setup\n\t\tlet autoSetupOnOpen = Util.safeGet(options, \"autoSetupOnOpen\", this.settings.get(\"settings.autoSetupOnOpen\"));\n\t\tlet autoSetup = Util.safeGet(options, \"autoSetupOnOpen\", this.settings.get(\"settings.autoSetup\"));\n\t\tif ( autoSetupOnOpen || (autoSetupOnOpen !== false && autoSetup) )\n\t\t{\n\t\t\treturn this.setup(options);\n\t\t}\n\t}).then(() => {\n\t\t// Refresh\n\t\tif (Util.safeGet(options, \"autoRefresh\", this.settings.get(\"settings.autoRefresh\")))\n\t\t{\n\t\t\treturn this.refresh(options);\n\t\t}\n\t}).then(() => {\n\t\treturn this.trigger(\"doOpen\", options);\n\t}).then(() => {\n\t\t// Auto focus\n\t\tlet autoFocus = this.settings.get(\"settings.autoFocus\");\n\t\tif (autoFocus)\n\t\t{\n\t\t\tlet target = ( autoFocus === true ? this : this.querySelector(autoFocus) );\n\t\t\tif (target)\n\t\t\t{\n\t\t\t\ttarget.focus();\n\t\t\t}\n\t\t}\n\t}).then(() => {\n\t\treturn this.trigger(\"afterOpen\", options);\n\t}).then(() => {\n\t\tconsole.debug(`Pad.open(): Opened pad. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"opened\");\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Open pad modally.\n *\n * @param\t{array}\t\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.openModal = function(options)\n{\n\n\tconsole.debug(`Pad.openModal(): Opening pad modally. name=${this.name}, id=${this.id}`);\n\n\treturn new Promise((resolve, reject) => {\n\t\tthis._isModal = true;\n\t\tthis._modalResult = {\"result\":false};\n\t\tthis._modalPromise = { \"resolve\": resolve, \"reject\": reject };\n\t\tthis.open(options);\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Close pad.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.close = function(options)\n{\n\n\toptions = Object.assign({}, options);\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Pad.close(): Closing pad. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"closing\");\n\t}).then(() => {\n\t\treturn this.trigger(\"beforeClose\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"doClose\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterClose\", options);\n\t}).then(() => {\n\t\tif (this._isModal)\n\t\t{\n\t\t\tthis._modalPromise.resolve(this._modalResult);\n\t\t}\n\t}).then(() => {\n\t\tconsole.debug(`Pad.close(): Closed pad. name=${this.name}, id=${this.id}`);\n\t\treturn this.changeState(\"closed\");\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Refresh pad.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.refresh = function(options)\n{\n\n\toptions = Object.assign({}, options);\n\n\treturn Promise.resolve().then(() => {\n\t\tconsole.debug(`Pad.refresh(): Refreshing pad. name=${this.name}, id=${this.id}`);\n\t\treturn this.trigger(\"beforeRefresh\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"doTarget\", options);\n\t}).then(() => {\n\t\t// Fetch\n\t\tif (Util.safeGet(options, \"autoFetch\", this.settings.get(\"settings.autoFetch\")))\n\t\t{\n\t\t\treturn this.fetch(options);\n\t\t}\n\t}).then(() => {\n\t\t// Show condtional elements\n\t\tthis.showConditionalElements(this.item);\n\t}).then(() => {\n\t\t// Fill\n\t\tif (Util.safeGet(options, \"autoFill\", this.settings.get(\"settings.autoFill\")))\n\t\t{\n\t\t\treturn this.fill(options);\n\t\t}\n\t}).then(() => {\n\t\treturn this.trigger(\"doRefresh\", options);\n\t}).then(() => {\n\t\treturn this.trigger(\"afterRefresh\", options);\n\t}).then(() => {\n\t\tconsole.debug(`Pad.refresh(): Refreshed pad. name=${this.name}, id=${this.id}`);\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Fill.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.fill = function(options)\n{\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Clear pad.\n *\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n *\n * @return  {Promise}\t\tPromise.\n */\nPad.prototype.clear = function(options)\n{\n}\n\n// -----------------------------------------------------------------------------\n\ncustomElements.define(\"bm-pad\", Pad);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport AjaxUtil from \"../util/ajax-util\";\nimport Organizer from \"./organizer\";\nimport Pad from \"../pad\";\nimport Util from \"../util/util\";\n\n// =============================================================================\n//\tTemplate organizer class\n// =============================================================================\n\nexport default class TemplateOrganizer extends Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit()\n\t{\n\n\t\t// Add properties\n\t\tObject.defineProperty(Pad.prototype, 'templates', { get() { return this._templates; }, });\n\t\tObject.defineProperty(Pad.prototype, 'activeTemplateName', { get() { return this._activeTemplateName; }, set(value) { this._activeTemplateName = value; } });\n\n\t\t// Add methods\n\t\tPad.prototype.addTemplate = function(templateName, options) { return TemplateOrganizer._addTemplate(this, templateName, options); }\n\t\tPad.prototype.applyTemplate = function(templateName) { return TemplateOrganizer._applyTemplate(this, templateName); }\n\t\tPad.prototype.cloneTemplate = function(templateName) { return TemplateOrganizer._clone(this, templateName); }\n\t\tPad.prototype.isActiveTemplate = function(templateName) { return TemplateOrganizer._isActiveTemplate(this, templateName); }\n\t\tPad.prototype.showConditionalElements = function(item) { return TemplateOrganizer._showConditionalElements(this, item); }\n\t\tPad.prototype.hideConditionalElements = function() { return TemplateOrganizer._hideConditionalElements(this); }\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic init(component, setttings)\n\t{\n\n\t\t// Init vars\n\t\tcomponent._templates = {};\n\t\tcomponent._activeTemplateName = \"\";\n\n\t\t// Set defaults if not set already\n\t\tcomponent.settings.set(\"settings.templateName\", component.settings.get(\"settings.templateName\", component.tagName.toLowerCase()));\n\n\t\t// Load settings from attributes\n\t\tTemplateOrganizer.__loadAttrSettings(component);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\n\t\tlet promises = [];\n\t\tlet templates = settings[\"templates\"];\n\t\tif (templates)\n\t\t{\n\t\t\tObject.keys(templates).forEach((templateName) => {\n\t\t\t\tif (conditions === \"beforeStart\")\n\t\t\t\t{\n\t\t\t\t\tswitch (templates[templateName][\"type\"])\n\t\t\t\t\t{\n\t\t\t\t\t\tcase \"html\":\n\t\t\t\t\t\tcase \"url\":\n\t\t\t\t\t\t\tpromises.push(TemplateOrganizer._addTemplate(component, templateName));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (conditions === \"afterAppend\")\n\t\t\t\t{\n\t\t\t\t\tswitch (templates[templateName][\"type\"])\n\t\t\t\t\t{\n\t\t\t\t\t\tcase \"node\":\n\t\t\t\t\t\t\tpromises.push(TemplateOrganizer._addTemplate(component, templateName));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic clear(component)\n\t{\n\n\t\tcomponent._templates = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the template is active.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t * @param\t{String}\t\ttemplateName\t\tTemplate name.\n\t *\n\t * @return  {Boolean}\t\tTrue when active.\n\t */\n\tstatic _isActiveTemplate(component, templateName)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (component._activeTemplateName === templateName)\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add a template.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t * @param\t{String}\t\ttemplateName\t\tTemplate name.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions for adding a template.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _addTemplate(component, templateName, options)\n\t{\n\n\t\tlet templateInfo = component._templates[templateName] || TemplateOrganizer.__createTemplateInfo(component, templateName);\n\n\t\tif (templateInfo[\"isLoaded\"])\n\t\t//if (templateInfo[\"isLoaded\"] && options && !options[\"forceLoad\"])\n\t\t{\n\t\t\tconsole.debug(`TemplateOrganizer._addTemplate(): Template already loaded. name=${component.name}, templateName=${templateName}`);\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn TemplateOrganizer.__getTemplate(component, component.settings.get(\"templates.\" + templateName, {}), templateInfo);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Apply template.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t * @param\t{String}\t\ttemplateName\t\tTemplate name.\n\t */\n\tstatic _applyTemplate(component, templateName)\n\t{\n\n\t\tif (component._activeTemplateName === templateName)\n\t\t{\n\t\t\tconsole.debug(`TemplateOrganizer._applyTemplate(): Template already applied. name=${component.name}, templateName=${templateName}`);\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tlet templateInfo = component._templates[templateName];\n\n\t\tUtil.assert(templateInfo,`TemplateOrganizer._applyTemplate(): Template not loaded. name=${component.name}, templateName=${templateName}`, ReferenceError);\n\n\t\tif (templateInfo[\"node\"])\n\t\t{\n\t\t\t// Template node\n\t\t\tlet clone = TemplateOrganizer.clone(component, templateInfo[\"name\"]);\n\t\t\tcomponent.insertBefore(clone, component.firstChild);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// HTML\n\t\t\tcomponent.innerHTML = templateInfo[\"html\"];\n\t\t}\n\n\t\t// Change active template\n\t\tcomponent._activeTemplateName = templateName;\n\n\t\tconsole.debug(`TemplateOrganizer._applyTemplate(): Applied template. name=${component.name}, templateName=${templateInfo[\"name\"]}, id=${component.id}`);\n\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clone the component.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t * @param\t{String}\t\ttemplateName\t\tTemplate name.\n\t *\n\t * @return  {Object}\t\tCloned component.\n\t */\n\tstatic _clone(component, templateName)\n\t{\n\n\t\ttemplateName = templateName || component.settings.get(\"settings.templateName\");\n\t\tlet templateInfo = component._templates[templateName];\n\n\t\tUtil.assert(templateInfo,`TemplateOrganizer._addTemplate(): Template not loaded. name=${component.name}, templateName=${templateName}`, ReferenceError);\n\n\t\tlet clone;\n\t\tif (templateInfo[\"node\"])\n\t\t{\n\t\t\t// A template tag\n\t\t\tclone = document.importNode(templateInfo[\"node\"], true);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Not a template tag\n\t\t\tlet ele = document.createElement(\"div\");\n\t\t\tele.innerHTML = templateInfo[\"html\"];\n\n\t\t\tclone = ele.firstElementChild;\n\t\t}\n\n\t\treturn clone;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Show \"bm-visible\" elements if condition passed.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\titem\t\t\t\tItem used to judge condition.\n\t */\n\tstatic _showConditionalElements(component, item)\n\t{\n\n\t\t// Get elements with bm-visible attribute\n\t\tlet elements = Util.scopedSelectorAll(component, \"[bm-visible]\");\n\n\t\t// Show elements\n\t\telements.forEach((element) => {\n\t\t\tlet condition = element.getAttribute(\"bm-visible\");\n\t\t\tif (Util.safeEval(condition, item, item))\n\t\t\t{\n\t\t\t\telement.style.removeProperty(\"display\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\telement.style.display = \"none\";\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Hide \"bm-visible\" elements.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic _hideConditionalElements(component)\n\t{\n\n\t\t// Get elements with bm-visible attribute\n\t\tlet elements = Util.scopedSelectorAll(component, \"[bm-visible]\");\n\n\t\t// Hide elements\n\t\telements.forEach((element) => {\n\t\t\telement.style.display = \"none\";\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the template html.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tTemplate url.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __loadTemplateFile(url)\n\t{\n\n\t\tconsole.debug(`TemplateOrganzier.loadTemplate(): Loading template. url=${url}`);\n\n\t\treturn AjaxUtil.ajaxRequest({url:url, method:\"GET\"}).then((xhr) => {\n\t\t\tconsole.debug(`TemplateOrganzier.loadTemplate(): Loaded template. url=${url}`);\n\n\t\t\treturn xhr.responseText;\n\t\t});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Returns a new template info object.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t * @param\t{String}\t\ttemplateName\t\tTemplate name.\n\t *\n\t * @return  {Object}\t\tTemplate info.\n\t */\n\tstatic __createTemplateInfo(component, templateName)\n\t{\n\n\t\tif (!component._templates[templateName])\n\t\t{\n\t\t\tcomponent._templates[templateName] = {};\n\t\t\tcomponent._templates[templateName][\"name\"] = templateName;\n\t\t\tcomponent._templates[templateName][\"html\"] = \"\";\n\t\t\tcomponent._templates[templateName][\"isLoaded\"] = false;\n\t\t}\n\n\t\treturn component._templates[templateName];\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Store a template node.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t * @param\t{Object}\t\ttemplateInfo\t\tTemplate info.\n\t * @param\t{String}\t\ttemplateNodeName\tTemplate node name.\n\t */\n\tstatic __storeTemplateNode(component, templateInfo, templateNodeName)\n\t{\n\n\t\tlet rootNode = document.querySelector(templateNodeName);\n\t\tUtil.assert(rootNode, `TemplateOrganizer._storeTemplate(): Root node does not exist. name=${component.name}, rootNode=${templateNodeName}, templateName=${templateInfo[\"name\"]}`, ReferenceError);\n\n\t\trootNode.insertAdjacentHTML(\"afterbegin\", templateInfo[\"html\"]);\n\t\tlet node = rootNode.children[0];\n\t\ttemplateInfo[\"node\"] = ('content' in node ? node.content : node);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get settings from element's attribute.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic __loadAttrSettings(component)\n\t{\n\n\t\t/*\n\t\t// Get template path from attribute\n\t\tif (component.hasAttribute(\"bm-templatepath\"))\n\t\t{\n\t\t\tcomponent.settings.set(\"system.templatePath\", component.getAttribute(\"bm-templatepath\"));\n\t\t}\n\n\t\t// Get template name from attribute\n\t\tif (component.hasAttribute(\"bm-templatename\"))\n\t\t{\n\t\t\tcomponent.settings.set(\"templateName\", component.getAttribute(\"bbmmplatename\"));\n\t\t}\n\n\t\t// Get template ref from templateref\n\t\tif (component.hasAttribute(\"bm-templateref\"))\n\t\t{\n\t\t\tlet arr = Util.getFilenameAndPathFromUrl(component.getAttribute(\"bm-templateref\"));\n\t\t\tcomponent.settings.set(\"system.templatePath\", arr[0]);\n\t\t\tcomponent.settings.set(\"templateName\", arr[1].replace(\".html\", \"\"));\n\t\t}\n\t\t*/\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get a template html according to settings.\n\t *\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic __getTemplate(component, settings, templateInfo)\n\t{\n\n\t\tlet promise = Promise.resolve();\n\t\tlet html;\n\n\t\tswitch (settings[\"type\"]) {\n\t\tcase \"html\":\n\t\t\ttemplateInfo[\"html\"] = settings[\"html\"];\n\t\t\tbreak;\n\t\tcase \"node\":\n\t\t\ttemplateInfo[\"html\"] = component.querySelector(settings[\"rootNode\"]).innerHTML;\n\t\t\tbreak;\n\t\tcase \"url\":\n\t\tdefault:\n\t\t\tlet path = Util.concatPath([\n\t\t\t\tcomponent.settings.get(\"system.appBaseUrl\", \"\"),\n\t\t\t\tcomponent.settings.get(\"system.templatePath\", \"\"),\n\t\t\t\tcomponent.settings.get(\"settings.path\", \"\")\n\t\t\t]);\n\t\t\tlet url = Util.concatPath([path, templateInfo[\"name\"] + \".html\"]);\n\n\t\t\tpromise = TemplateOrganizer.__loadTemplateFile(url).then((template) => {\n\t\t\t\ttemplateInfo[\"html\"] = template;\n\t\t\t\t/*\n\t\t\t}).then(() => {\n\t\t\t\tif (component.settings.get(\"settings.templateNode\"))\n\t\t\t\t{\n\t\t\t\t\tTemplateOrganizer.__storeTemplateNode(component, templateInfo, component.settings.get(\"settings.templateNode\"));\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t});\n\t\t\tbreak;\n\t\t}\n\n\t\treturn promise.then(() => {\n\t\t\ttemplateInfo[\"isLoaded\"] = true;\n\t\t});\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Component from \"../component.js\";\nimport Organizer from \"./organizer.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tEvent organizer class\n// =============================================================================\n\nexport default class EventOrganizer extends Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit()\n\t{\n\n\t\t// Add methods\n\t\tComponent.prototype.initEvents = function(elementName, handlerInfo, rootNode) {\n\t\t\tEventOrganizer._initEvents(this, elementName, handlerInfo, rootNode)\n\t\t}\n\t\tComponent.prototype.addEventHandler = function(eventName, handlerInfo, element, bindTo) {\n\t\t\tEventOrganizer._addEventHandler(this, element, eventName, handlerInfo, bindTo);\n\t\t}\n\t\tComponent.prototype.trigger = function(eventName, options, element) {\n\t\t\treturn EventOrganizer._trigger(this, eventName, options, element)\n\t\t}\n\t\tComponent.prototype.triggerAsync = function(eventName, options, element) {\n\t\t\treturn EventOrganizer._triggerAsync(this, eventName, options, element)\n\t\t}\n\t\tComponent.prototype.getEventHandler = function(handlerInfo) {\n\t\t\treturn EventOrganizer._getEventHandler(this, handlerInfo)\n\t\t}\n\t\tComponent.prototype.removeEventHandler = function(eventName, handlerInfo, element) {\n\t\t\treturn EventOrganizer._removeEventHandler(this, element, eventName, handlerInfo)\n\t\t}\n\n\t\t// Add properties\n\t\tObject.defineProperty(Component.prototype, 'eventResult', {\n\t\t\tget() { return this._eventResult; },\n\t\t})\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic init(component, settings)\n\t{\n\n\t\t// Init vars\n\t\tcomponent._eventResult = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\n\t\tlet events = settings[\"events\"];\n\t\tif (events)\n\t\t{\n\t\t\tlet targets = EventOrganizer.__filterElements(component, events, conditions);\n\n\t\t\tObject.keys(targets).forEach((elementName) => {\n\t\t\t\tEventOrganizer._initEvents(component, elementName, events[elementName]);\n\t\t\t});\n\t\t}\n\n\t}\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Unorganize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic unorganize(conditions, component, settings)\n\t{\n\n\t\tlet events = settings[\"events\"];\n\t\tif (events)\n\t\t{\n\t\t\tObject.keys(events).forEach((elementName) => {\n\t\t\t\tEventOrganizer._removeEvents(component, elementName, events[elementName]);\n\t\t\t});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add an event handler.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{HTMLElement}\telement\t\t\t\t\tHTML element.\n\t * @param\t{String}\t\teventName\t\t\t\tEvent name.\n\t * @param\t{Object/Function/String}\thandlerInfo\tEvent handler info.\n\t * @param\t{Object}\t\tbindTo\t\t\t\t\tObject that binds to the handler.\n\t */\n\tstatic _addEventHandler(component, element, eventName, handlerInfo, bindTo)\n\t{\n\n\t\telement = element || component;\n\t\tlet handlerOptions = (typeof handlerInfo === \"object\" ? handlerInfo : {});\n\n\t\t// Get handler\n\t\tlet handler = EventOrganizer._getEventHandler(component, handlerInfo);\n\t\tUtil.assert(handler, `EventOrganizer._addEventHandler(): handler not found. name=${component.name}, eventName=${eventName}`);\n\n\t\t// Init holder object for the element\n\t\tif (!element.__bm_eventinfo)\n\t\t{\n\t\t\telement.__bm_eventinfo = { \"component\":component, \"listeners\":{}, \"promises\":{}, \"statuses\":{} };\n\t\t}\n\n\t\t// Add hook event handler\n\t\tlet listeners = element.__bm_eventinfo.listeners;\n\t\tif (!listeners[eventName])\n\t\t{\n\t\t\tlisteners[eventName] = [];\n\t\t\telement.addEventListener(eventName, EventOrganizer.__callEventHandler, handlerOptions[\"listnerOptions\"]);\n\t\t}\n\n\t\t// Register listener info\n\t\tlisteners[eventName].push({\"handler\":handler, \"options\":handlerOptions[\"options\"], \"bindTo\":bindTo, \"order\":order});\n\n\t\t// Stable sort by order\n\t\tlet order = Util.safeGet(handlerOptions, \"order\");\n\t\tlisteners[eventName].sort((a, b) => {\n\t\t\tif (a.order === b.order)\treturn 0;\n\t\t\telse if (a.order > b.order)\treturn 1;\n\t\t\telse \t\t\t\t\t\treturn -1\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove an event handler.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{HTMLElement}\telement\t\t\t\t\tHTML element.\n\t * @param\t{String}\t\teventName\t\t\t\tEvent name.\n\t * @param\t{Object/Function/String}\thandlerInfo\tEvent handler info.\n\t */\n\tstatic _removeEventHandler(component, element, eventName, handlerInfo)\n\t{\n\n\t\telement = element || component;\n\n\t\t// Get handler\n\t\tlet handler = EventOrganizer._getEventHandler(component, handlerInfo);\n\t\tUtil.assert(handler, `EventOrganizer._removeEventHandler(): handler not found. name=${component.name}, eventName=${eventName}`);\n\n\t\tlet listeners = Util.safeGet(element, \"__bm_eventinfo.listeners.\" + eventName);\n\t\tif (listeners)\n\t\t{\n\t\t\tfor (let i = listeners.length - 1; i >= 0; i--)\n\t\t\t{\n\t\t\t\tif (listeners[i][\"handler\"] === handler)\n\t\t\t\t{\n\t\t\t\t\tlisteners.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set event handlers to the element.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\teventInfo\t\t\tEvent info.\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node of elements.\n\t */\n\tstatic _initEvents(component, elementName, eventInfo, rootNode)\n\t{\n\n\t\trootNode = ( rootNode ? rootNode : component );\n\n\t\t// Get target elements\n\t\tlet elements = EventOrganizer.__getTargetElements(component, rootNode, elementName, eventInfo);\n\t\t//Util.assert(elements.length > 0, `EventOrganizer._initEvents: No elements for the event found. name=${component.name}, elementName=${elementName}`, TypeError);\n\n\t\t// Set event handlers\n\t\tObject.keys(eventInfo[\"handlers\"]).forEach((eventName) => {\n\t\t\tlet handlers = ( Array.isArray(eventInfo[\"handlers\"][eventName]) ? eventInfo[\"handlers\"][eventName] : [eventInfo[\"handlers\"][eventName]] );\n\t\t\tfor (let i = 0; i < handlers.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < elements.length; j++)\n\t\t\t\t{\n\t\t\t\t\tcomponent.addEventHandler(eventName, handlers[i], elements[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove event handlers from the element.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\teventInfo\t\t\tEvent info.\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node of elements.\n\t */\n\tstatic _removeEvents(component, elementName, eventInfo, rootNode)\n\t{\n\n\t\trootNode = ( rootNode ? rootNode : component );\n\n\t\t// Get target elements\n\t\tlet elements = EventOrganizer.__getTargetElements(component, rootNode, elementName, eventInfo);\n\n\t\t// Remove event handlers\n\t\tObject.keys(eventInfo[\"handlers\"]).forEach((eventName) => {\n\t\t\tlet handlers = ( Array.isArray(eventInfo[\"handlers\"][eventName]) ? eventInfo[\"handlers\"][eventName] : [eventInfo[\"handlers\"][eventName]] );\n\t\t\tfor (let i = 0; i < handlers.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < elements.length; j++)\n\t\t\t\t{\n\t\t\t\t\tcomponent.removeEventHandler(eventName, handlers[i], elements[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Trigger the event synchronously.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\t\tComponent.\n\t * @param\t{String}\t\teventName\t\t\t\tEvent name to trigger.\n\t * @param\t{Object}\t\toptions\t\t\t\t\tEvent parameter options.\n\t * @param\t{HTMLElement}\telement\t\t\t\t\tHTML element.\n\t */\n\tstatic _trigger(component, eventName, options, element)\n\t{\n\n\t\toptions = Object.assign({}, options);\n\t\toptions[\"sender\"] = options[\"sender\"] || component;\n\t\tcomponent._eventResult = {};\n\t\toptions[\"result\"] = component._eventResult;\n\t\telement = ( element ? element : component );\n\t\tlet e = null;\n\n\t\ttry\n\t\t{\n\t\t\te = new CustomEvent(eventName, { detail: options });\n\t\t}\n\t\tcatch(error)\n\t\t{\n\t\t\te  = document.createEvent(\"CustomEvent\");\n\t\t\te.initCustomEvent(eventName, false, false, options);\n\t\t}\n\n\t\telement.dispatchEvent(e);\n\n\t\t// return the promise if exists\n\t\treturn Util.safeGet(element, \"__bm_eventinfo.promises.\" + eventName) || Promise.resolve();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Trigger the event asynchronously.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\t\tComponent.\n\t * @param\t{String}\t\teventName\t\t\t\tEvent name to trigger.\n\t * @param\t{Object}\t\toptions\t\t\t\t\tEvent parameter options.\n\t * @param\t{HTMLElement}\telement\t\t\t\t\tHTML element.\n\t */\n\tstatic _triggerAsync(component, eventName, options, element)\n\t{\n\n\t\toptions = options || {};\n\t\toptions[\"async\"] = true;\n\n\t\treturn EventOrganizer._trigger.call(component, component, eventName, options, element);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get an event handler from a handler info object.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\t\tComponent.\n\t * @param\t{Object/Function/String}\thandlerInfo\tHandler info.\n\t */\n\tstatic _getEventHandler(component, handlerInfo)\n\t{\n\n\t\tlet handler = ( typeof handlerInfo === \"object\" ? handlerInfo[\"handler\"] : handlerInfo );\n\n\t\treturn handler;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Filter target elements according to a condition.\n\t *\n\t * @param\t{Object}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\teventInfo\t\t\tEvent settings.\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t *\n\t * @return \t{Object}\t\tTarget elements.\n\t */\n\tstatic __filterElements(component, eventInfo, conditions)\n\t{\n\n\t\tlet keys;\n\n\t\tswitch (conditions)\n\t\t{\n\t\tcase \"beforeStart\":\n\t\t\t// Return events only for the component itself.\n\t\t\tkeys = Object.keys(eventInfo).filter((elementName) => {\n\t\t\t\treturn EventOrganizer.__isTargetSelf(elementName, eventInfo[elementName]);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"afterAppend\":\n\t\t\t// Return events only for elements inside the component.\n\t\t\tkeys = Object.keys(eventInfo).filter((elementName) => {\n\t\t\t\treturn !EventOrganizer.__isTargetSelf(elementName, eventInfo[elementName]);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"afterSpecLoad\":\n\t\t\t// Return all\n\t\t\tkeys = Object.keys(eventInfo);\n\t\t\tbreak;\n\t\t}\n\n\t\tlet targets = keys.reduce((result, key) => {\n\t\t\tresult[key] = eventInfo[key];\n\t\t\treturn result;\n\t\t}, {});\n\n\t\treturn targets;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if a target element is component itself.\n\t *\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\telementInfo\t\t\tElement info.\n\t *\n\t * @return \t{Boolean}\t\t\tTarget node list.\n\t */\n\t\tstatic __isTargetSelf(elementName, eventInfo)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (elementName === \"this\" || eventInfo && eventInfo[\"rootNode\"] === \"this\")\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get target elements for the eventInfo.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{HTMLElement}\trootNode\t\t\tA root node to search elements.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\telementInfo\t\t\tElement info.\n\t *\n\t * @return \t{Array}\t\t\tTarget node list.\n\t */\n\tstatic __getTargetElements(component, rootNode, elementName, eventInfo)\n\t{\n\n\t\tlet elements;\n\n\t\tif (EventOrganizer.__isTargetSelf(elementName, eventInfo))\n\t\t{\n\t\t\telements = [rootNode];\n\t\t}\n\t\telse if (eventInfo && eventInfo[\"rootNode\"])\n\t\t{\n\t\t\telements = Util.scopedSelectorAll(rootNode, eventInfo[\"rootNode\"]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\telements = Util.scopedSelectorAll(rootNode, \"#\" + elementName);\n\t\t}\n\n\t\treturn elements;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the given handler is already installed.\n\t *\n\t * @param\t{HTMLElement}\telement\t\t\t\tHTMLElement to check.\n\t * @param\t{String}\t\teventName\t\t\tEvent name.\n\t * @param\t{Function}\t\thandler\t\t\t\tEvent handler.\n\t *\n\t * @return \t{Boolean}\t\tTrue if already installed.\n\t */\n\tstatic __isHandlerInstalled(element, eventName, handler)\n\t{\n\n\t\tlet isInstalled = false;\n\t\tlet listeners = Util.safeGet(element.__bm_eventinfo, \"listeners.\" + eventName);\n\n\t\tif (listeners)\n\t\t{\n\t\t\tfor (let i = 0; i < listeners.length; i++)\n\t\t\t{\n\t\t\t\tif (listeners[i][\"handler\"] === handler)\n\t\t\t\t{\n\t\t\t\t\tisInstalled = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn isInstalled;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call event handlers.\n\t *\n\t * This function is registered as event listener by element.addEventListener(),\n\t * so \"this\" is HTML element that triggered the event.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\t\tEvent parameter.\n\t */\n\tstatic __callEventHandler(e)\n\t{\n\n\t\tlet listeners = Util.safeGet(this, \"__bm_eventinfo.listeners.\" + e.type);\n\t\tlet sender = Util.safeGet(e, \"detail.sender\", this);\n\t\tlet component = Util.safeGet(this, \"__bm_eventinfo.component\");\n\n\t\t// Check if handler is already running\n\t\t//Util.assert(Util.safeGet(this, \"__bm_eventinfo.statuses.\" + e.type) !== \"handling\", `EventOrganizer.__callEventHandler(): Event handler is already running. name=${this.tagName}, eventName=${e.type}`, Error);\n\t\tUtil.warn(Util.safeGet(this, \"__bm_eventinfo.statuses.\" + e.type) !== \"handling\", `EventOrganizer.__callEventHandler(): Event handler is already running. name=${this.tagName}, eventName=${e.type}`);\n\n\t\tUtil.safeSet(this, \"__bm_eventinfo.statuses.\" + e.type, \"handling\");\n\n\t\tif (Util.safeGet(e, \"detail.async\", false) === false)\n\t\t{\n\t\t\t// Wait previous handler\n\t\t\tthis.__bm_eventinfo[\"promises\"][e.type] = EventOrganizer.__handle(e, sender, component, listeners).then((result) => {\n\t\t\t\tUtil.safeSet(this, \"__bm_eventinfo.promises.\" + e.type, null);\n\t\t\t\tUtil.safeSet(this, \"__bm_eventinfo.statuses.\" + e.type, \"\");\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Does not wait previous handler\n\t\t\tthis.__bm_eventinfo[\"promises\"][e.type] = EventOrganizer.__handleAsync(e, sender, component, listeners);\n\t\t\tUtil.safeSet(this, \"__bm_eventinfo.promises.\" + e.type, null);\n\t\t\tUtil.safeSet(this, \"__bm_eventinfo.statuses.\" + e.type, \"\");\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call event handlers.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\t\tEvent parameter.\n\t * @param\t{Object}\t\tsender\t\t\t\t\tSender object.\n\t * @param\t{Object}\t\tcomponent\t\t\t\tTarget component.\n\t * @param\t{Object}\t\tlistener\t\t\t\tListers info.\n\t */\n\tstatic __handle(e, sender, component, listeners)\n\t{\n\n\t\tlet chain = Promise.resolve();\n\t\tlet stopPropagation = false;\n\n\t\tfor (let i = 0; i < listeners.length; i++)\n\t\t{\n\t\t\t// Options set in addEventHandler()\n\t\t\tlet ex = {\n\t\t\t\t\"component\": component,\n\t\t\t\t\"options\": ( listeners[i][\"options\"] ? listeners[i][\"options\"] : {} )\n\t\t\t}\n\n\t\t\tchain = chain.then(() => {\n\t\t\t\t// Get a handler\n\t\t\t\tlet handler = listeners[i][\"handler\"];\n\t\t\t\thandler = ( typeof handler === \"string\" ? component[handler] : handler );\n\t\t\t\tUtil.assert(typeof handler === \"function\", `EventOrganizer._addEventHandler(): Event handler is not a function. name=${component.name}, eventName=${e.type}`, TypeError);\n\n\t\t\t\t// Execute handler\n\t\t\t\tlet bindTo = ( listeners[i][\"bindTo\"] ? listeners[i][\"bindTo\"] : component );\n\t\t\t\treturn handler.call(bindTo, sender, e, ex);\n\t\t\t});\n\n\t\t\tstopPropagation = (listeners[i][\"options\"] && listeners[i][\"options\"][\"stopPropagation\"] ? true : stopPropagation)\n\t\t}\n\n\t\tif (stopPropagation)\n\t\t{\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\treturn chain;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call event handlers (Async).\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\t\tEvent parameter.\n\t * @param\t{Object}\t\tsender\t\t\t\t\tSender object.\n\t * @param\t{Object}\t\tcomponent\t\t\t\tTarget component.\n\t * @param\t{Object}\t\tlistener\t\t\t\tListers info.\n\t */\n\tstatic __handleAsync(e, sender, component, listeners)\n\t{\n\n\t\tlet stopPropagation = false;\n\n\t\tfor (let i = 0; i < listeners.length; i++)\n\t\t{\n\t\t\t// Options set on addEventHandler()\n\t\t\tlet ex = {\n\t\t\t\t\"component\": component,\n\t\t\t\t\"options\": ( listeners[i][\"options\"] ? listeners[i][\"options\"] : {} )\n\t\t\t}\n\n\t\t\t// Get a handler\n\t\t\tlet handler = listeners[i][\"handler\"];\n\t\t\thandler = ( typeof handler === \"string\" ? component[handler] : handler );\n\t\t\tUtil.assert(typeof handler === \"function\", `EventOrganizer._addEventHandler(): Event handler is not a function. name=${component.name}, eventName=${e.type}`, TypeError);\n\n\t\t\t// Execute handler\n\t\t\tlet bindTo = ( listeners[i][\"bindTo\"] ? listeners[i][\"bindTo\"] : component );\n\t\t\thandler.call(bindTo, sender, e, ex);\n\n\t\t\tstopPropagation = (listeners[i][\"options\"] && listeners[i][\"options\"][\"stopPropagation\"] ? true : stopPropagation)\n\t\t}\n\n\t\tif (stopPropagation)\n\t\t{\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport AjaxUtil from \"../util/ajax-util.js\";\nimport ClassUtil from \"../util/class-util.js\";\nimport Organizer from \"./organizer.js\";\nimport Pad from \"../pad.js\";\nimport Store from \"../store/store.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tComponent organizer class\n// =============================================================================\n\nexport default class ComponentOrganizer extends Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit(targetClass)\n\t{\n\n\t\t// Init vars\n\t\tComponentOrganizer.__classes = new Store();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic init(component, settings)\n\t{\n\n\t\t// Add properties\n\t\tObject.defineProperty(component, \"components\", {\n\t\t\tget() { return this._components; },\n\t\t});\n\n\t\t// Add methods\n\t\tcomponent.loadTags = ComponentOrganizer.loadTags;\n\t\tcomponent.addComponent = function(componentName, settings, sync) { return ComponentOrganizer._addComponent(this, componentName, settings, sync); }\n\n\t\t// Init vars\n\t\tcomponent._components = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\n\t\tlet chain = Promise.resolve();\n\n\t\t// Load molds\n\t\tlet molds = settings[\"molds\"];\n\t\tif (molds)\n\t\t{\n\t\t\tObject.keys(molds).forEach((moldName) => {\n\t\t\t\tchain = chain.then(() => {\n\t\t\t\t\treturn ComponentOrganizer._addComponent(component, moldName, molds[moldName], \"opened\");\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Load components\n\t\tlet components = settings[\"components\"];\n\t\tif (components)\n\t\t{\n\t\t\tObject.keys(components).forEach((componentName) => {\n\t\t\t\tchain = chain.then(() => {\n\t\t\t\t\treturn ComponentOrganizer._addComponent(component, componentName, components[componentName]);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn chain;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic unorganize(conditions, component, settings)\n\t{\n\n\t\tComponentOrganizer.clear(component);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t */\n\tstatic clear(component)\n\t{\n\n\t\tObject.keys(component._components).forEach((key) => {\n\t\t\tcomponent._components[key].parentNode.removeChild(component._components[key]);\n\t\t});\n\n\t\tcomponent._components = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add a component to parent component.\n\t *\n\t * @param\t{Component}\t\tcomponent\t\t\tParent component.\n\t * @param\t{String}\t\tcomponentName\t\tComponent name.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings for the component.\n\t * @param\t{Boolean}\t\tsync\t\t\t\tWait for the component to become the state.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _addComponent(component, componentName, settings, sync)\n\t{\n\n\t\tlet path = Util.concatPath([\n\t\t\tcomponent.settings.get(\"system.appBaseUrl\", \"\"),\n\t\t\tcomponent.settings.get(\"system.componentPath\", \"\"),\n\t\t\tUtil.safeGet(settings, \"settings.path\", \"\")\n\t\t]);\n\t\tlet className = Util.safeGet(settings, \"settings.className\") || componentName;\n\t\tlet tagName = Util.safeGet(settings, \"settings.tagName\") || Util.getTagNameFromClassName(className);\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\t// Load component\n\t\t\tlet autoLoad = Util.safeGet(settings, \"settings.autoLoad\", component.settings.get(\"system.autoLoad\", true));\n\t\t\tlet splitComponent = Util.safeGet(settings, \"settings.splitComponent\", component.settings.get(\"system.splitComponent\", false));\n\t\t\tlet options = { \"autoLoad\":autoLoad, \"splitComponent\":splitComponent };\n\t\t\treturn ComponentOrganizer._loadComponent(className, path, settings, options, tagName);\n\t\t}).then(() => {\n\t\t\t// Insert tag\n\t\t\tif (Util.safeGet(settings, \"settings.rootNode\") && !component._components[componentName])\n\t\t\t{\n\t\t\t\tcomponent._components[componentName] = ComponentOrganizer.__insertTag(component, tagName, settings);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\t// Wait for the added component to be ready\n\t\t\tif (sync || Util.safeGet(settings, \"settings.sync\"))\n\t\t\t{\n\t\t\t\tsync = sync || Util.safeGet(settings, \"settings.sync\"); // sync precedes settings[\"sync\"]\n\t\t\t\tlet state = (sync === true ? \"started\" : sync);\n\t\t\t\tlet c = className.split(\".\");\n\t\t\t\treturn component.waitFor([{\"name\":c[c.length - 1], \"state\":state}]);\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Load scripts for tags which has bm-autoload attribute.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tTarget node.\n\t * @param\t{String}\t\tbasePath\t\t\tBase path prepend to each element's path.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadTags(rootNode, basePath, options)\n\t{\n\n\t\tconsole.debug(`ComponentOrganizer._loadTags(): Loading tags. rootNode=${rootNode.tagName}, basePath=${basePath}`);\n\n\t\tlet promises = [];\n\t\tlet waitList = [];\n\n\t\t// Load tags that has bm-autoload/bm-automorph attribute\n\t\tlet targets = Util.scopedSelectorAll(rootNode, \"[bm-autoload]:not([bm-autoloading]):not([bm-powered]),[bm-automorph]:not([bm-autoloading]):not([bm-powered])\");\n\t\ttargets.forEach((element) => {\n\t\t\telement.setAttribute(\"bm-autoloading\", \"\");\n\n\t\t\tlet promise = Promise.resolve().then(() => {\n\t\t\t\treturn ComponentOrganizer.__loadTag(element, basePath, options);\n\t\t\t}).then(() => {\n\t\t\t\telement.removeAttribute(\"bm-autoloading\");\n\t\t\t});\n\n\t\t\tpromises.push(promise);\n\t\t});\n\n\t\t// Create waiting list to wait Bitsmist components\n\t\ttargets = Util.scopedSelectorAll(rootNode, \"[bm-powered],[bm-autoloading]\");\n\t\ttargets.forEach((element) => {\n\t\t\tif (rootNode != element.rootElement)\n\t\t\t{\n\t\t\t\tlet waitItem = {\"object\":element, \"state\":\"started\"};\n\t\t\t\twaitList.push(waitItem);\n\t\t\t}\n\t\t});\n\n\t\t// Wait for the elements to be loaded\n\t\treturn Promise.all(promises).then(() => {\n\t\t\tlet waitFor = Util.safeGet(options, \"waitForTags\") && waitList.length > 0;\n\t\t\tif (waitFor)\n\t\t\t{\n\t\t\t\t// Wait for the elements to become \"started\"\n\t\t\t\treturn BITSMIST.v1.StateOrganizer.waitFor(waitList, {\"waiter\":rootNode});\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Load a tag.\n\t *\n\t * @param\t{HTMLElement}\telement\t\t\t\tTarget element.\n\t * @param\t{String}\t\tbasePath\t\t\tBase path prepend to each element's path.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __loadTag(element, basePath, options)\n\t{\n\n\t\tlet href = element.getAttribute(\"bm-autoload\");\n\t\tlet className = element.getAttribute(\"bm-classname\") || Util.getClassNameFromTagName(element.tagName);\n\t\tlet path = element.getAttribute(\"bm-path\") || \"\";\n\t\tlet split = ( element.hasAttribute(\"bm-split\") ? true : options[\"splitComponent\"] );\n\t\tlet morph = ( element.hasAttribute(\"bm-automorph\") ?\n\t\t\t( element.getAttribute(\"bm-automorph\") ? element.getAttribute(\"bm-automorph\") : true ) :\n\t\t\tfalse\n\t\t);\n\t\tlet settings = {\"settings\":{\"autoMorph\":morph}};\n\t\tlet loadOptions = {\"splitComponent\":split, \"autoLoad\": true};\n\n\t\tif (href)\n\t\t{\n\t\t\tlet arr = Util.getFilenameAndPathFromUrl(href);\n\t\t\tpath = arr[0];\n\t\t\tif (href.slice(-3).toLowerCase() === \".js\")\n\t\t\t{\n\t\t\t\tsettings[\"settings\"][\"fileName\"] = arr[1].substring(0, arr[1].length - 3);\n\t\t\t}\n\t\t\telse if (href.slice(-5).toLowerCase() === \".html\")\n\t\t\t{\n\t\t\t\tsettings[\"settings\"][\"autoMorph\"] = true;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpath = Util.concatPath([basePath, path]);\n\t\t}\n\n\t\treturn ComponentOrganizer._loadComponent(className, path, settings, loadOptions, element.tagName);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load a component.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t * @param\t{String}\t\tpath\t\t\t\tPath to component.\n\t * @param\t{Object}\t\tsettings\t\t\tComponent settings.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t * @param\t{String}\t\ttagName\t\t\t\tComponent's tag name\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _loadComponent(className, path, settings, options, tagName)\n\t{\n\n\t\tlet morph = Util.safeGet(settings, \"settings.autoMorph\");\n\t\tif (morph)\n\t\t{\n\t\t\t// Define empty class\n\t\t\tconsole.debug(`ComponentOrganizer._loadComponent(): Creating empty component. className=${className}, path=${path}, tagName=${tagName}`);\n\n\t\t\tlet classDef = ( morph === true ?  BITSMIST.v1.Pad : ClassUtil.getClass(morph) );\n\t\t\tif (!customElements.get(tagName.toLowerCase()))\n\t\t\t{\n\t\t\t\tClassUtil.newComponent(classDef, settings, tagName, className);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (options[\"autoLoad\"])\n\t\t\t{\n\t\t\t\t// Load component script\n\t\t\t\treturn ComponentOrganizer.__autoloadComponent(className, path, settings, options);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the class exists.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t *\n\t * @return  {Bool}\t\t\tTrue if exists.\n\t */\n\tstatic __isLoadedClass(className)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (ComponentOrganizer.__classes.get(className, {})[\"state\"] === \"loaded\")\n\t\t{\n\t\t\tret = true;\n\t\t}\n\t\telse if (ClassUtil.getClass(className))\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the component if not loaded yet.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tComponent class name.\n\t * @param\t{String}\t\tpath\t\t\t\tPath to component.\n\t * @param\t{Object}\t\tsettings\t\t\tComponent settings.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __autoloadComponent(className, path, settings, options)\n\t{\n\n\t\tconsole.debug(`ComponentOrganizer.__autoLoadComponent(): Auto loading component. className=${className}, path=${path}`);\n\n\t\tlet promise;\n\t\tlet tagName = Util.safeGet(settings, \"settings.tagName\") || Util.getTagNameFromClassName(className);\n\t\tlet fileName = Util.safeGet(settings, \"settings.fileName\", tagName);\n\n\t\tif (ComponentOrganizer.__isLoadedClass(className) || customElements.get(tagName))\n\t\t{\n\t\t\t// Already loaded\n\t\t\tconsole.debug(`ComponentOrganizer.__autoLoadComponent(): Component Already exists. className=${className}`);\n\t\t\tComponentOrganizer.__classes.set(className, {\"state\":\"loaded\"});\n\t\t\tpromise = Promise.resolve();\n\t\t}\n\t\telse if (ComponentOrganizer.__classes.get(className, {})[\"state\"] === \"loading\")\n\t\t{\n\t\t\t// Already loading\n\t\t\tconsole.debug(`ComponentOrganizer.__autoLoadComponent(): Component Already loading. className=${className}`);\n\t\t\tpromise = ComponentOrganizer.__classes.get(className)[\"promise\"];\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Not loaded\n\t\t\tComponentOrganizer.__classes.set(className, {\"state\":\"loading\"});\n\t\t\tpromise = ComponentOrganizer.__loadComponentScript(fileName, path, options).then(() => {\n\t\t\t\tComponentOrganizer.__classes.set(className, {\"state\":\"loaded\", \"promise\":null});\n\t\t\t});\n\t\t\tComponentOrganizer.__classes.set(className, {\"promise\":promise});\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the component js files.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t * @param\t{String}\t\tpath\t\t\t\tPath to component.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __loadComponentScript(fileName, path, options)\n\t{\n\n\t\tconsole.debug(`ComponentOrganizer.__loadComponentScript(): Loading script. fileName=${fileName}, path=${path}`);\n\n\t\tlet url1 = Util.concatPath([path, fileName + \".js\"]);\n\t\tlet url2 = Util.concatPath([path, fileName + \".settings.js\"]);\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\treturn AjaxUtil.loadScript(url1);\n\t\t}).then(() => {\n\t\t\tif (options[\"splitComponent\"])\n\t\t\t{\n\t\t\t\treturn AjaxUtil.loadScript(url2);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tconsole.debug(`ComponentOrganizer.__loadComponentScript(): Loaded script. fileName=${fileName}`);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Insert a tag and return the inserted component.\n\t *\n\t * @param\t{String}\t\ttagName\t\t\t\tTagname.\n\t * @param\t{Object}\t\tsettings\t\t\tComponent settings.\n\t *\n\t * @return  {Component}\t\tComponent.\n\t */\n\tstatic __insertTag(component, tagName, settings)\n\t{\n\n\t\tlet addedComponent;\n\n\t\t// Check root node\n\t\tlet root = component.rootElement.querySelector(Util.safeGet(settings, \"settings.rootNode\"));\n\t\tUtil.assert(root, `ComponentOrganizer.__insertTag(): Root node does not exist. name=${component.name}, tagName=${tagName}, rootNode=${Util.safeGet(settings, \"settings.rootNode\")}`, ReferenceError);\n\n\t\t// Build tag\n\t\tlet tag = ( Util.safeGet(settings, \"settings.tag\") ? Util.safeGet(settings, \"settings.tag\") : \"<\" + tagName +  \"></\" + tagName + \">\" );\n\n\t\t// Insert tag\n\t\tif (Util.safeGet(settings, \"settings.overwrite\"))\n\t\t{\n\t\t\troot.outerHTML = tag;\n\t\t\taddedComponent = root;\n\t\t}\n\t\telse\n\t\t{\n\t\t\troot.insertAdjacentHTML(\"afterbegin\", tag);\n\t\t\taddedComponent = root.children[0];\n\t\t}\n\n\t\t// Inject settings to added component\n\t\taddedComponent._injectSettings = function(oldSettings){\n\t\t\t// super()\n\t\t\tlet newSettings = Object.assign({}, addedComponent._super.prototype._injectSettings.call(addedComponent, oldSettings));\n\n\t\t\treturn Util.deepMerge(newSettings, settings);\n\t\t};\n\n\t\treturn addedComponent;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ComponentOrganizer from \"./component-organizer.js\";\nimport Organizer from \"./organizer.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tAutoload organizer class\n// =============================================================================\n\nexport default class AutoloadOrganizer extends Organizer\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Global init.\n\t */\n\tstatic globalInit()\n\t{\n\n\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\t\tif (BITSMIST.v1.settings.get(\"organizers.AutoloadOrganizer.settings.autoLoadOnStartup\", true))\n\t\t\t{\n\t\t\t\tthis.load(document.body, BITSMIST.v1.settings, {\"waitForTags\":false})\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Organize.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Component}\t\tcomponent\t\t\tComponent.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic organize(conditions, component, settings)\n\t{\n\n\t\treturn AutoloadOrganizer.load(component.rootElement, component.settings, component.settings.get(\"settings\"));\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load all tags.\n\t */\n\tstatic load(rootNode, settings, options)\n\t{\n\n\t\tlet path = Util.concatPath([settings.get(\"system.appBaseUrl\", \"\"), settings.get(\"system.componentPath\", \"\")]);\n\t\tlet splitComponent = Util.safeGet(options, \"splitComponent\", settings.get(\"system.splitComponent\", false));\n\t\tlet waitForTags = Util.safeGet(options, \"waitForTags\", settings.get(\"system.waitForTags\", true));\n\n\t\treturn ComponentOrganizer.loadTags(rootNode, path, {\"splitComponent\":splitComponent, \"waitForTags\":waitForTags});\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ClassUtil from \"../util/class-util.js\";\nimport Component from \"../component.js\";\n\n// =============================================================================\n//\tSettingManager class\n// =============================================================================\n\n// -----------------------------------------------------------------------------\n//  Constructor\n// -----------------------------------------------------------------------------\n\n/**\n * Constructor.\n */\nexport default function SettingManager()\n{\n\n\t// super()\n\treturn Reflect.construct(HTMLElement, [], this.constructor);\n\n}\n\nClassUtil.inherit(SettingManager, Component);\n\n// -----------------------------------------------------------------------------\n\n/**\n * Get component settings.\n *\n * @return  {Object}\t\tOptions.\n */\nSettingManager.prototype._getSettings = function()\n{\n\n\treturn {\n\t\t\"settings\": {\n\t\t\t\"name\":\t\t\t\t\t\"SettingManager\",\n\t\t\t\"autoSetup\":\t\t\tfalse,\n\t\t}\n\t};\n\n}\n\n// -----------------------------------------------------------------------------\n\ncustomElements.define(\"bm-setting\", SettingManager);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport AutoloadOrganizer from \"../organizer/autoload-organizer.js\";\nimport ClassUtil from \"../util/class-util.js\";\nimport Component from \"../component.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tTagLoader class\n// =============================================================================\n\n// -----------------------------------------------------------------------------\n//  Constructor\n// -----------------------------------------------------------------------------\n\n/**\n * Constructor.\n */\nexport default function TagLoader()\n{\n\n\t// super()\n\treturn Reflect.construct(HTMLElement, [], this.constructor);\n\n}\n\nClassUtil.inherit(TagLoader, Component);\n\n// -----------------------------------------------------------------------------\n//  Methods\n// -----------------------------------------------------------------------------\n\n/**\n * Start pad.\n *\n * @param\t{Object}\t\tsettings\t\t\tSettings.\n *\n * @return  {Promise}\t\tPromise.\n */\nTagLoader.prototype.start = function(settings)\n{\n\n\t// Defaults\n\tlet defaults = {\n\t\t\"settings\": {\n\t\t\t\"name\": \"TagLoader\",\n\t\t},\n\t};\n\tsettings = ( settings ? BITSMIST.v1.Util.deepMerge(defaults, settings) : defaults );\n\n\t// super()\n\treturn BITSMIST.v1.Component.prototype.start.call(this, settings).then(() => {\n\t\tif (document.readyState !== \"loading\")\n\t\t{\n\t\t\tAutoloadOrganizer.load(document.body, this.settings);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\t\t\tAutoloadOrganizer.load(document.body, this.settings);\n\t\t\t});\n\t\t}\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\ncustomElements.define(\"bm-tagloader\", TagLoader);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nwindow.BITSMIST = window.BITSMIST || {};\nwindow.BITSMIST.v1 = window.BITSMIST.v1 || {};\n\n// Component\n\nimport Component from \"./component.js\";\nwindow.BITSMIST.v1.Component = Component;\n\n// Organizer\n\nimport Organizer from \"./organizer/organizer.js\";\nwindow.BITSMIST.v1.Organizer = Organizer;\n\nimport OrganizerOrganizer from \"./organizer/organizer-organizer.js\";\nwindow.BITSMIST.v1.OrganizerOrganizer = OrganizerOrganizer;\nOrganizerOrganizer.globalInit(Component);\n\nimport SettingOrganizer from \"./organizer/setting-organizer.js\";\nwindow.BITSMIST.v1.SettingOrganizer = SettingOrganizer;\nSettingOrganizer.globalInit(Component);\nwindow.BITSMIST.v1.settings = SettingOrganizer.globalSettings;\n\nimport StateOrganizer from \"./organizer/state-organizer.js\";\nOrganizerOrganizer.organizers.set(\"StateOrganizer\", {\"object\":StateOrganizer, \"targetWords\":\"waitFor\", \"targetEvents\":\"*\", \"order\":100});\nwindow.BITSMIST.v1.StateOrganizer = StateOrganizer;\n\nimport TemplateOrganizer from \"./organizer/template-organizer.js\";\nOrganizerOrganizer.organizers.set(\"TemplateOrganizer\", {\"object\":TemplateOrganizer, \"targetWords\":\"templates\", \"targetEvents\":[\"beforeStart\", \"afterAppend\"], \"order\":200});\nwindow.BITSMIST.v1.TemplateOrganizer = TemplateOrganizer;\n\nimport EventOrganizer from \"./organizer/event-organizer.js\";\nOrganizerOrganizer.organizers.set(\"EventOrganizer\", {\"object\":EventOrganizer, \"targetWords\":\"events\", \"targetEvents\":[\"beforeStart\", \"afterAppend\", \"afterSpecLoad\"], \"order\":210});\nwindow.BITSMIST.v1.EventOrganizer = EventOrganizer;\n\nimport AutoloadOrganizer from \"./organizer/autoload-organizer.js\";\nOrganizerOrganizer.organizers.set(\"AutoloadOrganizer\", {\"object\":AutoloadOrganizer, \"targetEvents\":[\"afterAppend\", \"afterSpecLoad\"], \"order\":400});\nwindow.BITSMIST.v1.AutoloadOrganizer = AutoloadOrganizer;\n\nimport ComponentOrganizer from \"./organizer/component-organizer.js\";\nOrganizerOrganizer.organizers.set(\"ComponentOrganizer\", {\"object\":ComponentOrganizer, \"targetWords\":[\"molds\", \"components\"],\"targetEvents\":[\"afterStart\"], \"order\":410});\nwindow.BITSMIST.v1.ComponentOrganizer = ComponentOrganizer;\n\n// Pad\n\nimport Pad from \"./pad.js\";\nwindow.BITSMIST.v1.Pad = Pad;\n\n// Store\n\nimport Store from \"./store/store.js\";\nwindow.BITSMIST.v1.Store = Store;\n\nimport OrganizerStore from \"./store/organizer-store.js\";\nwindow.BITSMIST.v1.OrganizerStore = OrganizerStore;\n\nimport ChainableStore from \"./store/chainable-store.js\";\nwindow.BITSMIST.v1.ChainableStore = ChainableStore;\n\n// Widget\n\nimport SettingManager from \"./widget/bm-setting.js\";\nimport TagLoader from \"./widget/bm-tagloader.js\";\n\n// Util\n\nimport AjaxUtil from \"./util/ajax-util.js\";\nwindow.BITSMIST.v1.AjaxUtil = AjaxUtil;\n\nimport ClassUtil from \"./util/class-util.js\";\nwindow.BITSMIST.v1.ClassUtil = ClassUtil;\n\nimport Util from \"./util/util.js\";\nwindow.BITSMIST.v1.Util = Util;\n"],"names":["let","super","this","i","element","waitInfo"],"mappings":"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C;AACF;CACC;AACD;CACC;CACD;CACA;CACA;CACA;CACA;CACA;CACC,UAAO,oDAAoB,SAAS;CACpC;AACD;CACA,CAAEA,IAAI,MAAM,GAAG,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;CACrD,CAAE,IAAI,CAAC,MAAM,CAAC,MAAM,qDAAkD,SAAS,uBAAmB,SAAS,CAAC,CAAC;AAC7G;CACA,CAAE,OAAO,SAAS,CAAC;AACnB;CACC;;CC/ID;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;AACA;CACA;CACA;CACA;AACA;CACe,IAAM,SAAS;;CAU7B,UAAO,kCAAW,WAAW;CAC7B;CACA,EAAC;AACF;CACC;AACD;CACC;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACC,UAAO,sBAAK,UAAU,EAAE,SAAS,EAAE,QAAQ;CAC3C;CACA,EAAC;AACF;CACC;AACD;CACC;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACC,UAAO,8BAAS,UAAU,EAAE,SAAS,EAAE,QAAQ;CAC/C;CACA,EAAC;AACF;CACC;AACD;CACC;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACC,UAAO,kCAAW,UAAU,EAAE,SAAS,EAAE,QAAQ;CACjD;CACA,EAAC;AACF;CACC;AACD;CACC;CACD;CACA;CACA;CACA;CACC,UAAO,wBAAM,SAAS;CACtB;CACA,EAAC;AACF;CACC;AACD;CACC;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACC,UAAO,8BAAS,UAAU,EAAE,aAAa,EAAE,SAAS;CACpD;AACD;CACA,CAAE,IAAI,aAAa,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;CACrD,CAAE;CACF,EAAG,OAAO,IAAI,CAAC;CACf,EAAG;CACH,MAAO,IAAI,aAAa,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;CACjE,CAAE;CACF,EAAG,OAAO,IAAI,CAAC;CACf,EAAG;CACH;CACA,CAAE;CACF,EAAG,OAAO,KA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"}