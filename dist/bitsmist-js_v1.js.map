{"version":3,"file":"bitsmist-js_v1.js","sources":["../src/core/util/util.js","../src/core/util/class-util.js","../src/core/util/ajax-util.js","../src/core/util/url-util.js","../src/core/store/store.js","../src/core/store/chainable-store.js","../src/core/unit/unit.js","../src/core/perk/perk.js","../src/core/perk/status-perk.js","../src/core/perk/unit-perk.js","../src/core/perk/basic-perk.js","../src/core/perk/perk-perk.js","../src/core/perk/setting-perk.js","../src/core/perk/skin-perk.js","../src/core/perk/style-perk.js","../src/core/perk/event-perk.js","../src/core/index.js"],"sourcesContent":["// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\n// =============================================================================\n//\tUtil class\n// =============================================================================\n\nexport default class Util\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get an value from object. Return default value when specified key is not available.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject that holds keys/values.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tstatic safeGet(store, key, defaultValue)\n\t{\n\n\t\tlet current = store;\n\t\tlet found = true;\n\n\t\tlet keys = key.split(\".\");\n\t\tfor (let i = 0; i < keys.length; i++)\n\t\t{\n\t\t\tif (current !== null && typeof current === \"object\" && keys[i] in current)\n\t\t\t{\n\t\t\t\tcurrent = current[keys[i]];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfound = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn ( found ? current : defaultValue);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to object.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject that holds keys/values.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t *\n\t * @return\t{Object}\t\tModified object.\n\t */\n\tstatic safeSet(store, key, value)\n\t{\n\n\t\tlet keys = key.split(\".\");\n\t\tlet current = Util.__createIntermediateObject(store, keys);\n\n\t\tUtil.assert(current !== null && typeof current === \"object\",\n\t\t\t`Util.safeSet(): Can't create an intermediate object. Non-object value already exists. key=${key}, existingKey=${( keys.length > 1 ? keys[keys.length-2] : \"\" )}, existingValue=${current}`, TypeError);\n\n\t\tcurrent[keys[keys.length - 1]] = value;\n\n\t\treturn store;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Remove the value from object.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject that holds keys/values.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t *\n\t * @return\t{Object}\t\tModified object.\n\t */\n\tstatic safeRemove(store, key)\n\t{\n\n\t\tlet isFound = true;\n\t\tlet current = store;\n\n\t\tlet keys = key.split(\".\");\n\t\tfor (let i = 0; i < keys.length - 1; i++)\n\t\t{\n\t\t\tif (!(keys[i] in current))\n\t\t\t{\n\t\t\t\tisFound = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcurrent = current[keys[i]];\n\t\t}\n\n\t\tif (isFound)\n\t\t{\n\t\t\tdelete current[keys[keys.length - 1]];\n\t\t}\n\n\t\treturn store;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Merge the value to store.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject that holds keys/values.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t *\n\t * @return\t{Object}\t\tModified object.\n\t */\n\tstatic safeMerge(store, key, value)\n\t{\n\n\t\tlet keys = key.split(\".\");\n\t\tlet current = Util.__createIntermediateObject(store, keys);\n\n\t\tUtil.assert(current && typeof current === \"object\",\n\t\t\t`Util.safeSet(): Can't create an intermediate object. Non-object value already exists. key=${key}, existingKey=${( keys.length > 1 ? keys[keys.length-2] : \"\" )}, existingValue=${current}`, TypeError);\n\n\t\tlet lastKey = keys[keys.length - 1];\n\t\tcurrent[lastKey] = Util.deepMerge(current[lastKey], value);\n\n\t\treturn store;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Check if the store has specified key.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tStore.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to check.\n\t *\n\t * @return\t{Boolean}\t\tTrue:exists, False:not exists.\n\t */\n\tstatic safeHas(store, key)\n\t{\n\n\t\tlet current = store;\n\t\tlet found = true;\n\t\tlet items = key.split(\".\");\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\tif (current && typeof current === \"object\" && items[i] in current)\n\t\t\t{\n\t\t\t\tcurrent = current[items[i]];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfound = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn found;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n \t * Execute Javascript code from string.\n\t *\n\t * @param\t{String}\t\tcode\t\t\t\tCode to execute.\n\t * @param\t{Object}\t\tparameters\t\t\tParameters passed to the code.\n\t *\n\t * @return\t{*}\t\t\t\tResult of eval.\n\t */\n\tstatic safeEval(code, parameters)\n\t{\n\n\t\tlet ret = false;\n\n\t\ttry\n\t\t{\n\t\t\tret = Function(`\"use strict\";return (${code})`).apply(parameters);\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\tconsole.error(`Util.safeEval(): Exception occurred. code=${code}, error=${e}`);\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Concatenat path strings appending trainling \"/\" when needed.\n\t *\n\t * @param\t{Array}\t\t\tpaths\t\t\t\tPaths.\n\t *\n\t * @return\t{String}\t\tConcatenated paths\n\t */\n\tstatic concatPath(paths)\n\t{\n\n\t\tlet path = paths[0] || \"\";\n\n\t\tfor (let i = 1; i < paths.length; i++)\n\t\t{\n\t\t\tif (paths[i])\n\t\t\t{\n\t\t\t\tif (path.slice(path.length - 1) === \"/\" && paths[i].slice(0, 1) === \"/\")\n\t\t\t\t{\n\t\t\t\t\t// \"---/\" and \"/---\"\n\t\t\t\t\t// Remove an extra slash\n\t\t\t\t\tpath += paths[i].slice(1);\n\t\t\t\t}\n\t\t\t\telse if (path.slice(path.length - 1) === \"/\" || paths[i].slice(0, 1) === \"/\")\n\t\t\t\t{\n\t\t\t\t\t// \"---/\" or \"/---\"\n\t\t\t\t\t// Just concat\n\t\t\t\t\tpath += paths[i];\n\t\t\t\t}\n\t\t\t\telse if (path)\n\t\t\t\t{\n\t\t\t\t\t// \"---\" + \"---\"\n\t\t\t\t\t// Add an slash between\n\t\t\t\t\tpath += \"/\" + paths[i];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// \"\" + \"---\"\n\t\t\t\t\t// First word, just accept\n\t\t\t\t\tpath = paths[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn path;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deep merge obj2 into obj1. obj1 will be modified. If you want obj1 to be\n\t * immutable, deep copy it before passing it:\n\t * e.g.) Util.deepMerge(Util.deepClone(obj1), obj2).\n\t * obj2 will be always deep copied.\n\t *\n\t * @param\t{*}\t\t\t\tobj1\t\t\t\t\tObject1.\n\t * @param\t{*}\t\t\t\tobj2\t\t\t\t\tObject2.\n\t *\n\t * @return  {Object}\t\tMerged object.\n\t */\n\tstatic deepMerge(obj1, obj2)\n\t{\n\n\t\tlet result = obj1;\n\n\t\tif (Array.isArray(obj1))\n\t\t{\n\t\t\t// obj1 is array\n\t\t\tif (Array.isArray(obj2))\n\t\t\t{\n\t\t\t\tArray.prototype.push.apply(result, Util.__cloneArr(obj2));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.push(Util.deepClone(obj2));\n\t\t\t}\n\t\t}\n\t\telse if (Util.__isObject(obj1) && Util.__isMergeable(obj2))\n\t\t{\n\t\t\t// obj1 is Object and obj2 is Object/Array\n\t\t\tObject.keys(obj2).forEach((key) => {\n\t\t\t\tresult[key] = Util.deepMerge(obj1[key], obj2[key]);\n\t\t\t});\n\t\t}\n\t\telse if (obj2 === undefined)\n\t\t{\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult = Util.deepClone(obj2);\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Clone an item.\n\t *\n\t * @param\t{Object}\t\ttarget\t\t\t\t\tTarget item.\n\t *\n\t * @return  {Object}\t\tCloned item.\n\t */\n\tstatic deepClone(target)\n\t{\n\n\t\tif (Array.isArray(target))\n\t\t{\n\t\t\treturn Util.__cloneArr(target);\n\t\t}\n\t\telse if (Util.__isObject(target))\n\t\t{\n\t\t\treturn Util.__cloneObj(target);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn target;\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get the class name from tag name.\n\t *\n\t * @param\t{String}\t\ttagName\t\t\t\tTag name.\n\t *\n\t * @return  {String}\t\tClass name.\n\t */\n\tstatic getClassNameFromTagName(tagName)\n\t{\n\n\t\tlet tag = tagName.split(\"-\");\n\t\tlet className = tag[0].charAt(0).toUpperCase() + tag[0].slice(1).toLowerCase() + tag[1].charAt(0).toUpperCase() + tag[1].slice(1).toLowerCase();\n\n\t\treturn className;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get tag name from class name.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t *\n\t * @return \t{String}\t\tTag name.\n\t */\n\tstatic getTagNameFromClassName(className)\n\t{\n\n\t\tlet pos;\n\t\tlet result = className;\n\t\tlet c = className.split(\".\");\n\t\tlet cName = c[c.length - 1];\n\n\t\tfor (pos = 1; pos < cName.length; pos++)\n\t\t{\n\t\t\tif ( Util.__isUpper(cName.substring(pos, pos + 1)) )\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( pos < cName.length )\n\t\t{\n\t\t\tresult = cName.substring(0, pos).toLowerCase() + \"-\" + cName.substring(pos).toLowerCase();\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Assert conditions. Throws an error when assertion failed.\n\t *\n\t * @param\t{Boolean}\t\tconditions\t\t\tConditions.\n\t * @param\t{String}\t\tMessage\t\t\t\tError message.\n\t * @param\t{Error}\t\t\terror\t\t\t\tError to throw.\n\t * @param\t{Options}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is upper case.\n\t */\n\tstatic assert(conditions, msg, error, options)\n\t{\n\n\t\tif (!conditions)\n\t\t{\n\t\t\terror = error || Error;\n\t\t\tlet e = new error(msg);\n\n\t\t\t// Remove last stack (assert() itself)\n\t\t\tlet stacks = e.stack.split(\"\\n\");\n\t\t\tstacks.splice(1, 1);\n\t\t\te.stack = stacks.join(\"\\n\");\n\n\t\t\tthrow e;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Warns when condition failed.\n\t *\n\t * @param\t{Boolean}\t\tconditions\t\t\tConditions.\n\t * @param\t{String}\t\tMessage\t\t\t\tError message.\n\t * @param\t{String}\t\tlevel\t\t\t\tWarn level.\n\t * @param\t{Options}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is upper case.\n\t */\n\tstatic warn(conditions, msg, level, options)\n\t{\n\n\t\tlet ret = true;\n\n\t\tif (!conditions)\n\t\t{\n\t\t\tlevel = level || \"warn\";\n\t\t\tconsole[level](msg);\n\n\t\t\tret = false;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return a promise that resolved after random milliseconds.\n\t *\n\t * @param\t{Integer}\t\tmax\t\t\t\t\tMaximum time in milliseconds.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic randomWait(max, fixed)\n\t{\n\n\t\tlet timeout = ( fixed ? max : Math.floor(Math.random() * max ) );\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tresolve();\n\t\t\t}, timeout);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Execute query on root node excluding nested components inside.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node.\n\t * @param\t{String}\t\tquery\t\t\t\tQuery.\n\t *\n\t * @return  {Array}\t\t\tArray of matched elements.\n\t */\n    static scopedSelectorAll(rootNode, query, options)\n    {\n\n\t\tlet targetNode = rootNode.unitRoot || rootNode;\n        let newQuery = ( targetNode instanceof DocumentFragment ? query : \":scope \" + query.replace(\",\", \",:scope \"));\n        let allElements = targetNode.querySelectorAll(newQuery);\n\t\tlet allSet = new Set(allElements);\n\t\t/*\n\t\tif (rootNode.matches(query))\n\t\t{\n\t\t\tallSet.add(rootNode);\n\t\t}\n\t\t*/\n\n\t\tif (!options || !options[\"penetrate\"])\n\t\t{\n\t\t\t// Remove elements descendant of other components unless penetrate option is set\n\t\t\tlet removeQuery = ( targetNode instanceof DocumentFragment  ?  \"[bm-powered] \" + query.replace(\",\", \", [bm-powered] \") : \":scope [bm-powered] \" + query.replace(\",\", \", :scope [bm-powered] \" ));\n\t\t\tlet removeElements = targetNode.querySelectorAll(removeQuery);\n\n\t\t\tlet removeSet = new Set(removeElements);\n\t\t\tremoveSet.forEach((item) => {\n\t\t\t\tallSet.delete(item);\n\t\t\t});\n\t\t}\n\n        return Array.from(allSet);\n\n    }\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Create UUID.\n\t *\n\t * @return  {String}\t\tUUID.\n\t */\n\tstatic getUUID()\n\t{\n\n\t\tlet uuid = \"\";\n\n\t\tfor (let i = 0; i < 32; i++)\n\t\t{\n\t\t\tlet random = Math.random() * 16 | 0;\n\n\t\t\tif (i == 8 || i == 12 || i == 16 || i == 20)\n\t\t\t{\n\t\t\t\tuuid += \"-\"\n\t\t\t}\n\t\t\tuuid += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);\n\t\t}\n\n\t\treturn uuid;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Convert given target to Javascript object if possible.\n\t *\n\t * @param\t{*}\t\t\t\ttarget\t\t\t\t\tTarget to convert to an object.\n\t * @param\t{Object}\t\toptions\t\t\t\t\tOptions.\n\t *\n\t * @return  {Object}\t\tObject.\n\t */\n\tstatic getObject(target, options)\n\t{\n\n\t\tlet ret;\n\n\t\tif (Util.__isObject(target))\n\t\t{\n\t\t\tret = target;\n\t\t}\n\t\telse if (typeof(target) === \"string\")\n\t\t{\n\t\t\t// String\n\t\t\tif (options && options[\"format\"] === \"js\")\n\t\t\t{\n\t\t\t\t// Javascript Object\n\t\t\t\tret = Util.safeEval(target, options && options[\"bindTo\"]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// JSON\n\t\t\t\tret = JSON.parse(target);\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if character is upper case.\n\t *\n\t * @param\t{String}\t\tc\t\t\t\t\tCharacter.\n\t *\n\t * @return \t{Boolean}\t\tTrue if it is upper case.\n\t */\n\tstatic __isUpper(c)\n\t{\n\n\t\treturn c === c.toUpperCase() && c !== c.toLowerCase();\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Follow keys and create missing intermediate objects.\n\t *\n\t * @param\t{Object}\t\tstore\t\t\t\tObject.\n\t * @param\t{Array}\t\t\tkeys\t\t\t\tArray of keys to follow.\n\t *\n\t * @return\t{Object}\t\tObject.\n\t */\n\tstatic __createIntermediateObject(store, keys)\n\t{\n\n\t\tlet current = store;\n\n\t\tfor (let i = 0; i < keys.length - 1; i++)\n\t\t{\n\t\t\tUtil.assert(current !== null && typeof current === \"object\",\n\t\t\t\t`Util.safeSet(): Can't create an intermediate object. Non-object value already exists. existingKey=${( i > 0 ? keys[i-1] : \"\" )}, existingValue=${current}`, TypeError);\n\n\t\t\tif (!(keys[i] in current))\n\t\t\t{\n\t\t\t\tcurrent[keys[i]] = {}\n\t\t\t}\n\n\t\t\tcurrent = current[keys[i]];\n\t\t}\n\n\t\treturn current;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Clone an object.\n\t *\n\t * @param\t{Object}\t\ttarget\t\t\t\t\tTarget object.\n\t *\n\t * @return  {Object}\t\tCloned object.\n\t */\n\tstatic __cloneObj(target)\n\t{\n\n\t\tlet result = {};\n\n\t\tObject.keys(target).forEach((key) => {\n\t\t\tresult[key] = Util.deepClone(target[key]);\n\t\t});\n\n\t\treturn result;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Clone an array.\n\t *\n\t * @param\t{Object}\t\ttarget\t\t\t\t\tTarget array.\n\t *\n\t * @return  {Object}\t\tCloned array.\n\t */\n\tstatic __cloneArr(target)\n\t{\n\n\t\tlet result = [];\n\n\t\tfor (let i = 0; i < target.length; i++)\n\t\t{\n\t\t\tresult.push(Util.deepClone(target[i]));\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the target is object or not.\n\t *\n\t * @param\t{Object}\t\ttarget\t\t\t\t\tTarget item.\n\t *\n\t * @return  {Boolean}\t\tTrue if object.\n\t */\n\tstatic __isObject(target)\n\t{\n\n\t\tlet type = typeof target;\n\t\tlet conName = (target && target.constructor && target.constructor.name);\n\n\t\treturn (target !== null && conName === \"Object\" && type !== \"function\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the target is mergeable object or not.\n\t *\n\t * @param\t{Object}\t\ttarget\t\t\t\t\tTarget item.\n\t *\n\t * @return  {Boolean}\t\tTrue if mergeable.\n\t */\n\tstatic __isMergeable(target)\n\t{\n\n\t\treturn Util.__isObject(target) || Array.isArray(target);\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tLoader util class\n// =============================================================================\n\nexport default class ClassUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Define new unit in ES5 way.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t * @param\t{Object}\t\tsettings\t\t\tUnit Settings.\n\t * @param\t{Object}\t\tsuperClass\t\t\tSuper class.\n\t * @param\t{String}\t\ttagName\t\t\t\tTag name.\n\t */\n\tstatic newUnit(className, settings, superClass, tagName)\n\t{\n\n\t\tsuperClass = ( superClass ? superClass : BITSMIST.v1.Unit );\n\n\t\t// Define class\n\t\tlet funcDef = \"{ return Reflect.construct(superClass, [], this.constructor); }\";\n\t\tlet classDef = Function(\"superClass\", `return function ${ClassUtil.__validateClassName(className)}()${funcDef}`)(superClass);\n\t\tClassUtil.inherit(classDef, superClass);\n\n\t\t// Class settings\n\t\tsettings = settings || {};\n\t\tsettings.setting = ( settings.setting ? settings.setting : {} );\n\t\tclassDef.prototype._getSettings = function() {\n\t\t\treturn settings;\n\t\t}\n\n\t\t// Define tag\n\t\tif (tagName)\n\t\t{\n\t\t\tcustomElements.define(tagName.toLowerCase(), classDef);\n\t\t}\n\n\t\treturn classDef;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Inherit the unit in ES5 way.\n\t *\n\t * @param\t{Object}\t\tsubClass\t\t\tSub class.\n\t * @param\t{Object}\t\tsuperClass\t\t\tSuper class.\n\t */\n\tstatic inherit(subClass, superClass)\n\t{\n\n\t\tsubClass.prototype = Object.create(superClass.prototype);\n\t\tsubClass.prototype.constructor = subClass;\n//\t\tObject.setPrototypeOf(subClass, superClass); // Disabled for performance sake\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Instantiate the class.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions for the unit.\n\t *\n\t * @return  {Object}\t\tInitaiated object.\n\t */\n\tstatic createObject(className, ...args)\n\t{\n\n\t\tlet c = ClassUtil.getClass(className);\n\t\tUtil.assert(c, `ClassUtil.createObject(): Class '${className}' is not defined.`, ReferenceError);\n\n\t\treturn  new c(...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the class.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t *\n\t * @return  {Object}\t\tClass object.\n\t */\n\tstatic getClass(className)\n\t{\n\n\t\tlet ret;\n\n\t\ttry\n\t\t{\n\t\t\tret = Function(`return (${ClassUtil.__validateClassName(className)})`)();\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\tif (!(e instanceof ReferenceError))\n\t\t\t{\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Validate class name.\n\t *\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t *\n\t * @return  {String}\t\tClass name when valid. Throws an exception when not valid.\n\t */\n\tstatic __validateClassName(className)\n\t{\n\n\t\tlet result = /^[a-zA-Z0-9\\-\\._]+$/.test(className);\n\t\tUtil.assert(result, `ClassUtil.__validateClassName(): Class name '${className}' is not valid.`, TypeError);\n\n\t\treturn className;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Util from \"./util.js\";\n\n// =============================================================================\n//\tAjax util class\n// =============================================================================\n\nexport default class AjaxUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Make an ajax request.\n\t *\n\t * @param\t{Object}\t\toptions\t\t\t\tRequest options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic ajaxRequest(options)\n\t{\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet url = Util.safeGet(options, \"URL\");\n\t\t\tlet method = Util.safeGet(options, \"method\");\n\t\t\tlet data = Util.safeGet(options, \"data\", \"\");\n\t\t\tlet headers = Util.safeGet(options, \"headers\");\n\t\t\tlet xhrOptions = Util.safeGet(options, \"options\");\n\n\t\t\tlet xhr = new XMLHttpRequest();\n\t\t\txhr.open(method, url, true);\n\n\t\t\t// options\n\t\t\tif (xhrOptions)\n\t\t\t{\n\t\t\t\tObject.keys(xhrOptions).forEach((option) => {\n\t\t\t\t\txhr[option] = xhrOptions[option];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// extra headers\n\t\t\tif (headers)\n\t\t\t{\n\t\t\t\tObject.keys(headers).forEach((header) => {\n\t\t\t\t\txhr.setRequestHeader(header, headers[header]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// callback (load)\n\t\t\txhr.addEventListener(\"load\", () => {\n\t\t\t\tif (xhr.status === 200 || xhr.status === 201)\n\t\t\t\t{\n\t\t\t\t\tresolve(xhr);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\treject(xhr);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// callback (error)\n\t\t\txhr.addEventListener(\"error\", () => {\n\t\t\t\treject(xhr);\n\t\t\t});\n\n\t\t\t// send\n\t\t\txhr.send(data);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load a Javascript file.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tJavascript url.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadScript(url) {\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet script = document.createElement('script');\n\t\t\tscript.src = url;\n\t\t\tscript.async = true;\n\n\t\t\tscript.onload = () => {\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tscript.onerror = (e) => {\n\t\t\t\treject(e);\n\t\t\t};\n\n\t\t\tlet head = document.getElementsByTagName('head')[0];\n\t\t\thead.appendChild(script);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load a JSON or Javascript Object file.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tJSON URL.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadJSON(url, options)\n\t{\n\n\t\tlet format = Util.safeGet(options, \"format\", url.split('?')[0].split('.').pop());\n\n\t\tconsole.debug(`AjaxUtil.loadJSON(): Loading a JSON file. URL=${url}, format=${format}`);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:\"GET\"}).then((xhr) => {\n\t\t\tconsole.debug(`AjaxUtil.loadJSON(): Loaded the JSON file. URL=${url}, format=${format}`);\n\n\t\t\treturn Util.getObject(xhr.responseText, {\"format\":format});\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load a Text file.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tHTML URL without extension.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadText(url, options)\n\t{\n\n\t\tconsole.debug(`AjaxUtil.loadText(): Loading a Text file. URL=${url}`);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:\"GET\"}).then((xhr) => {\n\t\t\tconsole.debug(`AjaxUtil.loadText(): Loaded the Text file. URL=${url}`);\n\n\t\t\treturn xhr.responseText;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load an HTML file.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tHTML URL.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadHTML(url, options)\n\t{\n\n\t\tconsole.debug(`AjaxUtil.loadHTML(): Loading an HTML file. URL=${url}`);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:\"GET\"}).then((xhr) => {\n\t\t\tconsole.debug(`AjaxUtil.loadHTML(): Loaded the HTML file. URL=${url}`);\n\n\t\t\treturn xhr.responseText;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load a CSS file.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tCSS URL.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadCSS(url, options)\n\t{\n\n\t\tconsole.debug(`AjaxUtil.loadCSS(): Loading an CSS file. URL=${url}`);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:\"GET\"}).then((xhr) => {\n\t\t\tconsole.debug(`AjaxUtil.loadCSS(): Loaded the CSS file. URL=${url}`);\n\n\t\t\treturn xhr.responseText;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load class files.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tClass URL without extension.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic loadClass(url, options)\n\t{\n\n\t\tconsole.debug(`AjaxUtil.loadClass(): Loading class files. URL=${url}`);\n\n\t\tlet url1 = url + \".js\";\n\t\tconsole.debug(`AjaxUtil.loadClass(): Loading the first file. URL1=${url1}`);\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\treturn AjaxUtil.loadScript(url1);\n\t\t}).then(() => {\n\t\t\tif (options[\"splitClass\"])\n\t\t\t{\n\t\t\t\tlet url2 = url + \".settings.js\";\n\t\t\t\tconsole.debug(`AjaxUtil.loadClass(): Loading the second file. URL2=${url2}`);\n\t\t\t\treturn AjaxUtil.loadScript(url2);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tconsole.debug(`AjaxUtil.loadClass(): Loaded the class files. URL=${url}`);\n\t\t});\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Util from \"./util.js\";\n\n// =============================================================================\n//\tURL Util Class\n// =============================================================================\n\nexport default class URLUtil\n{\n\n\t/**\n\t * Create options array from the current url.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tURL.\n\t *\n\t * @return  {Array}\t\t\tParameters array.\n\t */\n\tstatic loadParameters(url)\n\t{\n\n\t\turl = url || window.location.href;\n\t\tlet vars = {}\n\t\tlet hash;\n\t\tlet value;\n\n\t\tif (window.location.href.indexOf(\"?\") > -1)\n\t\t{\n\t\t\tlet hashes = url.slice(url.indexOf('?') + 1).split('&');\n\n\t\t\tfor(let i = 0; i < hashes.length; i++) {\n\t\t\t\thash = hashes[i].split('=');\n\t\t\t\tif (hash[1]){\n\t\t\t\t\tvalue = hash[1].split('#')[0];\n\t\t\t\t} else {\n\t\t\t\t\tvalue = hash[1];\n\t\t\t\t}\n\t\t\t\tvars[hash[0]] = decodeURIComponent(value);\n\t\t\t}\n\t\t}\n\n\t\treturn vars;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Build url from route info.\n\t *\n\t * @param\t{Object}\t\trouteInfo\t\t\tRoute information.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\tstatic buildURL(routeInfo, options)\n\t{\n\n\t\tlet newURLInfo = Object.assign({}, URLUtil.parseURL(), routeInfo);\n\t\tlet url = (routeInfo[\"URL\"] ? routeInfo[\"URL\"] : Util.concatPath([newURLInfo[\"protocol\"] + \"//\", newURLInfo[\"host\"], newURLInfo[\"pathname\"]]));\n\n\t\tif (newURLInfo[\"queryParameters\"])\n\t\t{\n\t\t\tlet params = {};\n\t\t\tif (options && options[\"mergeParameters\"])\n\t\t\t{\n\t\t\t\tparams = Object.assign(params, URLUtil.loadParameters());\n\t\t\t}\n\t\t\tparams = Object.assign(params, newURLInfo[\"queryParameters\"]);\n\t\t\turl += URLUtil.buildQuery(params);\n\t\t}\n\t\telse\n\t\t{\n\t\t\turl += newURLInfo[\"query\"];\n\t\t}\n\n\t\treturn ( url ? url : \"/\" );\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Build query string from the options object.\n\t *\n\t * @param\t{Object}\t\toptions\t\t\t\tQuery options.\n\t *\n\t * @return\t{String}\t\tQuery string.\n\t */\n\tstatic buildQuery(options)\n\t{\n\n\t\tlet query = \"\";\n\n\t\tif (options)\n\t\t{\n\t\t\tquery = Object.keys(options).reduce((result, current) => {\n\t\t\t\tif (Array.isArray(options[current]))\n\t\t\t\t{\n\t\t\t\t\tresult += `${encodeURIComponent(current)}=${encodeURIComponent(options[current].join())}&`;\n\t\t\t\t}\n\t\t\t\telse if (options[current])\n\t\t\t\t{\n\t\t\t\t\tresult += `${encodeURIComponent(current)}=${encodeURIComponent(options[current])}&`;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, \"\");\n\t\t}\n\n\t\treturn ( query ? `?${query.slice(0, -1)}` : \"\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Parse URL.\n\t *\n\t * @param\t{String}\t\turl\t\t\t\t\tURL to parse.\n\t *\n\t * @return \t{Object}\t\tObject contains each URL part.\n\t */\n\tstatic parseURL(url)\n\t{\n\n\t\turl = url || window.location.href;\n\t\tlet parsed = new URL(url, window.location.href);\n\t\tlet ret = {\n\t\t\t\"protocol\": parsed.protocol,\n\t\t\t\"username\":\tparsed.username,\n\t\t\t\"password\":\tparsed.password,\n\t\t\t\"host\":\t\tparsed.host,\n\t\t\t\"hostname\": parsed.hostname,\n\t\t\t\"port\":\t\tparsed.port,\n\t\t\t\"pathname\":\tparsed.pathname,\n\t\t\t\"path\":\t\tparsed.pathname.substring(0, parsed.pathname.lastIndexOf(\"/\") + 1),\n\t\t\t\"search\": \tparsed.search,\n\t\t\t\"query\": \tparsed.search,\n\t\t\t\"hash\": \tparsed.hash,\n\t\t\t\"filename\":\tparsed.pathname.split(\"/\").pop(),\n\t\t\t\"queryParameters\": URLUtil.loadParameters(url),\n\t\t};\n\t\tret[\"filenameWithoutExtension\"] = ret[\"filename\"].split(\".\")[0];\n\t\tret[\"extension\"] = ret[\"filename\"].split(\".\").pop();\n\n\t\treturn ret;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tStore class\n// =============================================================================\n\nexport default class Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n     */\n\tconstructor(options)\n\t{\n\n\t\t// Init\n\t\tthis._options = options || {};\n\t\tthis._items = Util.safeGet(options, \"items\", {});\n\t\tthis.merger = Util.safeGet(options, \"merger\", Util.deepMerge);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Options.\n\t *\n\t * @type\t{Object}\n\t */\n\tget options()\n\t{\n\n\t\treturn this._options;\n\n\t}\n\n\tset options(value)\n\t{\n\n\t\tthis._options = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Items.\n\t *\n\t * @type\t{String}\n\t */\n\tget items()\n\t{\n\n\t\treturn this.clone();\n\n\t}\n\n\tset items(value)\n\t{\n\n\t\tthis._items = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Merge function.\n\t *\n\t * @type\t{Function}\n\t */\n\tget merger()\n\t{\n\n\t\tthis._merger;\n\n\t}\n\n\tset merger(value)\n\t{\n\n\t\tUtil.assert(typeof value === \"function\", `Store.merger(setter): Merger is not a function. merger=${value}`, TypeError);\n\n\t\tthis._merger = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clear.\n     *\n\t * @param\t{Object}\t\tcomponent\t\t\tComponent to attach.\n\t * @param\t{Object}\t\toptions\t\t\t\tPlugin options.\n     */\n\tclear()\n\t{\n\n\t\tthis._items = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clone contents as an object.\n     *\n\t * @return  {Object}\t\tCloned items.\n     */\n\tclone()\n\t{\n\n\t\treturn Util.deepMerge({}, this._items);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Merge items.\n\t *\n\t * @param\t{Array/Object}\tnewItems\t\t\tArray/Object of Items to merge.\n\t * @param\t{Function}\t\tmerger\t\t\t\tMerge function.\n\t */\n\tmerge(newItems, merger)\n\t{\n\n\t\tmerger = merger || this._merger;\n\t\tlet items = (Array.isArray(newItems) ? newItems: [newItems]);\n\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\tthis._items = merger(this._items, items[i]);\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get the value from store. Return default value when specified key is not available.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tget(key, defaultValue)\n\t{\n\n\t\treturn Util.deepClone(Util.safeGet(this._items, key, defaultValue));\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the store. If key is empty, it sets the value to the root.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tset(key, value, options)\n\t{\n\n\t\tif (options && options[\"merge\"])\n\t\t{\n\t\t\tUtil.safeMerge(this._items, key, defaultValue);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tUtil.safeSet(this._items, key, value);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove from the list.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t */\n\tremove(key)\n\t{\n\n\t\tUtil.safeRemove(this._items, key);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Check if the store has specified key.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to check.\n\t *\n\t * @return\t{Boolean}\t\tTrue:exists, False:not exists.\n\t */\n\thas(key)\n\t{\n\n\t\treturn Util.safeHas(this._items, key);\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport Store from \"./store.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tChainable store class\n// =============================================================================\n\nexport default class ChainableStore extends Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t * @param\t{Store}\t\t\tchain\t\t\t\tStore Component to chain.\n     */\n\tconstructor(options)\n\t{\n\n\t\tsuper(options);\n\n\t\t// Init vars\n\t\tthis._chain;\n\n\t\t// Chain\n\t\tlet chain = Util.safeGet(this._options, \"chain\");\n\t\tif (chain)\n\t\t{\n\t\t\tthis.chain(chain);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Local items.\n\t *\n\t * @type\t{Object}\n\t */\n\tget localItems()\n\t{\n\n\t\treturn Store.prototype.clone.call(this);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clone contents as an object (Override).\n     *\n\t * @return  {Object}\t\tCloned items.\n     */\n\tclone()\n\t{\n\n\t\tif (this._chain)\n\t\t{\n\t\t\treturn Util.deepMerge(this._chain.clone(), this._items);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn Store.prototype.clone.call(this);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Chain another store.\n     *\n\t * @param\t{Store}\t\t\tstore\t\t\t\tStore to chain.\n     */\n\tchain(store)\n\t{\n\n\t\tthis._chain = store;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get the value from store. If chained, return from chained store when not available.\n\t * Return default value when not available in both stores.\n\t * When both has keys, then they are deep merged. Note that they are merged only when\n\t * chain has mergeable value, an object or an array.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tget(key, defaultValue)\n\t{\n\n\t\tlet result = defaultValue;\n\n\t\tif (Store.prototype.has.call(this, key) && this._chain && Store.prototype.has.call(this._chain, key))\n\t\t{\n\t\t\t// Both has key then deep merge\n\t\t\tresult = Util.deepMerge(Store.prototype.get.call(this._chain, key), Store.prototype.get.call(this, key));\n\t\t}\n\t\telse if (Store.prototype.has.call(this, key))\n\t\t{\n\t\t\t// Only this has key\n\t\t\tresult = Store.prototype.get.call(this, key, defaultValue);\n\t\t}\n\t\telse if (this._chain)\n\t\t{\n\t\t\t// Only chain has key\n\t\t\tresult = this._chain.get(key, defaultValue);\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Merge items.\n\t *\n\t * @param\t{Array/Object}\tnewItems\t\t\tArray/Object of Items to merge.\n\t * @param\t{Function}\t\tmerger\t\t\t\tMerge function.\n\t */\n\tmerge(newItems, merger)\n\t{\n\n\t\tif (this._options[\"writeThrough\"])\n\t\t{\n\t\t\tthis._chain.merge(newItems, merger);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tStore.prototype.merge.call(this, newItems, merger);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the store. If key is empty, it sets the value to the root.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tset(key, value, options)\n\t{\n\n\t\tif (Util.safeGet(options, \"writeThrough\", this._options[\"writeThrough\"]))\n\t\t{\n\t\t\tthis._chain.set(key, value, options);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tStore.prototype.set.call(this, key, value, options);\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Check if the store has specified key.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to check.\n\t *\n\t * @return\t{Boolean}\t\tTrue:exists, False:not exists.\n\t */\n\thas(key)\n\t{\n\n\t\tlet result = Util.safeHas(this._items, key);\n\n\t\tif (result === false && this._chain)\n\t\t{\n\t\t\tresult = this._chain.has(key);\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\n// =============================================================================\n//\tUnit Class\n// =============================================================================\n\nexport default class Unit extends HTMLElement\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Callbacks\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Connected callback.\n\t */\n\tconnectedCallback()\n\t{\n\n\t\tthis._connectedHandler(this);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Disconnected callback.\n\t */\n\tdisconnectedCallback()\n\t{\n\n\t\tthis._disconnectedHandler(this);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Adopted callback.\n\t */\n\tadoptedCallback()\n\t{\n\n\t\tthis._adoptedHandler(this);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Attribute changed callback.\n\t */\n\tattributeChangedCallback(name, oldValue, newValue)\n\t{\n\n\t\tthis._attributeChangedHandler(this, name, oldValue, newValue);\n\n\t}\n\n}\n\ncustomElements.define(\"bm-unit\", Unit);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\n// =============================================================================\n//\tBase Perk Class\n// =============================================================================\n\nexport default class Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Perk info.\n\t *\n\t * @type\t{Object}\n\t */\n\tstatic get info()\n\t{\n\n\t\treturn {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t *  Initialize an perk and Unit class when the perk is registered.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic globalInit()\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t *  Initialize an attached unit when perk is attached.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic init(unit, options)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deinitialize the unit when perk is detached.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic deinit(unit, options)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get editor for the perk.\n\t *\n\t * @return \t{String}\t\tEditor.\n\t */\n\tstatic getEditor()\n\t{\n\n\t\treturn \"\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set event handler for perk.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\ttype\t\t\t\tUpgrade type.\n\t * @param\t{String}\t\tname\t\t\t\tSection name.\n\t * @param\t{Function}\t\tcontent\t\t\t\tUpgrade content.\n\t */\n\tstatic upgrade(unit, type, name, content)\n\t{\n\n\t\tswitch (type)\n\t\t{\n\t\t\tcase \"asset\":\n\t\t\t\tunit.__bm_assets[name] = content;\n\t\t\t\tbreak;\n\t\t\tcase \"method\":\n\t\t\t\tunit[name] = content;\n\t\t\t\tbreak;\n\t\t\tcase \"property\":\n\t\t\t\tObject.defineProperty(unit, name, content);\n\t\t\t\tbreak;\n\t\t\tcase \"event\":\n\t\t\t\tunit.use(\"skill\", \"event.add\", name, {\n\t\t\t\t\t\"handler\":\tcontent,\n\t\t\t\t\t\"order\":\tthis.info[\"order\"],\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tunit.__bm_assets[type].set(name, content);\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport Perk from \"./perk.js\";\nimport Store from \"../store/store.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tStatus Perk Class\n// =============================================================================\n\nexport default class StatusPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"status\",\n\t\t\t\"order\":\t\t100,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Init vars\n\t\tStatusPerk._unitInfo = BITSMIST.v1.BasicPerk._unitInfo; // Shortcut\n\t\tStatusPerk._waitingList = new Store();\n\t\tStatusPerk.__suspends = {};\n\t\tStatusPerk.waitFor = function(waitlist, timeout) { return StatusPerk._waitFor(BITSMIST.v1.Unit, waitlist, timeout); }\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"status.change\", function(...args) { return StatusPerk._changeStatus(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"status.wait\", function(...args) { return StatusPerk._waitFor(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"status.suspend\", function(...args) { return StatusPerk._suspend(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"status.resume\", function(...args) { return StatusPerk._resume(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"status.pause\", function(...args) { return StatusPerk._pause(...args); });\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit;\n\t\tthis.upgrade(unit, \"state\", \"status.status\", \"connected\");\n\t\tthis.upgrade(unit, \"inventory\", \"status.suspends\", {});\n\t\tthis.upgrade(unit, \"event\", \"doApplySettings\", StatusPerk.StatusPerk_onDoApplySettings);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Suspend all units at the specified status.\n\t *\n\t * @param\t{String}\t\tstatus\t\t\t\tUnit status.\n\t */\n\tstatic globalSuspend(status)\n\t{\n\n\t\tStatusPerk.__suspends[status] = StatusPerk.__createSuspendInfo(status);\n\t\tStatusPerk.__suspends[status].status = \"pending\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Resume all units at the specified status.\n\t *\n\t * @param\t{String}\t\tstatus\t\t\t\tUnit status.\n\t */\n\tstatic globalResume(status)\n\t{\n\n\t\tStatusPerk.__suspends[status].resolve();\n\t\tStatusPerk.__suspends[status].status = \"resolved\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tstatic StatusPerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.status.waitFor\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tthis.addEventHandler(sectionName, {\"handler\":StatusPerk.StatusPerk_onDoProcess, \"options\":sectionValue});\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic StatusPerk_onDoProcess(sender, e, ex)\n\t{\n\n\t\treturn StatusPerk._waitFor(this, ex.options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Change unit status and check waiting list.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit to register.\n\t * @param\t{String}\t\tstatus\t\t\t\tUnit status.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _changeStatus(unit, status)\n\t{\n\n\t\tUtil.assert(StatusPerk.__isTransitionable(unit.get(\"state\", \"status.status\"), status), `StatusPerk._changeStatus(): Illegal transition. name=${unit.tagName}, fromStatus=${unit.get(\"state\", \"status.status\")}, toStatus=${status}, id=${unit.id}`, Error);\n\n\t\tunit.set(\"state\", \"status.status\", status);\n\t\tStatusPerk._unitInfo[unit.uniqueId][\"status\"] = status;\n\n\t\tStatusPerk.__processWaitingList();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Wait for units to become specific statuses.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Array}\t\t\twaitlist\t\t\tUnits to wait.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _waitFor(unit, waitlist, options)\n\t{\n\n\t\tlet promise;\n\t\tlet timeout =\n\t\t\t\t(options && options[\"timeout\"]) ||\n\t\t\t\tunit.get(\"setting\", \"status.options.waitForTimeout\", unit.get(\"setting\", \"system.status.options.waitForTimeout\", 10000));\n\t\tlet waiter = ( options && options[\"waiter\"] ? options[\"waiter\"] : unit );\n\t\tlet waitInfo = {\"waiter\":waiter, \"waitlist\":Util.deepClone(waitlist)};\n\n\t\tif (StatusPerk.__isAllReady(waitInfo))\n\t\t{\n\t\t\tpromise = Promise.resolve();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Create a promise that is resolved when waiting is completed.\n\t\t\tpromise = new Promise((resolve, reject) => {\n\t\t\t\twaitInfo[\"resolve\"] = resolve;\n\t\t\t\twaitInfo[\"reject\"] = reject;\n\t\t\t\twaitInfo[\"timer\"] = setTimeout(() => {\n\t\t\t\t\tlet name = ( unit && unit.tagName ) || ( waitInfo[\"waiter\"] && waitInfo[\"waiter\"].tagName ) || \"\";\n\t\t\t\t\tlet uniqueId = (unit && unit.uniqueId) || \"\";\n\t\t\t\t\treject(`StatusPerk._waitFor(): Timed out after ${timeout} milliseconds waiting for ${StatusPerk.__dumpWaitlist(waitlist)}, name=${name}, uniqueId=${uniqueId}.`);\n\t\t\t\t}, timeout);\n\t\t\t});\n\t\t\twaitInfo[\"promise\"] = promise;\n\n\t\t\t// Add info to the waiting list.\n\t\t\tStatusPerk.__addToWaitingList(waitInfo);\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Suspend the unit at the specified status.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tstatus\t\t\t\tUnit status.\n\t */\n\tstatic _suspend(unit, status)\n\t{\n\n\t\t/*\n\t\tunit._suspends[status] = StatusPerk.__createSuspendInfo();\n\t \tunit._suspends[status].status = \"pending\";\n\t\t*/\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Resume the unit at the specified status.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tstatus\t\t\t\tUnit status.\n\t */\n\tstatic _resume(unit, status)\n\t{\n\n\t\t/*\n\t \tunit._suspends[status].resolve();\n\t \tunit._suspends[status].status = \"resolved\";\n\t\t*/\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Pause the unit if it is suspended.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tstatus\t\t\t\tUnit status.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _pause(unit, status)\n\t{\n\n\t\t/*\n\t\tlet ret = [];\n\n\t\t// Globally suspended?\n\t\tif (StatusPerk.__suspends[status] && StatusPerk.__suspends[status].status === \"pending\" && !unit.get(\"setting\", \"setting.ignoreGlobalSuspend\"))\n\t\t{\n\t\t\tret.push(StatusPerk.__suspends[status].promise);\n\t\t}\n\n\t\t// Unit suspended?\n\t\tif (unit._suspends[status] && unit._suspends[status].status === \"pending\")\n\t\t{\n\t\t\tret.push(unit._suspends[status].promise);\n\t\t}\n\n\t\treturn Promise.all(ret);\n\t\t*/\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Process waiting list.\n\t */\n\tstatic __processWaitingList()\n\t{\n\n\t\tlet removeList = [];\n\t\tObject.keys(StatusPerk._waitingList.items).forEach((id) => {\n\t\t\tif (StatusPerk.__isAllReady(StatusPerk._waitingList.get(id)))\n\t\t\t{\n\t\t\t\tclearTimeout(StatusPerk._waitingList.get(id)[\"timer\"]);\n\t\t\t\tStatusPerk._waitingList.get(id).resolve();\n\t\t\t\tremoveList.push(id);\n\t\t\t}\n\t\t});\n\n\t\t// Remove from waiting list\n\t\tfor (let i = 0; i < removeList.length; i++)\n\t\t{\n\t\t\tStatusPerk._waitingList.remove(removeList[i]);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add wait info to the waiting list.\n\t *\n\t * @param\t{Object}\t\twaitInfo\t\t\tWait info.\n\t */\n\tstatic __addToWaitingList(waitInfo)\n\t{\n\n\t\tlet id = Util.getUUID();\n\n\t\t/*\n\t\tfor (let i = 0; i < waitInfo[\"waitlist\"].length; i++)\n\t\t{\n\t\t\t// Check if the node exists\n\t\t\tif (waitInfo[\"waitlist\"][i].rootNode)\n\t\t\t{\n\t\t\t\tlet element = document.querySelector(waitInfo[\"waitlist\"][i].rootNode);\n\n\t\t\t\tUtil.assert(element && element.uniqueId, `StatusPerk.__addToWaitingList(): Root node does not exist. waiter=${waitInfo[\"waiter\"]}, rootNode=${waitInfo[\"waitlist\"][i].rootNode}`, ReferenceError);\n\t\t\t}\n\t\t}\n\t\t*/\n\n\t\tStatusPerk._waitingList.set(id, waitInfo);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check whether changing current status to new status is allowed.\n\t *\n\t * @param\t{String}\t\tcurrentStatus\t\tCurrent status.\n\t * @param\t{String}\t\tnewStatus\t\t\tNew status.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __isTransitionable(currentStatus, newStatus)\n\t{\n\n\t\tlet ret = true;\n\n\t\tif (currentStatus && currentStatus.slice(-3) === \"ing\")\n\t\t{\n\t\t\tif(\n\t\t\t\t( currentStatus === \"stopping\" && newStatus !== \"stopped\") ||\n\t\t\t\t( currentStatus === \"starting\" && newStatus !== \"started\")\n\t\t\t)\n\t\t\t{\n\t\t\t\tret = false;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get unit info from wait list item.\n\t *\n\t * @param\t{Object}\t\twaitlistItem\t\tWait list item.\n\t *\n\t * @return  {Boolean}\t\tTrue if ready.\n\t */\n\tstatic __getUnitInfo(unit, waitlistItem)\n\t{\n\n\t\tlet unitInfo;\n\t\tlet target = unit.use(\"skill\", \"basic.locate\", waitlistItem);\n\t\tif (target)\n\t\t{\n\t\t\tunitInfo = BITSMIST.v1.BasicPerk._unitInfo[target.uniqueId];\n\t\t}\n\n\t\treturn unitInfo;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if all units are ready.\n\t *\n\t * @param\t{Object}\t\twaitInfo\t\t\tWait info.\n\t *\n\t * @return  {Boolean}\t\tTrue if ready.\n\t */\n\tstatic __isAllReady(waitInfo)\n\t{\n\n\t\tlet result = true;\n\t\tlet waitlist = waitInfo[\"waitlist\"];\n\n\t\tfor (let i = 0; i < waitlist.length; i++)\n\t\t{\n\t\t\tlet match = false;\n\t\t\tlet unitInfo = this.__getUnitInfo(waitInfo[\"waiter\"], waitlist[i]);\n\t\t\tif (unitInfo)\n\t\t\t{\n\t\t\t\tif (StatusPerk.__isStatusMatch(unitInfo[\"status\"], waitlist[i][\"status\"]))\n\t\t\t\t{\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If one fails all fail\n\t\t\tif (!match)\n\t\t\t{\n\t\t\t\tresult = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if status match.\n\t *\n\t * @param\t{String}\t\tcurrentStatus\t\tCurrent status.\n\t * @param\t{String}\t\texpectedStatus\t\tExpected status.\n\t *\n\t * @return  {Boolean}\t\tTrue if match.\n\t */\n\tstatic __isStatusMatch(currentStatus, expectedStatus)\n\t{\n\n\t\texpectedStatus = expectedStatus || \"ready\";\n\t\tlet isMatch = false;\n\n\t\tswitch (currentStatus)\n\t\t{\n\t\t\tcase \"ready\":\n\t\t\t\tif (\n\t\t\t\t\texpectedStatus === \"ready\" ||\n\t\t\t\t\texpectedStatus === \"started\" ||\n\t\t\t\t\texpectedStatus === \"starting\"\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tisMatch = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"started\":\n\t\t\t\tif (\n\t\t\t\t\texpectedStatus === \"started\" ||\n\t\t\t\t\texpectedStatus === \"starting\"\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tisMatch = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"stopped\":\n\t\t\t\tif (\n\t\t\t\t\texpectedStatus === \"stopped\" ||\n\t\t\t\t\texpectedStatus === \"stopping\"\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tisMatch = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif ( currentStatus === expectedStatus )\n\t\t\t\t{\n\t\t\t\t\tisMatch = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn isMatch;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Dump wait list as string.\n\t *\n\t * @param\t{Array}\t\t\tWait list.\n\t *\n\t * @return  {String}\t\tWait list string.\n\t */\n\tstatic __dumpWaitlist(waitlist)\n\t{\n\n\t\tlet result = \"\";\n\n\t\tfor (let i = 0; i < waitlist.length; i++)\n\t\t{\n\t\t\tif (typeof(waitlist[i]) === \"string\")\n\t\t\t{\n\t\t\t\tresult += `\\n\\t{\"${waitlist[i]}\", status:ready},`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet uniqueId = (waitlist[i].id ? `uniqueId:${waitlist[i].uniqueId}, ` : \"\");\n\t\t\t\tlet id = (waitlist[i].id ? `id:${waitlist[i].id}, ` : \"\");\n\t\t\t\tlet tagName = (waitlist[i].tagName ? `tagName:${waitlist[i].tagName}, ` : \"\");\n\t\t\t\tlet object = (waitlist[i].object ? `object:${waitlist[i].object.tagName}, ` : \"\");\n\t\t\t\tlet selector = (waitlist[i].selector ? `selector:${waitlist[i].selector}, ` : \"\");\n\t\t\t\tlet status = (waitlist[i].status ? `status:${waitlist[i].status}` : \"status:ready\");\n\t\t\t\tresult += `\\n\\t{${uniqueId}${id}${tagName}${object}${selector}${status}},`;\n\t\t\t}\n\t\t}\n\n\t\treturn `[${result}\\n]`;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Create the suspend info object.\n\t *\n\t * @return  {Object}\t\tSuspend info.\n\t */\n\tstatic __createSuspendInfo()\n\t{\n\n\t\tlet suspendInfo = {};\n\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tsuspendInfo[\"resolve\"] = resolve;\n\t\t\tsuspendInfo[\"reject\"] = reject;\n\t\t\tsuspendInfo[\"status\"] = \"pending\";\n\t\t});\n\t\tsuspendInfo[\"promise\"] = promise;\n\n\t\treturn suspendInfo;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport AjaxUtil from \"../util/ajax-util.js\";\nimport ClassUtil from \"../util/class-util.js\";\nimport Perk from \"./perk.js\";\nimport StatusPerk from \"./status-perk.js\";\nimport Store from \"../store/store.js\";\nimport URLUtil from \"../util/url-util.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tUnit Perk Class\n// =============================================================================\n\nexport default class UnitPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"unit\",\n\t\t\t\"order\":\t\t400,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Init vars\n\t\tUnitPerk._classInfo = BITSMIST.v1.BasicPerk._classInfo; // Shortcut\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"unit.materializeAll\", function(...args) { return UnitPerk._loadTags(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"unit.materialize\", function(...args) { return UnitPerk._loadUnit(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"unit.summon\", function(...args) { return UnitPerk._loadClass(...args); });\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tthis.upgrade(unit, \"inventory\", \"unit.units\", {});\n\t\tthis.upgrade(unit, \"event\", \"doApplySettings\", UnitPerk.UnitPerk_onDoApplySettings);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tstatic UnitPerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet chain = Promise.resolve();\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.unit.units\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tchain = chain.then(() => {\n\t\t\t\tif (!this.get(\"inventory\", `unit.units.${sectionName}.object`))\n\t\t\t\t{\n\t\t\t\t\tlet parentUnit = Util.safeGet(sectionValue, \"unit.options.parentUnit\");\n\t\t\t\t\tlet targetUnit = ( parentUnit ? this.use(\"skill\", \"basic.locate\", parentUnit) : this );\n\t\t\t\t\treturn targetUnit.use(\"spell\", \"unit.materialize\", sectionName, sectionValue);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn chain;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the class.\n\t *\n\t * @param\t{String}\t\ttagName\t\t\t\tTag name.\n\t * @param\t{Object}\t\tsettings\t\t\tUnit settings.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _loadClass(tagName, settings)\n\t{\n\n\t\tconsole.debug(`UnitPerk._loadClass(): Loading class. tagName=${tagName}`);\n\n\t\t// Override settings if URL is specified\n\t\tlet classRef = Util.safeGet(settings, \"unit.options.autoLoad\");\n\t\tif (classRef && classRef !== true)\n\t\t{\n\t\t\tsettings[\"system\"] = settings[\"system\"] || {};\n\t\t\tsettings[\"system\"][\"appBaseURL\"] = \"\";\n\t\t\tsettings[\"system\"][\"unitPath\"] = \"\";\n\t\t\tsettings[\"system\"][\"skinPath\"] = \"\";\n\t\t\tsettings[\"unit\"] = settings[\"unit\"] || {};\n\t\t\tsettings[\"unit\"][\"options\"] = settings[\"unit\"][\"options\"] || {};\n\t\t\tlet url = URLUtil.parseURL(classRef);\n\t\t\tsettings[\"unit\"][\"options\"][\"path\"] = url.path;\n\t\t\tsettings[\"unit\"][\"options\"][\"fileName\"] = url.filenameWithoutExtension;\n\t\t\tif (url.extension === \"html\")\n\t\t\t{\n\t\t\t\tsettings[\"unit\"][\"options\"][\"autoMorph\"] = ( settings[\"unit\"][\"options\"][\"autoMorph\"] ? settings[\"unit\"][\"options\"][\"autoMorph\"] : true );\n\t\t\t}\n\t\t}\n\n\t\ttagName = tagName.toLowerCase();\n\t\tlet className = Util.safeGet(settings, \"unit.options.className\", Util.getClassNameFromTagName(tagName));\n\t\tlet baseClassName = Util.safeGet(settings, \"unit.options.autoMorph\", className );\n\t\tbaseClassName = ( baseClassName === true ? \"BITSMIST.v1.Unit\" : baseClassName );\n\n\t\t// Load the class if needed\n\t\tlet promise = Promise.resolve();\n\t\tif (UnitPerk.__hasExternalClass(tagName, baseClassName, settings))\n\t\t{\n\t\t\tif (UnitPerk._classInfo[baseClassName] && UnitPerk._classInfo[baseClassName][\"status\"] === \"loading\")\n\t\t\t{\n\t\t\t\t// Already loading\n\t\t\t\tconsole.debug(`UnitPerk._loadClass(): Class Already loading. className=${className}, baseClassName=${baseClassName}`);\n\t\t\t\tpromise = UnitPerk._classInfo[baseClassName].promise;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Need loading\n\t\t\t\tconsole.debug(`ClassPerk._loadClass(): Loading class. className=${className}, baseClassName=${baseClassName}`);\n\t\t\t\tUnitPerk._classInfo[baseClassName] = {\"status\":\"loading\"};\n\n\t\t\t\tlet options = {\n\t\t\t\t\t\"splitClass\": Util.safeGet(settings, \"unit.options.splitClass\", BITSMIST.v1.Unit.get(\"setting\", \"system.unit.options.splitClass\", false)),\n\t\t\t\t};\n\t\t\t\tpromise = AjaxUtil.loadClass(UnitPerk.__getClassURL(tagName, settings), options).then(() => {\n\t\t\t\t\tUnitPerk._classInfo[baseClassName] = {\"status\":\"loaded\"};\n\t\t\t\t});\n\t\t\t\tUnitPerk._classInfo[baseClassName].promise = promise;\n\t\t\t}\n\t\t}\n\n\t\treturn promise.then(() => {\n\t\t\t// Morph\n\t\t\tif (baseClassName !== className)\n\t\t\t{\n\t\t\t\tlet superClass = ClassUtil.getClass(baseClassName);\n\t\t\t\tClassUtil.newUnit(className, settings, superClass, tagName);\n\t\t\t}\n\n\t\t\t// Define the tag\n\t\t\tif (!customElements.get(tagName))\n\t\t\t{\n\t\t\t\tlet classDef = ClassUtil.getClass(className);\n\t\t\t\tUtil.assert(classDef, `UnitPerk_loadClass(): Class does not exists. tagName=${tagName}, className=${className}`);\n\n\t\t\t\tcustomElements.define(tagName, classDef);\n\t\t\t}\n\t\t});\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the unit and add to parent unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tParent unit.\n\t * @param\t{String}\t\ttagName\t\t\t\tUnit tag name.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings for the unit.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _loadUnit(unit, tagName, settings, options)\n\t{\n\n\t\tconsole.debug(`UnitPerk._loadUnit(): Adding the unit. name=${unit.tagName}, tagName=${tagName}`);\n\n\t\t// Already loaded\n\t\tif (unit.get(\"inventory\", `unit.units.${tagName}.object`))\n\t\t{\n\t\t\tconsole.debug(`UnitPerk._loadUnit(): Already loaded. name=${unit.tagName}, tagName=${tagName}`);\n\t\t\treturn Promise.resolve(unit.get(\"inventory\", `unit.units.${tagName}.object`));\n\t\t}\n\n\t\t// Get the tag name from settings if specified\n\t\tlet tag = Util.safeGet(settings, \"unit.options.tag\");\n\t\tif (tag)\n\t\t{\n\t\t\tlet pattern = /([\\w-]+)\\s+\\w+.*?>/;\n\t\t\ttagName = tag.match(pattern)[1];\n\t\t}\n\n\t\tlet addedUnit;\n\t\treturn Promise.resolve().then(() => {\n\t\t\treturn UnitPerk._loadClass(tagName, settings);\n\t\t}).then(() => {\n\t\t\t// Insert tag\n\t\t\taddedUnit = UnitPerk.__insertTag(unit, tagName, settings);\n\t\t\tunit.set(\"inventory\", `unit.units.${tagName}.object`, addedUnit);\n\t\t}).then(() => {\n\t\t\t// Wait for the added unit to be ready\n\t\t\tlet sync = Util.safeGet(options, \"syncOnAdd\", Util.safeGet(settings, \"unit.options.syncOnAdd\"));\n\t\t\tif (sync)\n\t\t\t{\n\t\t\t\tlet status = (sync === true ? \"ready\" : sync);\n\n\t\t\t\treturn unit.use(\"spell\", \"status.wait\", [{\n\t\t\t\t\t\"uniqueId\":\taddedUnit.uniqueId,\n\t\t\t\t\t\"status\":\tstatus\n\t\t\t\t}]);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\treturn addedUnit;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load scripts for tags that has bm-autoload/bm-automorph attribute.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit. Nullable.\n\t * @param\t{HTMLElement}\trootNode\t\t\tTarget node.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad Options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _loadTags(unit, rootNode, options)\n\t{\n\n\t\tconsole.debug(`UnitPerk._loadTags(): Loading tags. rootNode=${rootNode.tagName}`);\n\n\t\tlet promises = [];\n\n\t\t// Load tags that has bm-autoload/bm-classref/bm-automorph attribute\n\t\tlet targets = Util.scopedSelectorAll(rootNode, \"[bm-autoload]:not([bm-autoloading]):not([bm-powered]),[bm-automorph]:not([bm-autoloading]):not([bm-powered]),[bm-classref]:not([bm-autoloading]):not([bm-powered]),[bm-htmlref]:not([bm-autoloading]):not([bm-powered])\");\n\t\ttargets.forEach((element) => {\n\t\t\t// Get settings from attributes\n\t\t\tlet settings = this.__loadAttrSettings(element);\n\n\t\t\telement.setAttribute(\"bm-autoloading\", \"\");\n\t\t\telement._injectSettings = function(curSettings){\n\t\t\t\treturn Util.deepMerge(curSettings, settings);\n\t\t\t};\n\n\t\t\t// Load the class\n\t\t\tpromises.push(UnitPerk._loadClass(element.tagName, settings).then(() => {\n\t\t\t\telement.removeAttribute(\"bm-autoloading\");\n\t\t\t}));\n\t\t});\n\n\t\treturn Promise.all(promises).then(() => {\n\t\t\tlet waitFor = Util.safeGet(options, \"waitForTags\");\n\t\t\tif (waitFor)\n\t\t\t{\n\t\t\t\treturn UnitPerk.__waitForChildren(rootNode);\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get settings from element's attribute.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t */\n\tstatic __loadAttrSettings(element)\n\t{\n\n\t\tlet settings = {\n\t\t\t\"unit\": {\n\t\t\t\t\"options\": {}\n\t\t\t}\n\t\t};\n\n\t\t// Class name\n\t\tif (element.hasAttribute(\"bm-classname\"))\n\t\t{\n\t\t\tsettings[\"unit\"][\"options\"][\"className\"] = element.getAttribute(\"bm-classname\");\n\t\t}\n\n\t\t// Split  class\n\t\tif (element.hasAttribute(\"bm-splitclass\"))\n\t\t{\n\t\t\tlet splitClass = unit.getAttribute(\"bm-splitclass\") || true;\n\t\t\tif (splitClass === \"false\")\n\t\t\t{\n\t\t\t\tsplitClass = false;\n\t\t\t}\n\t\t\tsettings[\"unit\"][\"options\"][\"splitClass\"] = splitClass;\n\t\t}\n\n\t\t// Path\n\t\tif (element.hasAttribute(\"bm-path\"))\n\t\t{\n\t\t\tsettings[\"unit\"][\"options\"][\"path\"] = element.getAttribute(\"bm-path\");\n\t\t}\n\n\t\t// File name\n\t\tif (element.hasAttribute(\"bm-filename\"))\n\t\t{\n\t\t\tsettings[\"unit\"][\"options\"][\"fileName\"] = element.getAttribute(\"bm-filename\");\n\t\t}\n\n\t\t// Morphing\n\t\tif (element.hasAttribute(\"bm-automorph\"))\n\t\t{\n\t\t\tsettings[\"unit\"][\"options\"][\"autoMorph\"] = ( element.getAttribute(\"bm-automorph\") ? element.getAttribute(\"bm-automorph\") : true );\n\t\t}\n\t\tif (element.hasAttribute(\"bm-htmlref\"))\n\t\t{\n\t\t\tsettings[\"unit\"][\"options\"][\"autoMorph\"] = ( element.getAttribute(\"bm-htmlref\") ? element.getAttribute(\"bm-htmlref\") : true );\n\t\t}\n\n\t\t// Auto loading\n\t\tif (element.hasAttribute(\"bm-autoload\"))\n\t\t{\n\t\t\tsettings[\"unit\"][\"options\"][\"autoLoad\"] = ( element.getAttribute(\"bm-autoload\") ? element.getAttribute(\"bm-autoload\") : true );\n\t\t}\n\t\tif (element.hasAttribute(\"bm-classref\"))\n\t\t{\n\t\t\tsettings[\"unit\"][\"options\"][\"autoLoad\"] = ( element.getAttribute(\"bm-classref\") ? element.getAttribute(\"bm-classref\") : true );\n\t\t}\n\n\t\treturn settings;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the unit has the external class file.\n\t *\n\t * @param\t{String}\t\ttagName\t\t\t\tTag name.\n\t * @param\t{String}\t\tclassName\t\t\tClass name.\n\t * @param\t{Object}\t\tsettings\t\t\tUnit settings.\n\t *\n\t * @return  {Boolean}\t\tTrue if the unit has the external class file.\n\t */\n\tstatic __hasExternalClass(tagName, className, settings)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif ((Util.safeGet(settings, \"unit.options.classRef\"))\n\t\t\t\t|| (Util.safeGet(settings, \"unit.options.htmlRef\"))\n\t\t\t\t|| (Util.safeGet(settings, \"unit.options.autoLoad\"))\n\t\t\t\t|| (Util.safeGet(settings, \"unit.options.autoMorph\")))\n\t\t{\n\t\t\tret = true;\n\n\t\t\tif (customElements.get(tagName))\n\t\t\t{\n\t\t\t\tret = false;\n\t\t\t}\n\t\t\telse if (UnitPerk._classInfo[className] && UnitPerk._classInfo[className][\"status\"] === \"loaded\")\n\t\t\t{\n\t\t\t\tret = false;\n\t\t\t}\n\t\t\telse if (ClassUtil.getClass(className))\n\t\t\t{\n\t\t\t\tret = false;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Insert the tag and return the inserted unit.\n\t *\n\t * @param\t{String}\t\ttagName\t\t\t\tTagname.\n\t * @param\t{Object}\t\tsettings\t\t\tUnit settings.\n\t *\n\t * @return  {Unit}\t\tUnit.\n\t */\n\tstatic __insertTag(unit, tagName, settings)\n\t{\n\n\t\tlet addedUnit;\n\t\tlet root;\n\n\t\t// Check root node\n\t\tif (Util.safeGet(settings, \"unit.options.parentNode\"))\n\t\t{\n\t\t\troot = unit.use(\"skill\", \"basic.scan\", Util.safeGet(settings, \"unit.options.parentNode\"));\n\t\t}\n\t\telse\n\t\t{\n\t\t\troot = unit.unitRoot;\n\t\t}\n\n\t\tUtil.assert(root, `UnitPerk.__insertTag(): Root node does not exist. name=${unit.tagName}, tagName=${tagName}, parentNode=${Util.safeGet(settings, \"unit.options.parentNode\")}`, ReferenceError);\n\n\t\t// Build tag\n\t\tlet tag = ( Util.safeGet(settings, \"unit.options.tag\") ? Util.safeGet(settings, \"unit.options.tag\") : `<${tagName}></${tagName}>` );\n\n\t\t// Insert tag\n\t\tif (Util.safeGet(settings, \"unit.options.replaceParent\"))\n\t\t{\n\t\t\troot.outerHTML = tag;\n\t\t\taddedUnit = root;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet position = Util.safeGet(settings, \"unit.options.adjacentPosition\", \"afterbegin\");\n\t\t\troot.insertAdjacentHTML(position, tag);\n\n\t\t\t// Get new instance\n\t\t\tswitch (position)\n\t\t\t{\n\t\t\tcase \"beforebegin\":\n\t\t\t\taddedUnit = root.previousSibling;\n\t\t\t\tbreak;\n\t\t\tcase \"afterbegin\":\n\t\t\t\taddedUnit = root.children[0];\n\t\t\t\tbreak;\n\t\t\tcase \"beforeend\":\n\t\t\t\taddedUnit = root.lastChild;\n\t\t\t\tbreak;\n\t\t\tcase \"afterend\":\n\t\t\t\taddedUnit = root.nextSibling;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Inject settings to added unit\n\t\taddedUnit._injectSettings = function(curSettings){\n\t\t\treturn Util.deepMerge(curSettings, settings);\n\t\t};\n\n\t\treturn addedUnit;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Wait for units under the specified root node to be ready.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tTarget node.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic __waitForChildren(rootNode)\n\t{\n\n\t\tlet waitList = [];\n\t\tlet targets = Util.scopedSelectorAll(rootNode, \"[bm-powered],[bm-autoloading]\");\n\t\ttargets.forEach((element) => {\n\t\t\tif (rootNode != element.rootElement && !element.hasAttribute(\"bm-nowait\"))\n\t\t\t{\n\t\t\t\tlet waitItem = {\"object\":element, \"status\":\"ready\"};\n\t\t\t\twaitList.push(waitItem);\n\t\t\t}\n\t\t});\n\n\t\treturn StatusPerk.waitFor(waitList, {\"waiter\":rootNode});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return URL to Class file.\n\t *\n\t * @param\t{String}\t\ttagName\t\t\t\tTag name.\n\t * @param\t{Object}\t\tsettings\t\t\tUnit settings.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\tstatic __getClassURL(tagName, settings)\n\t{\n\n\t\tlet path = Util.concatPath([\n\t\t\tUtil.safeGet(settings, \"system.unit.options.path\", BITSMIST.v1.Unit.get(\"setting\", \"system.unit.options.path\", \"\")),\n\t\t\tUtil.safeGet(settings, \"unit.options.path\", \"\"),\n\t\t]);\n\t\tlet fileName = Util.safeGet(settings, \"unit.options.fileName\", tagName);\n\t\tlet query = Util.safeGet(settings, \"unit.options.query\");\n\n\t\treturn Util.concatPath([path, fileName]) + (query ? `?${query}` : \"\");\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport ChainableStore from \"../store/chainable-store.js\";\nimport UnitPerk from \"./unit-perk.js\";\nimport Perk from \"./perk.js\";\nimport Store from \"../store/store.js\";\nimport URLUtil from \"../util/url-util.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tBasic Perk Class\n// =============================================================================\n\nexport default class BasicPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"basic\",\n\t\t\t\"order\":\t\t0,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Init vars\n\t\tBasicPerk._classInfo = {};\n\t\tBasicPerk._unitInfo = {};\n\t\tBasicPerk._indexes = {\n\t\t\t\"tagName\": {},\n\t\t\t\"className\": {},\n\t\t\t\"id\": {},\n\t\t};\n\n\t\t// Upgrade Unit\n\t\tBITSMIST.v1.Unit.__bm_assets = {};\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"asset\", \"state\", new ChainableStore());\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"asset\", \"vault\", new ChainableStore());\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"asset\", \"inventory\", new ChainableStore());\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"asset\", \"skill\", new ChainableStore());\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"asset\", \"spell\", new ChainableStore());\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"method\", \"get\", this._get);\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"method\", \"set\", this._set);\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"method\", \"use\", this._use);\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"property\", \"uniqueId\", {\n\t\t\tget() { return \"00000000-0000-0000-0000-000000000000\"; },\n\t\t});\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"property\", \"tagName\", {\n\t\t\tget() { return \"BODY\"; },\n\t\t});\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"property\", \"unitRoot\", {\n\t\t\tget() { return document.body; },\n\t\t});\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.start\", function(...args) { return BasicPerk._start(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.stop\", function(...args) { return BasicPerk._stop(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.transform\", function(...args) { return BasicPerk._transform(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.setup\", function(...args) { return BasicPerk._setup(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.refresh\", function(...args) { return BasicPerk._refresh(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.fetch\", function(...args) { return BasicPerk._fetch(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.fill\", function(...args) { return BasicPerk._fill(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"basic.clear\", function(...args) { return BasicPerk._clear(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"basic.scan\", function(...args) { return BasicPerk._scan(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"basic.scanAll\", function(...args) { return BasicPerk._scanAll(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"basic.locate\", function(...args) { return BasicPerk._locate(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"basic.locateAll\", function(...args) { return BasicPerk._locateAll(...args); });\n\n\t\t// Upgrade unit\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"_connectedHandler\", this._connectedHandler);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"_disconnectedHandler\", this._disconnectedHandler);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"_adoptedHandler\", this._connectedHandler);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"_attributeChangedHandler\", this._attributeChangedHandler);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"get\", this._get);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"set\", this._set);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"has\", this._has);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"method\", \"use\", this._use);\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"property\", \"uniqueId\", {\n\t\t\tget() { return this.__bm_uniqueid; },\n\t\t});\n\t\tthis.upgrade(BITSMIST.v1.Unit.prototype, \"property\", \"unitRoot\", {\n\t\t\tget() { return this.__bm_unitroot; },\n\t\t\tset(value) { this.__bm_unitroot = value; },\n\t\t});\n\n\t\t// Create a promise that resolves when document is ready\n\t\tBITSMIST.v1.Unit.set(\"inventory\", \"promise.documentReady\", new Promise((resolve, reject) => {\n\t\t\tif ((document.readyState === \"interactive\" || document.readyState === \"complete\"))\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\t// Load tags\n\t\tBITSMIST.v1.Unit.get(\"inventory\", \"promise.documentReady\").then(() => {\n\t\t\tif (BITSMIST.v1.Unit.get(\"setting\", \"system.unit.options.autoLoadOnStartup\", true))\n\t\t\t{\n\t\t\t\tBITSMIST.v1.UnitPerk._loadTags(null, document.body, {\"waitForTags\":false});\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t// \tMethods (unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Connected callback handler.\n\t */\n\tstatic _connectedHandler(unit)\n\t{\n\n\t\t// The first time only initialization\n\t\tif (!this.__bm_uniqueid)\n\t\t{\n\t\t\tthis.__bm_initialized = false;\n\t\t\tthis.__bm_ready = Promise.resolve(); // A promise to prevent from starting/stopping while stopping/starting\n\t\t\tthis.__bm_uniqueid = Util.getUUID();\n\t\t\tthis.__bm_unitroot = this;\n\t\t\tthis.setAttribute(\"bm-powered\", \"\");\n\t\t\tBasicPerk._register(this);\n\t\t}\n\n\t\t// Start\n\t\tthis.__bm_ready = this.__bm_ready.then(() => {\n\t\t\tconsole.debug(`BasicPerk._connectedHandler(): Unit is connected. name=${this.tagName}, id=${this.id}, uniqueId=${this.uniqueId}`);\n\n\t\t\tif (!this.__bm_initialized || this.get(\"setting\", \"basic.options.autoRestart\", false))\n\t\t\t{\n\t\t\t\tthis.__bm_initialized = true;\n\n\t\t\t\t// Upgrade unit\n\t\t\t\tunit.__bm_assets = {};\n\t\t\t\tPerk.upgrade(unit, \"asset\", \"state\", new ChainableStore({\"chain\":BITSMIST.v1.Unit.__bm_assets[\"state\"]}));\n\t\t\t\tPerk.upgrade(unit, \"asset\", \"vault\", new ChainableStore());\n\t\t\t\tPerk.upgrade(unit, \"asset\", \"inventory\", new ChainableStore({\"chain\":BITSMIST.v1.Unit.__bm_assets[\"inventory\"]}));\n\t\t\t\tPerk.upgrade(unit, \"asset\", \"skill\", new ChainableStore({\"chain\":BITSMIST.v1.Unit.__bm_assets[\"skill\"]}));\n\t\t\t\tPerk.upgrade(unit, \"asset\", \"spell\", new ChainableStore({\"chain\":BITSMIST.v1.Unit.__bm_assets[\"spell\"]}));\n\n\t\t\t\t// Attach default perks\n\t\t\t\treturn Promise.resolve().then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.BasicPerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.SettingPerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.PerkPerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.StatusPerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.EventPerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.SkinPerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.StylePerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"perk.attach\", BITSMIST.v1.UnitPerk);\n\t\t\t\t}).then(() => {\n\t\t\t\t\treturn this.use(\"spell\", \"basic.start\");\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Disconnected callback handler.\n\t */\n\tstatic _disconnectedHandler(unit)\n\t{\n\n\t\t// Stop\n\t\tthis.__bm_ready = this.__bm_ready.then(() => {\n\t\t\treturn this.use(\"spell\", \"basic.stop\");\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk.disconnectedHandler(): Unit is disconnected. name=${this.tagName}, id=${this.id}, uniqueId=${this.uniqueId}`);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Adopted callback handler.\n\t */\n\tstatic _adoptedHandler(unit)\n\t{\n\n\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterAdopt\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Attribute changed callback handler.\n\t */\n\tstatic _attributeChangedHandler(unit, name, oldValue, newValue)\n\t{\n\n\t\tif (this.__bm_initialized)\n\t\t{\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterAttributeChange\", {\"name\":name, \"oldValue\":oldValue, \"newValue\":newValue});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the value from the asset.\n\t *\n\t * @param\t{String}\t\tassetName\t\t\tAsset name.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{*}\t\t\t\t...args\t\t\t\tArguments.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tstatic _get(assetName, key, ...args)\n\t{\n\n\t\treturn this.__bm_assets[assetName].get(key, ...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the asset.\n\t *\n\t * @param\t{String}\t\tassetName\t\t\tAsset name.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{*}\t\t\t\tvalue\t\t\t\tValue.\n\t */\n\tstatic _set(assetName, key, value)\n\t{\n\n\t\tthis.__bm_assets[assetName].set(key, value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return if the unit has the asset.\n\t *\n\t * @param\t{String}\t\tassetName\t\t\tAsset name.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t */\n\tstatic _has(assetName, key)\n\t{\n\n\t\tthis.__bm_assets[assetName].has(key);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call the function in the asset.\n\t *\n\t * @param\t{String}\t\tassetName\t\t\tAsset name.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{*}\t\t\t\t...args\t\t\t\tArguments.\n\t */\n\tstatic _use(assetName, key, ...args)\n\t{\n\n\t\tlet func = this.__bm_assets[assetName].get(key);\n\t\tUtil.assert(typeof(func) === \"function\", `${assetName} is not available. ${assetName}Name=${key}`);\n\n\t\treturn func.call(this, this, ...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Start unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _start(unit, options)\n\t{\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._start(): Starting unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\n\t\t\treturn unit.use(\"spell\", \"setting.apply\", {\"settings\":unit.__bm_assets[\"setting\"].items});\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeStart\");\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"skill\", \"status.change\", \"starting\");\n\t\t}).then(() => {\n\t\t\tif (unit.get(\"setting\", \"basic.options.autoTransform\", true))\n\t\t\t{\n\t\t\t\treturn unit.use(\"spell\", \"basic.transform\");\n\t\t\t}\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doStart\");\n\t\t}).then(() => {\n\t\t\tif (unit.get(\"setting\", \"basic.options.autoRefresh\", true))\n\t\t\t{\n\t\t\t\treturn unit.use(\"spell\", \"basic.refresh\");\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._start(): Started unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"skill\", \"status.change\", \"started\");\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterStart\");\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._start(): Unit is ready. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"skill\", \"status.change\", \"ready\");\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterReady\");\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Stop unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions for the unit.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _stop(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._stop(): Stopping unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"skill\", \"status.change\", \"stopping\");\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeStop\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doStop\", options);\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._stop(): Stopped unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"skill\", \"status.change\", \"stopped\");\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterStop\", options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Transform unit (Load HTML and attach to node).\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _transform(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._transform(): Transforming. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeTransform\", options);\n\t\t}).then(() => {\n\t\t\tif (unit.get(\"setting\", \"basic.options.autoSetup\", true))\n\t\t\t{\n\t\t\t\treturn unit.use(\"spell\", \"basic.setup\", options);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doTransform\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"unit.materializeAll\", unit);\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._transform(): Transformed. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterTransform\", options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Setup unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _setup(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._setup(): Setting up unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeSetup\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doSetup\", options);\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._setup(): Set up unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterSetup\", options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Refresh unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _refresh(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._refresh(): Refreshing unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeRefresh\", options);\n\t\t}).then(() => {\n\t\t\tlet autoClear = Util.safeGet(options, \"autoClear\", unit.get(\"setting\", \"basic.options.autoClear\", true));\n\t\t\tif (autoClear)\n\t\t\t{\n\t\t\t\treturn unit.use(\"spell\", \"basic.clear\", options);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tif (Util.safeGet(options, \"autoFetch\", unit.get(\"setting\", \"basic.options.autoFetch\", true)))\n\t\t\t{\n\t\t\t\treturn unit.use(\"spell\", \"basic.fetch\", options);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tif (Util.safeGet(options, \"autoFill\", unit.get(\"setting\", \"basic.options.autoFill\", true)))\n\t\t\t{\n\t\t\t\treturn unit.use(\"spell\", \"basic.fill\", options);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doRefresh\", options);\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._refresh(): Refreshed unit. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterRefresh\", options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Fetch data.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _fetch(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._fetch(): Fetching data. name=${unit.tagName}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeFetch\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doFetch\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterFetch\", options);\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._fetch(): Fetched data. name=${unit.tagName}, uniqueId=${unit.uniqueId}`);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Fill unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _fill(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._fill(): Filling with data. name=${unit.tagName}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeFill\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doFill\", options);\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._fill(): Filled with data. name=${unit.tagName}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterFill\", options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic _clear(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`BasicPerk._clear(): Clearing the unit. name=${unit.tagName}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeClear\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doClear\", options);\n\t\t}).then(() => {\n\t\t\tconsole.debug(`BasicPerk._clear(): Cleared the unit. name=${unit.tagName}, uniqueId=${unit.uniqueId}`);\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterClear\", options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get elements inside the unit speicified by the query.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tquery\t\t\t\tQuery.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {NodeList}\t\tElements.\n\t */\n\tstatic _scanAll(unit, query, options)\n\t{\n\n\t\treturn Util.scopedSelectorAll(unit, query, options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the first element inside the unit speicified by the query.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tquery\t\t\t\tQuery.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {HTMLElement}\tElement.\n\t */\n\tstatic _scan(unit, query, options)\n\t{\n\n\t\tlet nodes = Util.scopedSelectorAll(unit, query, options);\n\n\t\treturn ( nodes ? nodes[0] : null );\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Register the unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {HTMLElement}\tElement.\n\t */\n\tstatic _register(unit, options)\n\t{\n\n\t\tlet c = customElements.get(unit.tagName.toLowerCase());\n\n\t\tBasicPerk._unitInfo[unit.uniqueId] = {\n\t\t\t\"object\":\t\tunit,\n\t\t\t\"class\":\t\tc,\n\t\t\t\"classInfo\":\tBasicPerk._classInfo[c.name],\n\t\t};\n\n\t\t// Indexes\n\t\tBasicPerk._indexes[\"tagName\"][unit.tagName] = BasicPerk._indexes[\"tagName\"][unit.tagName] || [];\n\t\tBasicPerk._indexes[\"tagName\"][unit.tagName].push(unit)\n\t\tBasicPerk._indexes[\"className\"][c.name] = BasicPerk._indexes[\"className\"][c.name] || [];\n\t\tBasicPerk._indexes[\"className\"][c.name].push(unit)\n\t\tif (unit.id)\n\t\t{\n\t\t\tBasicPerk._indexes[\"id\"][unit.id] = BasicPerk._indexes[\"id\"][unit.id] || [];\n\t\t\tBasicPerk._indexes[\"id\"][unit.id].push(unit)\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Locate all the unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object/String/Unit}\ttarget\t\tTarget to locate.\n\t *\n\t * @return  {HTMLElement}\tTarget element.\n\t */\n\tstatic _locateAll(unit, target)\n\t{\n\n\t\tif (typeof(target) === \"object\")\n\t\t{\n\t\t\tif (\"selector\" in target)\n\t\t\t{\n\t\t\t\treturn document.querySelectorAll(target[\"selector\"]);\n\t\t\t}\n\t\t\telse if (\"scan\" in target)\n\t\t\t{\n\t\t\t\tlet nodes = unit.use(\"skill\", \"basic.scan\", target[\"scan\"]);\n\t\t\t\treturn unit.use(\"skill\", \"basic.scanAll\", target[\"scan\"]);\n\t\t\t}\n\t\t\telse if (\"uniqueId\" in target)\n\t\t\t{\n\t\t\t\treturn [BasicPerk._unitInfo[target[\"uniqueId\"]].object];\n\t\t\t}\n\t\t\telse if (\"tagName\" in target)\n\t\t\t{\n\t\t\t\treturn BasicPerk._indexes[\"tagName\"][target[\"tagName\"].toUpperCase()];\n\t\t\t}\n\t\t\telse if (\"object\" in target)\n\t\t\t{\n\t\t\t\treturn [target[\"object\"]];\n\t\t\t}\n\t\t\telse if (\"id\" in target)\n\t\t\t{\n\t\t\t\treturn BasicPerk._indexes[\"id\"][target[\"id\"]];\n\t\t\t}\n\t\t\telse if (\"className\" in target)\n\t\t\t{\n\t\t\t\treturn BasicPerk._indexes[\"className\"][target[\"className\"]];\n\t\t\t}\n\t\t}\n\t\telse if (typeof(target) === \"string\")\n\t\t{\n\t\t\treturn BasicPerk._indexes[\"tagName\"][target.toUpperCase()];\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn [target];\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Locate the unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object/String/Unit}\ttarget\t\tTarget to locate.\n\t *\n\t * @return  {HTMLElement}\tTarget element.\n\t */\n\tstatic _locate(unit, target)\n\t{\n\n\t\tlet units = BasicPerk._locateAll(unit, target);\n\n\t\tif (units)\n\t\t{\n\t\t\treturn units[0];\n\t\t}\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport ChainableStore from \"../store/chainable-store.js\";\nimport Perk from \"./perk\";\nimport Util from \"../util/util\";\n\n// =============================================================================\n//\tPerk Perk Class\n// =============================================================================\n\nexport default class PerkPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"perk\",\n\t\t\t\"order\":\t\t0,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/* Doesn't work on Safari\n\tstatic\n\t{\n\n\t\t// Init vars\n\t\tthis._perks = {}\n\t\tthis._sections = {};\n\n\t}\n\t*/\n\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"perk.attachPerks\", function(...args) { return PerkPerk._attachPerks(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"perk.attach\", function(...args) { return PerkPerk._attach(...args); });\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tthis.upgrade(unit, \"inventory\", \"perk.perks.PerkPerk\", {\"object\": this});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Register an perk.\n\t *\n\t * @param\t{Perk}\t\tperk\t\t\tPerk to register.\n\t */\n\tstatic register(perk)\n\t{\n\n\t\tlet info = perk.info;\n\t\tinfo[\"section\"] = info[\"section\"];\n\t\tinfo[\"order\"] = (\"order\" in info ? info[\"order\"] : 500);\n\t\tinfo[\"depends\"] = info[\"depends\"] || [];\n\t\tinfo[\"depends\"] = ( Array.isArray(info[\"depends\"]) ? info[\"depends\"] : [info[\"depends\"]] );\n\n\t\tthis._perks[perk.name] = {\n\t\t\t\"name\":\t\t\tperk.name,\n\t\t\t\"object\":\t\tperk,\n\t\t\t\"section\":\t\tinfo[\"section\"],\n\t\t\t\"order\":\t\tinfo[\"order\"],\n\t\t\t\"depends\":\t\tinfo[\"depends\"],\n\t\t};\n\n\t\t// Global init\n\t\tperk.globalInit();\n\n\t\t// Create target word index\n\t\tPerkPerk._sections[info[\"section\"]] = this._perks[perk.name];\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Attach new perks to unit according to settings.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic _attachPerks(unit, options)\n\t{\n\n\t\tlet settings = options[\"settings\"];\n\t\tlet chain = Promise.resolve();\n\t\tlet targets = PerkPerk.__listNewPerks(unit, settings);\n\n\t\tPerkPerk.__sortItems(targets).forEach((perkName) => {\n\t\t\tchain = chain.then(() => {\n\t\t\t\treturn PerkPerk._attach(unit, this._perks[perkName].object, options);\n\t\t\t});\n\t\t});\n\n\t\treturn chain;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Attach a perk to the unit.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit to be attached.\n\t * @param\t{Perk}\t\t\tperk\t\t\t\tPerk to attach.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic _attach(unit, perk, options)\n\t{\n\n\t\tif (!unit.get(\"inventory\", `perk.perks.${perk.name}`))\n\t\t{\n\t\t\t// Attach dependencies first\n\t\t\tlet deps = this._perks[perk.name][\"depends\"];\n\t\t\tfor (let i = 0; i < deps.length; i++)\n\t\t\t{\n\t\t\t\tPerkPerk._attach(unit, this._perks[deps[i]].object, options);\n\t\t\t}\n\n\t\t\tunit.set(\"inventory\", `perk.perks.${perk.name}`, {\n\t\t\t\t\"object\":perk\n\t\t\t});\n\n\t\t\treturn perk.init(unit, options);\n\t\t}\n\n\t}\n\n\t// ------------------------------------------------------------------------\n\t//  Privates\n\t// ------------------------------------------------------------------------\n\n\t/**\n\t * List not-attached perks according to settings.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t */\n\tstatic __listNewPerks(unit, settings)\n\t{\n\n\t\tlet targets = {};\n\t\tlet chain = Promise.resolve();\n\n\t\t// List new perks from \"perk\" section\n\t\tlet perks = Util.safeGet(settings, \"perk.options.apply\");\n\t\tif (perks)\n\t\t{\n\t\t\tfor (let i = 0; i < perks.length; i++)\n\t\t\t{\n\t\t\t\tlet perkName = perks[i];\n\t\t\t\tUtil.assert(this._perks[perkName], `PerkPerk.__listNewPerk(): Perk not found. name=${unit.tagName}, perkName=${perkName}`);\n\t\t\t\tif (!unit.get(\"inventory\", `perk.perks.${perkName}`))\n\t\t\t\t{\n\t\t\t\t\ttargets[perkName] = this._perks[perkName];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// List new perks from settings keyword\n\t\tObject.keys(settings).forEach((key) => {\n\t\t\tlet perkInfo = PerkPerk._sections[key];\n\n\t\t\tif (perkInfo && !unit.get(\"inventory\", `perk.perks.${perkInfo.name}`))\n\t\t\t{\n\t\t\t\ttargets[perkInfo.name] = perkInfo\n\t\t\t}\n\t\t});\n\n\t\treturn targets;\n\n\t}\n\n\t// ------------------------------------------------------------------------\n\n\t/**\n\t * Sort item keys.\n\t *\n\t * @param\t{Object}\t\tobserverInfo\t\tObserver info.\n\t *\n\t * @return  {Array}\t\t\tSorted keys.\n\t */\n\tstatic __sortItems(perks)\n\t{\n\n\t\treturn Object.keys(perks).sort((a,b) => {\n\t\t\treturn perks[a][\"order\"] - perks[b][\"order\"];\n\t\t})\n\n\t}\n\n}\n\n// Init\nPerkPerk._perks = {}\nPerkPerk._sections = {};\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport AjaxUtil from \"../util/ajax-util.js\";\nimport ChainableStore from \"../store/chainable-store.js\";\nimport Perk from \"./perk.js\";\nimport URLUtil from \"../util/url-util.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tSetting Perk Class\n// =============================================================================\n\nexport default class SettingPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"setting\",\n\t\t\t\"order\":\t\t10,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"asset\", \"setting\", new ChainableStore());\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"setting.get\", function(...args) { return SettingPerk._getSettings(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"setting.set\", function(...args) { return SettingPerk._setSettings(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"setting.merge\", function(...args) { return SettingPerk._mergeSettings(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"setting.summon\", function(...args) { return SettingPerk._loadSettings(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"setting.apply\", function(...args) { return SettingPerk._applySettings(...args); });\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Get settings\n\t\tlet settings = (options && options[\"settings\"]) || {};\n\t\tsettings = SettingPerk.__injectSettings(unit, settings);\n\t\tsettings = SettingPerk.__mergeSettings(unit, settings);\n\n\t\t// Upgrade unit\n\t\tthis.upgrade(unit, \"asset\", \"setting\", new ChainableStore({\"items\":settings, \"chain\":BITSMIST.v1.Unit.__bm_assets[\"setting\"]}));\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tSettingPerk.__loadAttrSettings(unit);\n\t\t}).then(() => {\n\t\t\tif (SettingPerk.__hasExternalSettings(unit))\n\t\t\t{\n\t\t\t\treturn SettingPerk._loadSettings(unit);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tSettingPerk.__loadAttrSettings(unit); // Do it again to overwrite since attribute settings have higher priority\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Apply settings.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic _applySettings(unit, options)\n\t{\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"beforeApplySettings\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"perk.attachPerks\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"doApplySettings\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.use(\"spell\", \"event.trigger\", \"afterApplySettings\", options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the settings file and merge to unit's settings.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic _loadSettings(unit, options)\n\t{\n\n\t\treturn AjaxUtil.loadJSON(SettingPerk.__getSettingsURL(unit), Object.assign({\"bindTo\":unit}, options)).then((settings) => {\n\t\t\tif (settings)\n\t\t\t{\n\t\t\t\tunit.use(\"skill\", \"setting.merge\", settings);\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get settings.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{*}\t\t\t\tdefaultValue\t\tValue returned when key is not found.\n\t */\n\tstatic _getSettings(unit, key, defaultValue)\n\t{\n\n\t\treturn unit.get(\"setting\", key, defaultValue);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set settings.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{*}\t\t\t\tvalue\t\t\t\tValue.\n\t */\n\tstatic _setSettings(unit, key, value)\n\t{\n\n\t\treturn unit.set(\"setting\", key, value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set settings.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{*}\t\t\t\tvalue\t\t\t\tValue.\n\t */\n\tstatic _mergeSettings(unit, key, value)\n\t{\n\n\t\treturn unit.__bm_assets[\"setting\"].merge(key, value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get settings from element's attribute.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t */\n\tstatic __loadAttrSettings(unit)\n\t{\n\n\t\tif (unit.hasAttribute(\"bm-settingsref\"))\n\t\t{\n\t\t\tlet settingsRef = unit.getAttribute(\"bm-settingsref\") || true;\n\t\t\tif (settingsRef === \"false\")\n\t\t\t{\n\t\t\t\tsettingsRef = false;\n\t\t\t}\n\t\t\tunit.set(\"setting\", \"setting.options.settingsRef\", settingsRef);\n\t\t}\n\n\t\tif (unit.hasAttribute(\"bm-options\"))\n\t\t{\n\t\t\tlet options = {\"options\": JSON.parse(unit.getAttribute(\"bm-options\"))};\n\t\t\tunit.use(\"skill\", \"setting.merge\", options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the unit has the external settings file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {Boolean}\t\tTrue if the unit has the external settings file.\n\t */\n\tstatic __hasExternalSettings(unit)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (unit.get(\"setting\", \"setting.options.settingsRef\"))\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return URL to setting file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\tstatic __getSettingsURL(unit)\n\t{\n\n\t\tlet path;\n\t\tlet fileName;\n\t\tlet query;\n\n\t\tlet settingsRef = unit.get(\"setting\", \"setting.options.settingsRef\");\n\t\tif (settingsRef && settingsRef !== true)\n\t\t{\n\t\t\t// If URL is specified in ref, use it\n\t\t\tlet url = URLUtil.parseURL(settingsRef);\n\t\t\tpath = url.path;\n\t\t\tfileName = url.filename;\n\t\t\tquery = url.query;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Use default path and filename\n\t\t\tpath = Util.concatPath([\n\t\t\t\t\tunit.get(\"setting\", \"system.unit.options.path\"),\n\t\t\t\t\tunit.get(\"setting\", \"unit.options.path\", \"\"),\n\t\t\t\t]);\n\t\t\tlet ext = unit.get(\"setting\", \"setting.options.settingFormat\", unit.get(\"setting\", \"system.setting.options.settingFormat\", \"json\"));\n\t\t\tfileName = unit.get(\"setting\", \"unit.options.fileName\", unit.tagName.toLowerCase()) + \".settings.\" + ext;\n\t\t\tquery = unit.get(\"setting\", \"unit.options.query\");\n\t\t}\n\n\t\treturn Util.concatPath([path, fileName]) + (query ? `?${query}` : \"\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Inject settings.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return  {Object}\t\tNew settings.\n\t */\n\tstatic __injectSettings(unit, settings)\n\t{\n\n\t\tif (typeof(unit._injectSettings) === \"function\")\n\t\t{\n\t\t\tsettings = unit._injectSettings.call(unit, settings);\n\t\t}\n\n\t\treturn settings;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get unit settings. Need to override.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {Object}\t\tOptions.\n\t */\n\tstatic _getSettings(unit)\n\t{\n\n\t\treturn {};\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n \t * Inject settings.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\tsettings\t\t\tSettings.\n\t *\n\t * @return  {Object}\t\tNew settings.\n\t */\n\tstatic __mergeSettings(unit, settings)\n\t{\n\n\t\tlet curUnit = Object.getPrototypeOf(unit);\n\t\tlet curSettings = {};\n\t\tlet parentSettings;\n\n\t\t// Merge superclass settings\n\t\twhile (typeof(Object.getPrototypeOf(curUnit)._getSettings) === \"function\")\n\t\t{\n\t\t\tparentSettings = Object.getPrototypeOf(curUnit)._getSettings.call(unit);\n\t\t\tif (Object.keys(parentSettings).length > 0)\n\t\t\t{\n\t\t\t\tUtil.deepMerge(parentSettings, curSettings);\n\t\t\t\tcurSettings = parentSettings;\n\t\t\t}\n\n\t\t\tcurUnit= Object.getPrototypeOf(curUnit);\n\t\t}\n\t\tUtil.deepMerge(settings, curSettings);\n\n\t\t// Merge unit settings\n\t\tUtil.deepMerge(settings, unit._getSettings.call(unit));\n\n\t\treturn settings;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport AjaxUtil from \"../util/ajax-util\";\nimport ChainableStore from \"../store/chainable-store.js\";\nimport Perk from \"./perk\";\nimport URLUtil from \"../util/url-util.js\";\nimport Util from \"../util/util\";\n\n// =============================================================================\n//\tSkin Perk Class\n// =============================================================================\n\nexport default class SkinPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"skin\",\n\t\t\t\"order\":\t\t210,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"skin.apply\", function(...args) { return SkinPerk._applySkin(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"skin.clone\", function(...args) { return SkinPerk._cloneSkin(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"skin.summon\", function(...args) { return SkinPerk._loadSkin(...args); });\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tthis.upgrade(unit, \"inventory\", \"skin.skins\", {});\n\t\tthis.upgrade(unit, \"state\", \"skin.active.skinName\", \"\");\n\t\tthis.upgrade(unit, \"event\", \"beforeTransform\", SkinPerk.SkinPerk_onBeforeTransform);\n\t\tthis.upgrade(unit, \"event\", \"doTransform\", SkinPerk.SkinPerk_onDoTransform);\n\n\t\tSkinPerk.__loadAttrSettings(unit);\n\n\t\t// Shadow DOM\n\t\tswitch (unit.get(\"setting\", \"skin.options.shadowDOM\", unit.get(\"setting\" ,\"system.skin.options.shadowDOM\")))\n\t\t{\n\t\tcase \"open\":\n\t\t\tunit.set(\"state\", \"skin.shadowRoot\", unit.attachShadow({mode:\"open\"}));\n\t\t\tbreak;\n\t\tcase \"closed\":\n\t\t\tunit.set(\"state\", \"skin.shadowRoot\", unit.attachShadow({mode:\"closed\"}));\n\t\t\tbreak;\n\t\t}\n\n\t\tunit.unitRoot = unit.get(\"state\", \"skin.shadowRoot\", unit);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tstatic SkinPerk_onBeforeTransform(sender, e, ex)\n\t{\n\n\t\tif (e.detail.skinName || SkinPerk.__hasDefaultSkin(this))\n\t\t{\n\t\t\tlet skinName = e.detail.skinName || \"default\";\n\n\t\t\treturn SkinPerk._loadSkin(this, skinName).then((skinInfo) => {\n\t\t\t\tthis.unitRoot.textContent = \"\";\n\t\t\t\tthis.unitRoot = skinInfo[\"template\"].content.cloneNode(true);\n\t\t\t});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic SkinPerk_onDoTransform(sender, e, ex)\n\t{\n\n\t\tif (e.detail.skinName || SkinPerk.__hasDefaultSkin(this))\n\t\t{\n\t\t\tlet skinName = e.detail.skinName || \"default\";\n\n\t\t\treturn SkinPerk._applySkin(this, skinName, this.unitRoot);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the skin HTML.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tskinName\t\t\tSkin name.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic _loadSkin(unit, skinName, options)\n\t{\n\n\t\tlet promise = Promise.resolve();\n\t\tlet skinInfo = unit.get(\"inventory\", `skin.skins.${skinName}`) || SkinPerk.__createSkinInfo(unit, skinName);\n\t\tlet skinSettings = options || unit.get(\"setting\", `skin.skins.${skinName}`, {});\n\n\t\tif (skinInfo[\"status\"] === \"loaded\")\n\t\t{\n\t\t\tconsole.debug(`SkinPerk._loadSkin(): Skin already loaded. name=${unit.tagName}, skinName=${skinName}`);\n\t\t\treturn promise.then(() => {\n\t\t\t\treturn skinInfo;\n\t\t\t});\n\t\t}\n\n\t\tswitch (skinSettings[\"type\"]) {\n\t\tcase \"HTML\":\n\t\t\tskinInfo[\"HTML\"] = skinSettings[\"HTML\"];\n\t\t\tskinInfo[\"template\"] = document.createElement(\"template\");\n\t\t\tskinInfo[\"template\"].innerHTML = skinInfo[\"HTML\"];\n\t\t\tskinInfo[\"status\"] = \"loaded\";\n\t\t\tunit.set(\"inventory\", `skin.skins.${skinName}`, skinInfo);\n\t\t\tbreak;\n\t\tcase \"node\":\n\t\t\tlet rootNode = unit.use(\"skill\", \"basic.scan\", skinSettings[\"rootNode\"] || \"\");\n\t\t\tUtil.assert(rootNode, `SkinPerk._loadSkin(): Root node does not exist. name=${unit.tagName}, skinName=${skinName}, rootNode=${skinSettings[\"rootNode\"]}`);\n\t\t\tskinInfo[\"HTML\"] = rootNode.innerHTML;\n\t\t\tskinInfo[\"template\"] = document.createElement(\"template\");\n\t\t\tskinInfo[\"template\"].innerHTML = skinInfo[\"HTML\"];\n\t\t\tskinInfo[\"status\"] = \"loaded\";\n\t\t\tunit.set(\"inventory\", `skin.skins.${skinName}`, skinInfo);\n\t\t\tbreak;\n\t\tcase \"URL\":\n\t\tdefault:\n\t\t\tlet url = skinSettings[\"URL\"] || (skinName === \"default\" && SkinPerk.__getSkinURL(unit));\n\t\t\tUtil.assert(url, `SkinPerk._loadSkin(): Skin URL is not speicified. name=${unit.tagName}, skinName=${skinName}`);\n\t\t\tpromise = AjaxUtil.loadHTML(url).then((skin) => {\n\t\t\t\tskinInfo[\"HTML\"] = skin;\n\t\t\t\tskinInfo[\"template\"] = document.createElement(\"template\");\n\t\t\t\tskinInfo[\"template\"].innerHTML = skinInfo[\"HTML\"];\n\t\t\t\tskinInfo[\"status\"] = \"loaded\";\n\t\t\t\tunit.set(\"inventory\", `skin.skins.${skinName}`, skinInfo);\n\t\t\t});\n\t\t\tbreak;\n\t\t}\n\n\t\treturn promise.then(() => {\n\t\t\treturn skinInfo;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Apply skin.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tParent unit.\n\t * @param\t{String}\t\tskinName\t\t\tSkin name.\n\t */\n\tstatic _applySkin(unit, skinName, clone)\n\t{\n\n\t\tlet skinInfo = unit.get(\"inventory\", `skin.skins.${skinName}`);\n\n\t\tUtil.assert(skinInfo,`SkinPerk._applySkin(): Skin not loaded. name=${unit.tagName}, skinName=${skinName}, id=${unit.id}, uniqueId=${unit.uniqueId}`, ReferenceError);\n\n\t\t// Append the clone to the unit\n\t\tclone = clone || skinInfo[\"template\"].content.cloneNode(true);\n\t\tunit.unitRoot = unit.get(\"state\", \"skin.shadowRoot\", unit);\n\t\tunit.unitRoot.innerHTML = \"\";\n\t\tunit.unitRoot.appendChild(clone);\n\n\t\t// Change active skin\n\t\tunit.set(\"state\", \"skin.active.skinName\", skinName);\n\n\t\tconsole.debug(`SkinPerk._applySkin(): Applied skin. name=${unit.tagName}, skinName=${skinName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\t//\n\t/**\n\t * Get settings from element's attribute.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t */\n\tstatic __loadAttrSettings(unit)\n\t{\n\n\t\tif (unit.hasAttribute(\"bm-skinref\"))\n\t\t{\n\t\t\tlet skinRef = unit.getAttribute(\"bm-styleref\") || true;\n\t\t\tif (skinRef === \"false\")\n\t\t\t{\n\t\t\t\tskinRef = false;\n\t\t\t}\n\n\t\t\tunit.set(\"setting\", \"skin.options.skinRef\", skinRef);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Returns a new skin info object.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tParent unit.\n\t * @param\t{String}\t\tskinName\t\t\tSkin name.\n\t *\n\t * @return  {Object}\t\tSkin info.\n\t */\n\tstatic __createSkinInfo(unit, skinName)\n\t{\n\n\t\treturn {\n\t\t\t\"name\":\t\tskinName,\n\t\t\t\"HTML\":\t\t\"\",\n\t\t\t\"template\": null,\n\t\t\t\"status\":\t\"\",\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the unit has the default skin file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {Boolean}\t\tTrue if the unit has the external skin file.\n\t */\n\tstatic __hasDefaultSkin(unit)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (unit.get(\"setting\", \"skin.options.skinRef\", true))\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return URL to skin file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String\t}\t\tskinName\t\t\tSkin name.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\tstatic __getSkinURL(unit)\n\t{\n\n\t\tlet path;\n\t\tlet fileName;\n\t\tlet query;\n\n\t\tlet skinRef = unit.get(\"setting\", \"skin.options.skinRef\");\n\t\tif (skinRef && skinRef !== true)\n\t\t{\n\t\t\t// If URL is specified in ref, use it\n\t\t\tlet url = URLUtil.parseURL(skinRef);\n\t\t\tpath = url.path;\n\t\t\tfileName = url.filename;\n\t\t\tquery = url.query;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Use default path and filename\n\t\t\tpath = Util.concatPath([\n\t\t\t\t\tunit.get(\"setting\", \"system.skin.options.path\", unit.get(\"setting\", \"system.unit.options.path\", \"\")),\n\t\t\t\t\tunit.get(\"setting\", \"style.options.path\", unit.get(\"setting\", \"unit.options.path\", \"\")),\n\t\t\t\t]);\n\t\t\tfileName = SkinPerk.__getDefaultFilename(unit) + \".html\";\n\t\t\tquery = unit.get(\"setting\", \"unit.options.query\");\n\t\t}\n\n\t\treturn Util.concatPath([path, fileName]) + (query ? `?${query}` : \"\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the default skin name.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return \t{String}\t\tSkin name.\n\t */\n\tstatic __getDefaultFilename(unit)\n\t{\n\n\t\treturn unit.get(\"setting\", \"skin.options.fileName\",\n\t\t\tunit.get(\"setting\", \"unit.options.fileName\",\n\t\t\t\tunit.tagName.toLowerCase()));\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport AjaxUtil from \"../util/ajax-util\";\nimport ChainableStore from \"../store/chainable-store.js\";\nimport Perk from \"./perk\";\nimport URLUtil from \"../util/url-util.js\";\nimport Util from \"../util/util\";\n\n// =============================================================================\n//\tStyle Perk Class\n// =============================================================================\n\nexport default class StylePerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"style\",\n\t\t\t\"order\":\t\t200,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"vault\", \"style.applied\", []);\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"inventory\", \"style.styles\", new ChainableStore());\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"style.summon\", function(...args) { return StylePerk._loadCSS(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"style.apply\", function(...args) { return StylePerk._applyCSS(...args); });\n\n\t\tthis._cssReady = {};\n\t\tthis._cssReady[\"promise\"] = new Promise((resolve, reject) => {\n\t\t\tthis._cssReady[\"resolve\"] = resolve;\n\t\t\tthis._cssReady[\"reject\"] = reject;\n\t\t});\n\n\t\t// Load and apply common CSS\n\t\tlet chain = Promise.resolve();\n\t\tBITSMIST.v1.Unit.get(\"inventory\", \"promise.documentReady\").then(() => {\n\t\t\tlet promises = [];\n\t\t\tObject.entries(BITSMIST.v1.Unit.get(\"setting\", \"system.style.styles\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\t\tpromises.push(StylePerk._loadCSS(BITSMIST.v1.Unit, sectionName, sectionValue));\n\t\t\t});\n\n\t\t\tPromise.all(promises).then(() => {\n\t\t\t\tlet chain = Promise.resolve();\n\t\t\t\tlet styles = BITSMIST.v1.Unit.get(\"setting\", \"system.style.options.apply\", []);\n\t\t\t\tfor (let i = 0; i < styles.length; i++)\n\t\t\t\t{\n\t\t\t\t\tchain = chain.then(() => {\n\t\t\t\t\t\treturn StylePerk._applyCSS(BITSMIST.v1.Unit, styles[i]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn chain.then(() => {\n\t\t\t\t\tthis._cssReady[\"resolve\"]();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tthis.upgrade(unit, \"vault\", \"style.applied\", []);\n\t\tthis.upgrade(unit, \"inventory\", \"style.styles\", new ChainableStore({\n\t\t\t\"chain\":\tBITSMIST.v1.Unit.get(\"inventory\", \"style.styles\"),\n\t\t}));\n\t\tthis.upgrade(unit, \"event\", \"doTransform\", StylePerk.StylePerk_onDoTransform);\n\n\t\tStylePerk.__loadAttrSettings(unit);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tstatic StylePerk_onDoTransform(sender, e, ex)\n\t{\n\n\t\treturn StylePerk._cssReady.promise.then(() => {\n\t\t\t// List common CSS\n\t\t\tlet css = this.get(\"setting\", \"style.options.apply\", []);\n\n\t\t\tif (e.detail.styleName || StylePerk.__hasDefaultCSS(this))\n\t\t\t{\n\t\t\t\tlet styleName = e.detail.styleName || \"default\";\n\n\t\t\t\t// Add style specific common CSS\n\t\t\t\tcss = css.concat(this.get(\"setting\", `style.styles.${styleName}.apply`, []));\n\n\t\t\t\t// Add unit specific CSS\n\t\t\t\tcss.push(styleName);\n\t\t\t}\n\n\t\t\t// Load CSS\n\t\t\tlet promises = [];\n\t\t\tfor (let i = 0; i < css.length; i++)\n\t\t\t{\n\t\t\t\tpromises.push(StylePerk._loadCSS(this, css[i]));\n\t\t\t}\n\n\t\t\treturn Promise.all(promises).then(() => {\n\t\t\t\t// Clear CSS\n\t\t\t\tStylePerk._clearCSS(this);\n\n\t\t\t\t// Apply CSS\n\t\t\t\tlet chain = Promise.resolve();\n\t\t\t\tfor (let i = 0; i < css.length; i++)\n\t\t\t\t{\n\t\t\t\t\tchain = chain.then(() => {\n\t\t\t\t\t\treturn StylePerk._applyCSS(this, css[i]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn chain;\n\t\t\t});\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the CSS.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tstyleName\t\t\tStyle name.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic _loadCSS(unit, styleName, options)\n\t{\n\n\t\tlet promise = Promise.resolve();\n\t\tlet styleInfo = unit.get(\"inventory\", \"style.styles\").get(styleName) || StylePerk.__createStyleInfo(unit, styleName);\n\t\tlet styleSettings = options || unit.get(\"setting\", `style.styles.${styleName}`, {});\n\n\t\tif (styleInfo[\"status\"] === \"loaded\")\n\t\t{\n\t\t\tconsole.debug(`StylePerk._loadCSS(): Style already loaded. name=${unit.tagName}, styleName=${styleName}`);\n\t\t\treturn promise.then(() => {\n\t\t\t\treturn styleInfo;\n\t\t\t});\n\t\t}\n\n\t\tswitch (styleSettings[\"type\"]) {\n\t\tcase \"CSS\":\n\t\t\tstyleInfo[\"CSS\"] = styleSettings[\"CSS\"];\n\t\t\tstyleInfo[\"status\"] = \"loaded\";\n\t\t\tunit.get(\"inventory\", `style.styles`).set(styleName, styleInfo);\n\t\t\tbreak;\n\t\tcase \"URL\":\n\t\tdefault:\n\t\t\tif (styleInfo[\"status\"] === \"loading\")\n\t\t\t{\n\t\t\t\tpromise = styleInfo[\"promise\"];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet url = styleSettings[\"URL\"] || (styleName === \"default\" && StylePerk.__getCSSURL(unit));\n\t\t\t\tUtil.assert(url, `StylePerk._loadCSS(): CSS URL is not speicified. name=${unit.tagName}, styleName=${styleName}`);\n\t\t\t\tpromise = AjaxUtil.loadCSS(url).then((css) => {\n\t\t\t\t\tlet styleInfo = unit.get(\"inventory\", \"style.styles\").get(styleName);\n\t\t\t\t\tstyleInfo[\"CSS\"] = css;\n\t\t\t\t\tstyleInfo[\"status\"] = \"loaded\";\n\t\t\t\t\tunit.get(\"inventory\", \"style.styles\").set(styleName, styleInfo);\n\t\t\t\t});\n\t\t\t\tstyleInfo[\"promise\"] = promise;\n\t\t\t\tstyleInfo[\"status\"] = \"loading\";\n\t\t\t\tunit.get(\"inventory\", `style.styles`).set(styleName, styleInfo);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn promise.then(() => {\n\t\t\treturn styleInfo;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Apply style.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tParent unit.\n\t * @param\t{String}\t\tstyleName\t\t\tStyle name.\n\t */\n\tstatic _applyCSS(unit, styleName)\n\t{\n\n\t\tlet cssInfo = unit.get(\"inventory\", \"style.styles\").get(styleName);\n\t\tlet ss = new CSSStyleSheet();\n\n\t\tUtil.assert(cssInfo,`StylePerk._applyCSS(): CSS not loaded. name=${unit.tagName || \"Global\"}, styleName=${styleName}, id=${unit.id}, uniqueId=${unit.uniqueId}`, ReferenceError);\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\treturn ss.replace(`${cssInfo[\"CSS\"]}`);\n\t\t}).then(() => {\n\t\t\tlet shadowRoot = unit.get(\"state\", \"skin.shadowRoot\");\n\t\t\tif (shadowRoot)\n\t\t\t{\n\t\t\t\t// Shadow DOM\n\t\t\t\tshadowRoot.adoptedStyleSheets = [...shadowRoot.adoptedStyleSheets, ss];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Light DOM\n\t\t\t\tstyleName = unit.tagName + \".\" + styleName;\n\t\t\t\tif (!(styleName in StylePerk.__applied) || StylePerk.__applied[styleName][\"count\"] <= 0)\n\t\t\t\t{\n\t\t\t\t\t// Apply styles\n\t\t\t\t\tStylePerk.__applied[styleName] = StylePerk.__applied[styleName] || {};\n\t\t\t\t\tdocument.adoptedStyleSheets = [...document.adoptedStyleSheets, ss];\n\t\t\t\t\tStylePerk.__applied[styleName][\"object\"] = ss;\n\t\t\t\t\tStylePerk.__applied[styleName][\"count\"] = 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// Already applied\n\t\t\t\t\tStylePerk.__applied[styleName][\"count\"]++;\n\t\t\t\t}\n\n\t\t\t\tlet applied = unit.get(\"vault\", \"style.applied\");\n\t\t\t\tapplied.push(styleName);\n\t\t\t\tunit.set(\"vault\", \"style.applied\", applied);\n\t\t\t}\n\n\t\t\tconsole.debug(`StylePerk._applyCSS(): Applied CSS. name=${unit.tagName}, styleName=${cssInfo[\"name\"]}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear styles. Works only in ShadowDOM.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tParent unit.\n\t */\n\tstatic _clearCSS(unit)\n\t{\n\n\t\tlet shadowRoot = unit.get(\"state\", \"skin.shadowRoot\");\n\t\tif (shadowRoot)\n\t\t{\n\t\t\t// Shadow DOM\n\t\t\tshadowRoot.adoptedStyleSheets = [];\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Light DOM\n\t\t\tlet applied = unit.get(\"vault\", \"style.applied\");\n\t\t\tif (applied.length > 0)\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < applied.length; i++)\n\t\t\t\t{\n\t\t\t\t\tStylePerk.__applied[applied[i]][\"count\"]--;\n\t\t\t\t}\n\t\t\t\tunit.set(\"vault\", \"style.applied\", []);\n\n\t\t\t\t// Re-apply other CSS\n\t\t\t\tdocument.adoptedStyleSheets = [];\n\t\t\t\tObject.keys(StylePerk.__applied).forEach((key) => {\n\t\t\t\t\tif (StylePerk.__applied[key][\"count\"] > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.adoptedStyleSheets = [...document.adoptedStyleSheets, StylePerk.__applied[key][\"object\"]];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\t//\n\t/**\n\t * Get settings from element's attribute.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t */\n\tstatic __loadAttrSettings(unit)\n\t{\n\n\t\tif (unit.hasAttribute(\"bm-styleref\"))\n\t\t{\n\t\t\tlet styleRef = unit.getAttribute(\"bm-styleref\") || true;\n\t\t\tif (styleRef === \"false\")\n\t\t\t{\n\t\t\t\tstyleRef = false;\n\t\t\t}\n\n\t\t\tunit.set(\"setting\", \"style.options.styleRef\", styleRef);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Returns a new Style info object.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tParent unit.\n\t * @param\t{String}\t\tstyleName\t\t\tStyle name.\n\t *\n\t * @return  {Object}\t\tStyle info.\n\t */\n\tstatic __createStyleInfo(unit, styleName)\n\t{\n\n\t\treturn {\n\t\t\t\"name\": \tstyleName,\n\t\t\t\"CSS\":\t\t\"\",\n\t\t\t\"status\":\t\"\",\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the unit has the default CSS file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {Boolean}\t\tTrue if the unit has the external CSS file.\n\t */\n\tstatic __hasDefaultCSS(unit)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (unit.get(\"setting\", \"style.options.styleRef\", true))\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return URL to CSS file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\tstatic __getCSSURL(unit)\n\t{\n\n\t\tlet path;\n\t\tlet fileName;\n\t\tlet query;\n\n\t\tlet cssRef = unit.get(\"setting\", \"style.options.styleRef\");\n\t\tif (cssRef && cssRef !== true)\n\t\t{\n\t\t\t// If URL is specified in ref, use it\n\t\t\tlet url = URLUtil.parseURL(cssRef);\n\t\t\tpath = url.path;\n\t\t\tfileName = url.filename;\n\t\t\tquery = url.query;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Use default path and filename\n\t\t\tpath = Util.concatPath([\n\t\t\t\t\tunit.get(\"setting\", \"system.style.options.path\", unit.get(\"setting\", \"system.unit.options.path\", \"\")),\n\t\t\t\t\tunit.get(\"setting\", \"skin.options.path\", unit.get(\"setting\", \"unit.options.path\", \"\")),\n\t\t\t\t]);\n\t\t\tfileName =  StylePerk.__getDefaultFilename(unit) + \".css\";\n\t\t\tquery = unit.get(\"setting\", \"unit.options.query\");\n\t\t}\n\n\t\treturn Util.concatPath([path, fileName]) + (query ? `?${query}` : \"\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the default style name.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return \t{String}\t\tStyle name.\n\t */\n\tstatic __getDefaultFilename(unit)\n\t{\n\n\t\treturn unit.get(\"setting\", \"style.options.fileName\",\n\t\t\tunit.get(\"setting\", \"unit.options.fileName\",\n\t\t\t\tunit.tagName.toLowerCase()));\n\n\t}\n\n}\n\n// Init\nStylePerk.__applied = {};\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/main/LICENSE\n */\n// =============================================================================\n\nimport Perk from \"./perk.js\";\nimport Util from \"../util/util.js\";\n\n// =============================================================================\n//\tEvent Perk class\n// =============================================================================\n\nexport default class EventPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn {\n\t\t\t\"section\":\t\t\"event\",\n\t\t\t\"order\":\t\t210,\n\t\t};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Upgrade Unit\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"event.add\", function(...args) { return EventPerk._addEventHandler(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"event.remove\", function(...args) { return EventPerk._removeEventHandler(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"event.init\", function(...args) { return EventPerk._initEvents(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"event.reset\", function(...args) { return EventPerk._removeEvents(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"spell\", \"event.trigger\", function(...args) { return EventPerk._trigger(...args); });\n\t\tthis.upgrade(BITSMIST.v1.Unit, \"skill\", \"event.triggerSync\", function(...args) { return EventPerk._triggerSync(...args); });\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tthis.upgrade(unit, \"event\", \"doApplySettings\", EventPerk.EventPerk_onDoApplySettings);\n\t\tthis.upgrade(unit, \"event\", \"afterTransform\", EventPerk.EventPerk_onAfterTransform);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic deinit(unit, options)\n\t{\n\n\t\tlet events = this.get(\"setting\", \"event\");\n\t\tif (events)\n\t\t{\n\t\t\tObject.keys(events).forEach((elementName) => {\n\t\t\t\tEventPerk._removeEvents(unit, elementName, events[eventName]);\n\t\t\t});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tstatic EventPerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.event.events\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tEventPerk._initEvents(this, sectionName, sectionValue);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic EventPerk_onAfterTransform(sender, e, ex)\n\t{\n\n\t\tObject.entries(this.get(\"setting\", \"event.events\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\t// Initialize only elements inside unit\n\t\t\tif (!EventPerk.__isTargetSelf(sectionName, sectionValue))\n\t\t\t{\n\t\t\t\tEventPerk._initEvents(this, sectionName, sectionValue);\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add an event handler.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\teventName\t\t\tEvent name.\n\t * @param\t{Object/Function/String}\thandlerInfo\tEvent handler info.\n\t * @param\t{HTMLElement}\telement\t\t\t\tHTML element.\n\t * @param\t{Object}\t\tbindTo\t\t\t\tObject that binds to the handler.\n\t */\n\tstatic _addEventHandler(unit, eventName, handlerInfo, element, bindTo)\n\t{\n\n\t\telement = element || unit;\n\t\tlet handlerOptions = (typeof handlerInfo === \"object\" ? handlerInfo : {});\n\n\t\t// Get handler\n\t\tlet handler = EventPerk.__getEventHandler(unit, handlerInfo);\n\t\tUtil.assert(handler, `EventPerk._addEventHandler(): handler not found. name=${unit.tagName}, eventName=${eventName}`);\n\n\t\t// Init holder object for the element\n\t\tif (!element.__bm_eventinfo)\n\t\t{\n\t\t\telement.__bm_eventinfo = { \"unit\":unit, \"listeners\":{}, \"promises\":{}, \"statuses\":{} };\n\t\t}\n\n\t\t// Add hook event handler\n\t\tlet listeners = element.__bm_eventinfo.listeners;\n\t\tif (!listeners[eventName])\n\t\t{\n\t\t\tlisteners[eventName] = [];\n\t\t\telement.addEventListener(eventName, EventPerk.__callEventHandler, handlerOptions[\"listnerOptions\"]);\n\t\t}\n\n\t\tlet order = Util.safeGet(handlerOptions, \"order\", 1000);\n\n\t\t// Register listener info\n\t\tlisteners[eventName].push({\"handler\":handler, \"options\":handlerOptions[\"options\"], \"bindTo\":bindTo, \"order\":order});\n\n\t\t// Stable sort by order\n\t\tlisteners[eventName].sort((a, b) => {\n\t\t\tif (a.order === b.order)\treturn 0;\n\t\t\telse if (a.order > b.order)\treturn 1;\n\t\t\telse \t\t\t\t\t\treturn -1\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove an event handler.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\teventName\t\t\tEvent name.\n\t * @param\t{HTMLElement}\telement\t\t\t\tHTML element.\n\t * @param\t{Object/Function/String}\thandlerInfo\tEvent handler info.\n\t */\n\tstatic _removeEventHandler(unit, eventName, handlerInfo, element)\n\t{\n\n\t\telement = element || unit;\n\n\t\t// Get handler\n\t\tlet handler = EventPerk.__getEventHandler(unit, handlerInfo);\n\t\tUtil.assert(handler, `EventPerk._removeEventHandler(): handler not found. name=${unit.tagName}, eventName=${eventName}`);\n\n\t\tlet listeners = Util.safeGet(element, `__bm_eventinfo.listeners.${eventName}`);\n\t\tif (listeners)\n\t\t{\n\t\t\tfor (let i = listeners.length - 1; i >= 0; i--)\n\t\t\t{\n\t\t\t\tif (listeners[i][\"handler\"] === handler)\n\t\t\t\t{\n\t\t\t\t\tlisteners.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set event handlers to the element.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\teventInfo\t\t\tEvent info.\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node of elements.\n\t */\n\tstatic _initEvents(unit, elementName, eventInfo, rootNode)\n\t{\n\n\t\teventInfo = ( eventInfo ? eventInfo : unit.get(\"setting\", `event.events.${elementName}`) );\n\n\t\t// Get target elements\n\t\tlet elements = EventPerk.__getTargetElements(unit, rootNode, elementName, eventInfo);\n\t\t//Util.warn(elements.length > 0, `EventPerk._initEvents: No elements for the event found. name=${unit.tagName}, elementName=${elementName}`);\n\n\t\t// Set event handlers\n\t\tObject.keys(eventInfo[\"handlers\"]).forEach((eventName) => {\n\t\t\tlet handlers = ( Array.isArray(eventInfo[\"handlers\"][eventName]) ? eventInfo[\"handlers\"][eventName] : [eventInfo[\"handlers\"][eventName]] );\n\t\t\tfor (let i = 0; i < handlers.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < elements.length; j++)\n\t\t\t\t{\n\t\t\t\t\tEventPerk._addEventHandler(unit, eventName, handlers[i], elements[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove event handlers from the element.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\teventInfo\t\t\tEvent info.\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node of elements.\n\t */\n\tstatic _removeEvents(unit, elementName, eventInfo, rootNode)\n\t{\n\n\t\teventInfo = ( eventInfo ? eventInfo : unit.get(\"setting\", `event.events.${elementName}`) );\n\n\t\t// Get target elements\n\t\tlet elements = EventPerk.__getTargetElements(unit, rootNode, elementName, eventInfo);\n\t\t//Util.warn(elements.length > 0, `EventPerk._removeEvents: No elements for the event found. name=${unit.tagName}, elementName=${elementName}`);\n\n\t\t// Remove event handlers\n\t\tObject.keys(eventInfo[\"handlers\"]).forEach((eventName) => {\n\t\t\tlet handlers = ( Array.isArray(eventInfo[\"handlers\"][eventName]) ? eventInfo[\"handlers\"][eventName] : [eventInfo[\"handlers\"][eventName]] );\n\t\t\tfor (let i = 0; i < handlers.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < elements.length; j++)\n\t\t\t\t{\n\t\t\t\t\tunit.removeEventHandler(eventName, handlers[i], elements[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Trigger the event synchronously.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\t\tUnit.\n\t * @param\t{String}\t\teventName\t\t\t\tEvent name to trigger.\n\t * @param\t{Object}\t\toptions\t\t\t\t\tEvent parameter options.\n\t * @param\t{HTMLElement}\telement\t\t\t\t\tHTML element.\n\t */\n\tstatic _trigger(unit, eventName, options, element)\n\t{\n\n\t\toptions = options || {};\n\t\telement = ( element ? element : unit );\n\n\t\telement.dispatchEvent(new CustomEvent(eventName, { detail: options }));\n\n\t\t// return the promise if exists\n\t\treturn Util.safeGet(element, `__bm_eventinfo.promises.${eventName}`) || Promise.resolve();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Trigger the event synchronously.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\t\tUnit.\n\t * @param\t{String}\t\teventName\t\t\t\tEvent name to trigger.\n\t * @param\t{Object}\t\toptions\t\t\t\t\tEvent parameter options.\n\t * @param\t{HTMLElement}\telement\t\t\t\t\tHTML element.\n\t */\n\tstatic _triggerSync(unit, eventName, options, element)\n\t{\n\n\t\toptions = options || {};\n\t\toptions[\"async\"] = true;\n\n\t\treturn EventPerk._trigger.call(unit, unit, eventName, options, element);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the event handler from the handler info object.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\t\tUnit.\n\t * @param\t{Object/Function/String}\thandlerInfo\tHandler info.\n\t */\n\tstatic __getEventHandler(unit, handlerInfo)\n\t{\n\n\t\tlet handler = ( typeof handlerInfo === \"object\" ? handlerInfo[\"handler\"] : handlerInfo );\n\n\t\treturn handler;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the target element is unit itself.\n\t *\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\telementInfo\t\t\tElement info.\n\t *\n\t * @return \t{Boolean}\t\tTarget node list.\n\t */\n\t\tstatic __isTargetSelf(elementName, eventInfo)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (elementName === \"this\" || eventInfo && eventInfo[\"rootNode\"] === \"this\")\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get target elements for the eventInfo.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node to search elements.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\telementInfo\t\t\tElement info.\n\t *\n\t * @return \t{Array}\t\t\tTarget node list.\n\t */\n\tstatic __getTargetElements(unit, rootNode, elementName, eventInfo)\n\t{\n\n\t\trootNode = rootNode || unit;\n\t\tlet elements;\n\n\t\tif (EventPerk.__isTargetSelf(elementName, eventInfo))\n\t\t{\n\t\t\t// Target is \"this\"\n\t\t\telements = [rootNode];\n\t\t}\n\t\telse if (eventInfo && eventInfo[\"rootNode\"])\n\t\t{\n\t\t\t// If eventInfo[\"rootNode\"] is specified, target is eventInfo[\"rootNode\"]\n\t\t\telements = Util.scopedSelectorAll(rootNode, eventInfo[\"rootNode\"]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Target is #elementName\n\t\t\telements = Util.scopedSelectorAll(rootNode, `#${elementName}`);\n\t\t}\n\n\t\treturn elements;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the given handler is already installed.\n\t *\n\t * @param\t{HTMLElement}\telement\t\t\t\tHTMLElement to check.\n\t * @param\t{String}\t\teventName\t\t\tEvent name.\n\t * @param\t{Function}\t\thandler\t\t\t\tEvent handler.\n\t *\n\t * @return \t{Boolean}\t\tTrue if already installed.\n\t */\n\tstatic __isHandlerInstalled(element, eventName, handler)\n\t{\n\n\t\tlet isInstalled = false;\n\t\tlet listeners = Util.safeGet(element.__bm_eventinfo, `listeners.${eventName}`);\n\n\t\tif (listeners)\n\t\t{\n\t\t\tfor (let i = 0; i < listeners.length; i++)\n\t\t\t{\n\t\t\t\tif (listeners[i][\"handler\"] === handler)\n\t\t\t\t{\n\t\t\t\t\tisInstalled = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn isInstalled;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call event handlers.\n\t *\n\t * This function is registered as event listener by element.addEventListener(),\n\t * so \"this\" is HTML element that triggered the event.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\t\tEvent parameter.\n\t */\n\tstatic __callEventHandler(e)\n\t{\n\n\t\tlet listeners = Util.safeGet(this, `__bm_eventinfo.listeners.${e.type}`);\n\t\tlet sender = Util.safeGet(e, \"detail.sender\", this);\n\t\tlet unit = Util.safeGet(this, \"__bm_eventinfo.unit\");\n\t\tlet templateStatuses = `__bm_eventinfo.statuses.${e.type}`;\n\t\tlet templatePromises = `__bm_eventinfo.promises.${e.type}`;\n\n\t\t// Check if handler is already running\n\t\t//Util.warn(Util.safeGet(this, templateStatuses) !== \"handling\", `EventPerk.__callEventHandler(): Event handler is already running. name=${this.tagName}, eventName=${e.type}`);\n\n\t\tUtil.safeSet(this, templateStatuses, \"handling\");\n\n\t\tif (Util.safeGet(e, \"detail.async\", false) === false)\n\t\t{\n\t\t\t// Async\n\t\t\tthis.__bm_eventinfo[\"promises\"][e.type] = EventPerk.__handle(e, sender, unit, listeners).then(() => {\n\t\t\t\tUtil.safeSet(this, templatePromises, null);\n\t\t\t\tUtil.safeSet(this, templateStatuses, \"\");\n\t\t\t}).catch((err) => {\n\t\t\t\tUtil.safeSet(this, templatePromises, null);\n\t\t\t\tUtil.safeSet(this, templateStatuses, \"\");\n\t\t\t\tthrow(err);\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Sync\n\t\t\ttry\n\t\t\t{\n\t\t\t\tthis.__bm_eventinfo[\"promises\"][e.type] = EventPerk.__handleSync(e, sender, unit, listeners);\n\t\t\t\tUtil.safeSet(this, templatePromises, null);\n\t\t\t\tUtil.safeSet(this, templateStatuses, \"\");\n\t\t\t}\n\t\t\tcatch (err)\n\t\t\t{\n\t\t\t\tUtil.safeSet(this, templatePromises, null);\n\t\t\t\tUtil.safeSet(this, templateStatuses, \"\");\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call event handlers.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\t\tEvent parameter.\n\t * @param\t{Object}\t\tsender\t\t\t\t\tSender object.\n\t * @param\t{Object}\t\tunit\t\t\t\t\tTarget unit.\n\t * @param\t{Object}\t\tlistener\t\t\t\tListers info.\n\t */\n\tstatic __handle(e, sender, unit, listeners)\n\t{\n\n\t\tlet chain = Promise.resolve();\n\t\tlet stopPropagation = false;\n\n\t\tfor (let i = 0; i < listeners.length; i++)\n\t\t{\n\t\t\t// Options set in addEventHandler()\n\t\t\tlet ex = {\n\t\t\t\t\"unit\": unit,\n\t\t\t\t\"options\": ( listeners[i][\"options\"] ? listeners[i][\"options\"] : {} )\n\t\t\t}\n\n\t\t\tchain = chain.then(() => {\n\t\t\t\t// Get the handler\n\t\t\t\tlet handler = listeners[i][\"handler\"];\n\t\t\t\thandler = ( typeof handler === \"string\" ? unit[handler] : handler );\n\t\t\t\tUtil.assert(typeof handler === \"function\", `EventPerk._addEventHandler(): Event handler is not a function. name=${unit.tagName}, eventName=${e.type}`, TypeError);\n\n\t\t\t\t// Execute the handler\n\t\t\t\tlet bindTo = ( listeners[i][\"bindTo\"] ? listeners[i][\"bindTo\"] : unit );\n\t\t\t\treturn handler.call(bindTo, sender, e, ex);\n\t\t\t});\n\n\t\t\tstopPropagation = (listeners[i][\"options\"] && listeners[i][\"options\"][\"stopPropagation\"] ? true : stopPropagation)\n\t\t}\n\n\t\tif (stopPropagation)\n\t\t{\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\treturn chain;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Call event handlers Synchronously.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\t\tEvent parameter.\n\t * @param\t{Object}\t\tsender\t\t\t\t\tSender object.\n\t * @param\t{Object}\t\tunit\t\t\t\t\tTarget unit.\n\t * @param\t{Object}\t\tlistener\t\t\t\tListers info.\n\t */\n\tstatic __handleSync(e, sender, unit, listeners)\n\t{\n\n\t\tlet stopPropagation = false;\n\n\t\tfor (let i = 0; i < listeners.length; i++)\n\t\t{\n\t\t\t// Options set on addEventHandler()\n\t\t\tlet ex = {\n\t\t\t\t\"unit\": unit,\n\t\t\t\t\"options\": ( listeners[i][\"options\"] ? listeners[i][\"options\"] : {} )\n\t\t\t}\n\n\t\t\t// Get the handler\n\t\t\tlet handler = listeners[i][\"handler\"];\n\t\t\thandler = ( typeof handler === \"string\" ? unit[handler] : handler );\n\t\t\tUtil.assert(typeof handler === \"function\", `EventPerk._addEventHandler(): Event handler is not a function. name=${unit.tagName}, eventName=${e.type}`, TypeError);\n\n\t\t\t// Execute handler\n\t\t\tlet bindTo = ( listeners[i][\"bindTo\"] ? listeners[i][\"bindTo\"] : unit );\n\t\t\thandler.call(bindTo, sender, e, ex);\n\n\t\t\tstopPropagation = (listeners[i][\"options\"] && listeners[i][\"options\"][\"stopPropagation\"] ? true : stopPropagation)\n\t\t}\n\n\t\tif (stopPropagation)\n\t\t{\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nwindow.BITSMIST = window.BITSMIST || {};\nwindow.BITSMIST.v1 = window.BITSMIST.v1 || {};\n\n// Util\n\nimport Util from \"./util/util.js\";\nwindow.BITSMIST.v1.Util = Util;\n\nimport ClassUtil from \"./util/class-util.js\";\nwindow.BITSMIST.v1.ClassUtil = ClassUtil;\n\nimport AjaxUtil from \"./util/ajax-util.js\";\nwindow.BITSMIST.v1.AjaxUtil = AjaxUtil;\n\nimport URLUtil from \"./util/url-util.js\";\nwindow.BITSMIST.v1.URLUtil = URLUtil;\n\n// Store\n\nimport Store from \"./store/store.js\";\nwindow.BITSMIST.v1.Store = Store;\n\nimport ChainableStore from \"./store/chainable-store.js\";\nwindow.BITSMIST.v1.ChainableStore = ChainableStore;\n\n// Unit\n\nimport Unit from \"./unit/unit.js\";\nwindow.BITSMIST.v1.Unit = Unit;\n\n// Perk\n\nimport Perk from \"./perk/perk.js\";\nwindow.BITSMIST.v1.Perk = Perk;\n\nimport BasicPerk from \"./perk/basic-perk.js\";\nwindow.BITSMIST.v1.BasicPerk = BasicPerk;\nPerkPerk.register(BasicPerk);\n\nimport PerkPerk from \"./perk/perk-perk.js\";\nwindow.BITSMIST.v1.PerkPerk = PerkPerk;\nPerkPerk.register(PerkPerk);\n\nimport SettingPerk from \"./perk/setting-perk.js\";\nwindow.BITSMIST.v1.SettingPerk = SettingPerk;\nPerkPerk.register(SettingPerk);\n\nimport StatusPerk from \"./perk/status-perk.js\";\nwindow.BITSMIST.v1.StatusPerk = StatusPerk;\nPerkPerk.register(StatusPerk);\n\nimport SkinPerk from \"./perk/skin-perk.js\";\nwindow.BITSMIST.v1.SkinPerk = SkinPerk;\nPerkPerk.register(SkinPerk);\n\nimport StylePerk from \"./perk/style-perk.js\";\nwindow.BITSMIST.v1.StylePerk = StylePerk;\nPerkPerk.register(StylePerk);\n\nimport EventPerk from \"./perk/event-perk.js\";\nwindow.BITSMIST.v1.EventPerk = EventPerk;\nPerkPerk.register(EventPerk);\n\nimport UnitPerk from \"./perk/unit-perk.js\";\nwindow.BITSMIST.v1.UnitPerk = UnitPerk;\nPerkPerk.register(UnitPerk);\n"],"names":[],"mappings":"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,CAAC,CAAC;AAC7B;CACA,EAAE;AACF;CACA;AACA;CACA;CACA;CACA;CACA,CAAC,wBAAwB,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ;CAClD,CAAC;AACD;CACA,EAAE,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAChE;CACA,EAAE;AACF;CACA,CAAC;AACD;CACA,cAAc,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC;;CCrEtC;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;AACA;CACA;CACA;CACA;AACA;CACe,MAAM,IAAI;CACzB;AACA;CACA;CACA;CACA;AACA;CACA;CACA;CACA;CACA;CACA;CACA,CAAC,WAAW,IAAI;CAChB,CAAC;AACD;CACA,EAAE,OAAO,EAAE,CAAC;AACZ;CACA,EAAE;AACF;CACA;CACA;CACA;AACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,CAAC,OAAO,UAAU;CAClB,CAAC;CACD,EAAE;AACF;CACA;AACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,CAAC,OAAO,IAAI,CAAC,IAAI,EAAE,OAAO;CAC1B,CAAC;CACD,EAAE;AACF;CACA;AACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,CAAC,OAAO,MAAM,CAAC,IAAI,EAAE,OAAO;CAC5B,CAAC;CACD,EAAE;AACF;CACA;AACA;CACA;CACA;CACA;CACA;CACA;CACA,CAAC,OAAO,SAAS;CACjB,CAAC;AACD;CACA,EAAE,OAAO,EAAE,CAAC;AACZ;CACA,EAAE;AACF;CACA;AACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,CAAC,OAAO,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO;CACzC,CAAC;AACD;CACA,EAAE,QAAQ,IAAI;CACd;CACA,GAAG,KAAK,OAAO;CACf,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;CACrC,IAAI,MAAM;C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"}